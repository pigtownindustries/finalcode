"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(dashboard)/dashboard/page",{

/***/ "(app-pages-browser)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addEmployee: () => (/* binding */ addEmployee),\n/* harmony export */   addPointTransaction: () => (/* binding */ addPointTransaction),\n/* harmony export */   broadcastTransactionEvent: () => (/* binding */ broadcastTransactionEvent),\n/* harmony export */   checkServiceStock: () => (/* binding */ checkServiceStock),\n/* harmony export */   createAttendanceRecord: () => (/* binding */ createAttendanceRecord),\n/* harmony export */   createBranchShift: () => (/* binding */ createBranchShift),\n/* harmony export */   createExpenseRequest: () => (/* binding */ createExpenseRequest),\n/* harmony export */   createKasbonRequest: () => (/* binding */ createKasbonRequest),\n/* harmony export */   createTransaction: () => (/* binding */ createTransaction),\n/* harmony export */   createTransactionItems: () => (/* binding */ createTransactionItems),\n/* harmony export */   deleteEmployee: () => (/* binding */ deleteEmployee),\n/* harmony export */   deleteExpenseRequest: () => (/* binding */ deleteExpenseRequest),\n/* harmony export */   generateTransactionNumber: () => (/* binding */ generateTransactionNumber),\n/* harmony export */   getAbsentEmployeesToday: () => (/* binding */ getAbsentEmployeesToday),\n/* harmony export */   getActiveReceiptTemplate: () => (/* binding */ getActiveReceiptTemplate),\n/* harmony export */   getAllAttendanceRecords: () => (/* binding */ getAllAttendanceRecords),\n/* harmony export */   getAllExpensesWithDetails: () => (/* binding */ getAllExpensesWithDetails),\n/* harmony export */   getApprovedExpenses: () => (/* binding */ getApprovedExpenses),\n/* harmony export */   getAttendanceByDate: () => (/* binding */ getAttendanceByDate),\n/* harmony export */   getBranchShifts: () => (/* binding */ getBranchShifts),\n/* harmony export */   getBranches: () => (/* binding */ getBranches),\n/* harmony export */   getCurrentUser: () => (/* binding */ getCurrentUser),\n/* harmony export */   getDetailedAttendanceRecords: () => (/* binding */ getDetailedAttendanceRecords),\n/* harmony export */   getEmployeeAbsenceInfo: () => (/* binding */ getEmployeeAbsenceInfo),\n/* harmony export */   getEmployeeAttendance: () => (/* binding */ getEmployeeAttendance),\n/* harmony export */   getEmployeeAttendanceWithPhotos: () => (/* binding */ getEmployeeAttendanceWithPhotos),\n/* harmony export */   getEmployeeCommissions: () => (/* binding */ getEmployeeCommissions),\n/* harmony export */   getEmployeePhotos: () => (/* binding */ getEmployeePhotos),\n/* harmony export */   getEmployeeStats: () => (/* binding */ getEmployeeStats),\n/* harmony export */   getEmployees: () => (/* binding */ getEmployees),\n/* harmony export */   getExpenseStatistics: () => (/* binding */ getExpenseStatistics),\n/* harmony export */   getExpenseStatisticsByBranch: () => (/* binding */ getExpenseStatisticsByBranch),\n/* harmony export */   getExpenses: () => (/* binding */ getExpenses),\n/* harmony export */   getExpensesByStatus: () => (/* binding */ getExpensesByStatus),\n/* harmony export */   getKasbonRequests: () => (/* binding */ getKasbonRequests),\n/* harmony export */   getKasbonStatistics: () => (/* binding */ getKasbonStatistics),\n/* harmony export */   getLowStockAlerts: () => (/* binding */ getLowStockAlerts),\n/* harmony export */   getOutletStock: () => (/* binding */ getOutletStock),\n/* harmony export */   getOwnerPin: () => (/* binding */ getOwnerPin),\n/* harmony export */   getPointTransactions: () => (/* binding */ getPointTransactions),\n/* harmony export */   getPointsStatistics: () => (/* binding */ getPointsStatistics),\n/* harmony export */   getReceiptTemplate: () => (/* binding */ getReceiptTemplate),\n/* harmony export */   getServiceCategories: () => (/* binding */ getServiceCategories),\n/* harmony export */   getServicesWithCategories: () => (/* binding */ getServicesWithCategories),\n/* harmony export */   getUserPoints: () => (/* binding */ getUserPoints),\n/* harmony export */   getUsersWithKasbon: () => (/* binding */ getUsersWithKasbon),\n/* harmony export */   getUsersWithPoints: () => (/* binding */ getUsersWithPoints),\n/* harmony export */   loadBranchData: () => (/* binding */ loadBranchData),\n/* harmony export */   loadBranchesData: () => (/* binding */ loadBranchesData),\n/* harmony export */   processTransaction: () => (/* binding */ processTransaction),\n/* harmony export */   reduceOutletStock: () => (/* binding */ reduceOutletStock),\n/* harmony export */   reduceServiceStock: () => (/* binding */ reduceServiceStock),\n/* harmony export */   setupEmployeeRealtime: () => (/* binding */ setupEmployeeRealtime),\n/* harmony export */   setupGlobalEventsListener: () => (/* binding */ setupGlobalEventsListener),\n/* harmony export */   setupKomisiRealtime: () => (/* binding */ setupKomisiRealtime),\n/* harmony export */   setupTransactionsRealtime: () => (/* binding */ setupTransactionsRealtime),\n/* harmony export */   subscribeToEvents: () => (/* binding */ subscribeToEvents),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   testSupabaseConnection: () => (/* binding */ testSupabaseConnection),\n/* harmony export */   updateAttendanceRecord: () => (/* binding */ updateAttendanceRecord),\n/* harmony export */   updateEmployee: () => (/* binding */ updateEmployee),\n/* harmony export */   updateExpenseRequest: () => (/* binding */ updateExpenseRequest),\n/* harmony export */   updateExpenseStatus: () => (/* binding */ updateExpenseStatus),\n/* harmony export */   updateKasbonStatus: () => (/* binding */ updateKasbonStatus),\n/* harmony export */   updateMaxAbsentDays: () => (/* binding */ updateMaxAbsentDays),\n/* harmony export */   updateOutletStock: () => (/* binding */ updateOutletStock),\n/* harmony export */   updateServiceStock: () => (/* binding */ updateServiceStock),\n/* harmony export */   updateUserPin: () => (/* binding */ updateUserPin),\n/* harmony export */   uploadPhotoToSupabase: () => (/* binding */ uploadPhotoToSupabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(app-pages-browser)/./node_modules/.pnpm/@supabase+supabase-js@2.55.0/node_modules/@supabase/supabase-js/dist/module/index.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.2.4_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/polyfills/process.js\");\n\n// =============================\n// Konfigurasi Supabase\n// =============================\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || \"https://tkrrjvcgviwnliinovik.supabase.co\";\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRrcnJqdmNndml3bmxpaW5vdmlrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxMDE4MjQsImV4cCI6MjA3MDY3NzgyNH0.uf7R06Gd6Mgf_3Zv3Q184HWPqzo6kbrfhQ1BkkdM9iM\";\nif (!supabaseUrl) {\n    throw new Error(\"Missing NEXT_PUBLIC_SUPABASE_URL environment variable.\");\n}\nif (!supabaseAnonKey) {\n    throw new Error(\"Missing NEXT_PUBLIC_SUPABASE_ANON_KEY environment variable.\");\n}\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey, {\n    auth: {\n        persistSession: true,\n        autoRefreshToken: true\n    },\n    realtime: {\n        params: {\n            eventsPerSecond: 10\n        }\n    },\n    global: {\n        headers: {\n            'x-application-name': 'pigtown-barbershop'\n        }\n    }\n});\nconst testSupabaseConnection = async ()=>{\n    try {\n        const { data, error } = await supabase.from(\"points\").select('*, users!inner(name, branch_id, branches:branch_id(name))');\n        if (error) {\n            console.error(\"Supabase connection test failed:\", error);\n            return false;\n        }\n        console.log(\"Supabase connection successful\");\n        return true;\n    } catch (error) {\n        console.error(\"Supabase connection error:\", error);\n        return false;\n    }\n};\n// =============================\n// ðŸ”¥ FUNGSI BARU: Hitung Hari Kerja\n// =============================\nfunction getBusinessDaysCount(startDate, endDate) {\n    let count = 0;\n    const curDate = new Date(startDate.getTime());\n    while(curDate <= endDate){\n        const dayOfWeek = curDate.getDay();\n        // 0 = Minggu, 6 = Sabtu (tidak dihitung sebagai hari kerja)\n        if (dayOfWeek !== 0 && dayOfWeek !== 6) {\n            count++;\n        }\n        curDate.setDate(curDate.getDate() + 1);\n    }\n    return count;\n}\nasync function getBranchShifts(branchId) {\n    console.log(\"[v0] getBranchShifts called with branchId:\", branchId);\n    const { data, error } = await supabase.from(\"branch_shifts\").select(\"*\").eq(\"branch_id\", branchId).eq(\"is_active\", true).order(\"start_time\");\n    console.log(\"[v0] Branch shifts result:\", {\n        data,\n        error\n    });\n    if (error || !data || data.length === 0) {\n        console.log(\"[v0] No shifts found, returning default shifts\");\n        return {\n            data: [\n                {\n                    id: \"default-pagi-\".concat(branchId),\n                    branch_id: branchId,\n                    shift_name: \"Shift Pagi\",\n                    shift_type: \"pagi\",\n                    start_time: \"08:00\",\n                    end_time: \"16:00\",\n                    is_active: true,\n                    created_at: new Date().toISOString()\n                },\n                {\n                    id: \"default-siang-\".concat(branchId),\n                    branch_id: branchId,\n                    shift_name: \"Shift Siang\",\n                    shift_type: \"siang\",\n                    start_time: \"12:00\",\n                    end_time: \"20:00\",\n                    is_active: true,\n                    created_at: new Date().toISOString()\n                },\n                {\n                    id: \"default-malam-\".concat(branchId),\n                    branch_id: branchId,\n                    shift_name: \"Shift Malam\",\n                    shift_type: \"malam\",\n                    start_time: \"20:00\",\n                    end_time: \"04:00\",\n                    is_active: true,\n                    created_at: new Date().toISOString()\n                }\n            ],\n            error: null\n        };\n    }\n    return {\n        data,\n        error: null\n    };\n}\nasync function createBranchShift(shiftData) {\n    console.log(\"[v0] createBranchShift called with:\", shiftData);\n    const shiftToInsert = {\n        ...shiftData,\n        created_at: new Date().toISOString()\n    };\n    const { data, error } = await supabase.from(\"branch_shifts\").insert([\n        shiftToInsert\n    ]).select().single();\n    console.log(\"[v0] Create branch shift result:\", {\n        data,\n        error\n    });\n    return error ? {\n        data: null,\n        error\n    } : {\n        data,\n        error: null\n    };\n}\n// =============================\n// Fungsi helper Attendance\n// =============================\nasync function uploadPhotoToSupabase(base64, filename) {\n    try {\n        function base64ToBlob(base64Data) {\n            let contentType = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"image/jpeg\";\n            const byteCharacters = atob(base64Data.split(\",\")[1]);\n            const byteArrays = [];\n            for(let offset = 0; offset < byteCharacters.length; offset += 512){\n                const slice = byteCharacters.slice(offset, offset + 512);\n                const byteNumbers = new Array(slice.length);\n                for(let i = 0; i < slice.length; i++)byteNumbers[i] = slice.charCodeAt(i);\n                byteArrays.push(new Uint8Array(byteNumbers));\n            }\n            return new Blob(byteArrays, {\n                type: contentType\n            });\n        }\n        const blob = base64ToBlob(base64);\n        const { error } = await supabase.storage.from(\"attendance-photos\").upload(filename, blob, {\n            cacheControl: \"3600\",\n            upsert: true,\n            contentType: \"image/jpeg\"\n        });\n        if (error) throw error;\n        const { data: publicUrlData } = supabase.storage.from(\"attendance-photos\").getPublicUrl(filename);\n        return (publicUrlData === null || publicUrlData === void 0 ? void 0 : publicUrlData.publicUrl) || null;\n    } catch (error) {\n        console.error(\"Photo upload failed:\", error);\n        return null;\n    }\n}\nasync function createAttendanceRecord(attendanceData) {\n    const { data, error } = await supabase.from(\"attendance\").insert([\n        attendanceData\n    ]).select().single();\n    return error ? {\n        data: null,\n        error\n    } : {\n        data,\n        error: null\n    };\n}\nasync function updateAttendanceRecord(id, updates) {\n    const { data, error } = await supabase.from(\"attendance\").update({\n        ...updates,\n        updated_at: new Date().toISOString()\n    }).eq(\"id\", id).select().single();\n    return error ? {\n        data: null,\n        error\n    } : {\n        data,\n        error: null\n    };\n}\nasync function getAttendanceByDate(userId, date) {\n    const { data, error } = await supabase.from(\"attendance\").select(\"*\").eq(\"user_id\", userId).eq(\"date\", date).single();\n    return error && error.code !== \"PGRST116\" ? {\n        data: null,\n        error\n    } : {\n        data,\n        error: null\n    };\n}\nasync function getAllAttendanceRecords(branchId) {\n    let query = supabase.from(\"attendance\").select(\"*,\\n      users:user_id ( id, name, email ),\\n      branches:branch_id ( id, name )\\n    \").order(\"date\", {\n        ascending: false\n    }).order(\"created_at\", {\n        ascending: false\n    });\n    if (branchId) query = query.eq(\"branch_id\", branchId);\n    const { data, error } = await query;\n    return error ? {\n        data: [],\n        error\n    } : {\n        data: data || [],\n        error: null\n    };\n}\n// =============================\n// Fungsi helper POS\n// =============================\nasync function getServicesWithCategories() {\n    const { data, error } = await supabase.from(\"services\").select(\"*,\\n    service_categories ( id, name, description )\\n  \").order(\"name\");\n    return error ? {\n        data: [],\n        error\n    } : {\n        data: data || [],\n        error: null\n    };\n}\nasync function getServiceCategories() {\n    const { data, error } = await supabase.from(\"service_categories\").select(\"*\").order(\"name\");\n    return error ? {\n        data: [],\n        error\n    } : {\n        data: data || [],\n        error: null\n    };\n}\nasync function createTransaction(transactionData) {\n    const transactionNumber = await generateTransactionNumber();\n    let { cashier_id, branch_id, server_id } = transactionData;\n    // Get cashier, branch, server data untuk snapshot\n    let cashierName = 'Unknown';\n    let branchName = 'Unknown';\n    let serverName;\n    if (!cashier_id) {\n        const { data: users } = await supabase.from(\"users\").select(\"id, name\").limit(1).single();\n        cashier_id = users === null || users === void 0 ? void 0 : users.id;\n        cashierName = (users === null || users === void 0 ? void 0 : users.name) || 'Unknown';\n    } else {\n        const { data: cashier } = await supabase.from(\"users\").select(\"name\").eq(\"id\", cashier_id).single();\n        cashierName = (cashier === null || cashier === void 0 ? void 0 : cashier.name) || 'Unknown';\n    }\n    if (!branch_id) {\n        const { data: branches } = await supabase.from(\"branches\").select(\"id, name\").limit(1).single();\n        branch_id = branches === null || branches === void 0 ? void 0 : branches.id;\n        branchName = (branches === null || branches === void 0 ? void 0 : branches.name) || 'Unknown';\n    } else {\n        const { data: branch } = await supabase.from(\"branches\").select(\"name\").eq(\"id\", branch_id).single();\n        branchName = (branch === null || branch === void 0 ? void 0 : branch.name) || 'Unknown';\n    }\n    if (server_id) {\n        const { data: server } = await supabase.from(\"users\").select(\"name\").eq(\"id\", server_id).single();\n        serverName = server === null || server === void 0 ? void 0 : server.name;\n    }\n    const transactionToInsert = {\n        ...transactionData,\n        transaction_number: transactionNumber,\n        receipt_number: transactionNumber,\n        cashier_id,\n        cashier_name: cashierName,\n        branch_id,\n        branch_name: branchName,\n        server_id,\n        server_name: serverName,\n        subtotal: transactionData.subtotal || transactionData.total_amount || 0,\n        payment_status: transactionData.payment_status || \"completed\",\n        payment_method: transactionData.payment_method || \"cash\",\n        total_amount: transactionData.total_amount || 0,\n        discount_amount: transactionData.discount_amount || 0,\n        created_at: new Date().toISOString()\n    };\n    const { data, error } = await supabase.from(\"transactions\").insert([\n        transactionToInsert\n    ]).select().single();\n    return error ? {\n        data: null,\n        error\n    } : {\n        data,\n        error: null\n    };\n}\nasync function createTransactionItems(items) {\n    // Enrich items dengan snapshot data dari services\n    const enrichedItems = await Promise.all(items.map(async (item)=>{\n        if (item.service_id) {\n            var _service_service_categories;\n            const { data: service } = await supabase.from(\"services\").select(\"name, type, service_categories(name)\").eq(\"id\", item.service_id).single();\n            return {\n                ...item,\n                service_name: (service === null || service === void 0 ? void 0 : service.name) || 'Unknown Service',\n                service_type: service === null || service === void 0 ? void 0 : service.type,\n                service_category: service === null || service === void 0 ? void 0 : (_service_service_categories = service.service_categories) === null || _service_service_categories === void 0 ? void 0 : _service_service_categories.name\n            };\n        }\n        return item;\n    }));\n    const { data, error } = await supabase.from(\"transaction_items\").insert(enrichedItems).select();\n    return error ? {\n        data: [],\n        error\n    } : {\n        data: data || [],\n        error: null\n    };\n}\nasync function getReceiptTemplate(branchId) {\n    let query = supabase.from(\"receipt_templates\").select(\"*\");\n    if (branchId) query = query.eq(\"branch_id\", branchId);\n    const { data, error } = await query.single();\n    return error && error.code !== \"PGRST116\" ? {\n        data: null,\n        error\n    } : {\n        data,\n        error: null\n    };\n}\nasync function getActiveReceiptTemplate(branchId) {\n    // Priority 1: Try to get active template (is_active = true)\n    let query = supabase.from(\"receipt_templates\").select(\"*\").eq(\"is_active\", true);\n    if (branchId) query = query.eq(\"branch_id\", branchId);\n    const { data: activeData, error: activeError } = await query.single();\n    if (activeData && !activeError) {\n        return {\n            data: activeData,\n            error: null\n        };\n    }\n    // Priority 2: If no active template, get default template (is_default = true)\n    let defaultQuery = supabase.from(\"receipt_templates\").select(\"*\").eq(\"is_default\", true);\n    if (branchId) defaultQuery = defaultQuery.eq(\"branch_id\", branchId);\n    const { data: defaultData, error: defaultError } = await defaultQuery.single();\n    if (defaultData && !defaultError) {\n        return {\n            data: defaultData,\n            error: null\n        };\n    }\n    // Priority 3: Fallback to any template\n    return await getReceiptTemplate(branchId);\n}\nasync function getBranches() {\n    const { data, error } = await supabase.from(\"branches\").select(\"*\").order(\"name\");\n    return error ? {\n        data: [],\n        error\n    } : {\n        data: data || [],\n        error: null\n    };\n}\nasync function generateTransactionNumber() {\n    try {\n        const { data, error } = await supabase.rpc(\"generate_receipt_number\");\n        if (!error && data) return data;\n        const today = new Date();\n        const dateStr = today.toISOString().slice(0, 10).replace(/-/g, \"\");\n        const { data: transactions } = await supabase.from(\"transactions\").select(\"transaction_number\").gte(\"created_at\", \"\".concat(today.toISOString().slice(0, 10), \"T00:00:00.000Z\")).lt(\"created_at\", \"\".concat(today.toISOString().slice(0, 10), \"T23:59:59.999Z\"));\n        const counter = ((transactions === null || transactions === void 0 ? void 0 : transactions.length) || 0) + 1;\n        return \"\".concat(dateStr).concat(counter.toString().padStart(3, \"0\"));\n    } catch (e) {\n        return \"\".concat(Date.now());\n    }\n}\n// =============================\n// Fungsi helper Stock Management\n// =============================\nasync function checkServiceStock(serviceId) {\n    const { data, error } = await supabase.from(\"services\").select(\"stock\").eq(\"id\", serviceId).single();\n    return error ? 0 : (data === null || data === void 0 ? void 0 : data.stock) || 0;\n}\nasync function reduceServiceStock(serviceId, quantity) {\n    const { data: currentService, error: fetchError } = await supabase.from(\"services\").select(\"stock\").eq(\"id\", serviceId).single();\n    if (fetchError) return {\n        data: null,\n        error: fetchError\n    };\n    const currentStock = currentService.stock || 0;\n    const newStock = Math.max(0, currentStock - quantity);\n    const { data, error } = await supabase.from(\"services\").update({\n        stock: newStock\n    }).eq(\"id\", serviceId).select(\"stock\").single();\n    return error ? {\n        data: null,\n        error\n    } : {\n        data,\n        error: null\n    };\n}\nasync function updateServiceStock(serviceId, newStock) {\n    const { data, error } = await supabase.from(\"services\").update({\n        stock: newStock,\n        updated_at: new Date().toISOString()\n    }).eq(\"id\", serviceId).select().single();\n    return error ? {\n        data: null,\n        error\n    } : {\n        data,\n        error: null\n    };\n}\n// =============================\n// Fungsi helper Points System\n// =============================\nasync function getUsersWithPoints(branchId) {\n    console.log(\"[v1] getUsersWithPoints called with branchId:\", branchId);\n    let usersQuery = supabase.from(\"users\").select(\"*, branches:branch_id(name)\").order(\"name\");\n    if (branchId && branchId !== \"all\") {\n        usersQuery = usersQuery.eq(\"branch_id\", branchId);\n    }\n    const { data: users, error: usersError } = await usersQuery;\n    if (usersError) return {\n        data: [],\n        error: usersError\n    };\n    if (!users) return {\n        data: [],\n        error: null\n    };\n    const { data: allPoints, error: pointsError } = await supabase.from(\"points\").select(\"user_id, points_earned, created_at\");\n    if (pointsError) return {\n        data: [],\n        error: pointsError\n    };\n    const usersWithCalculatedPoints = users.map((user)=>{\n        const userPoints = (allPoints === null || allPoints === void 0 ? void 0 : allPoints.filter((point)=>point.user_id === user.id)) || [];\n        const totalPoints = userPoints.reduce((sum, point)=>sum + (point.points_earned || 0), 0);\n        const currentMonth = new Date().getMonth();\n        const currentYear = new Date().getFullYear();\n        const monthlyPoints = userPoints.reduce((sum, point)=>{\n            const pointDate = new Date(point.created_at);\n            if (pointDate.getMonth() === currentMonth && pointDate.getFullYear() === currentYear) {\n                return sum + (point.points_earned || 0);\n            }\n            return sum;\n        }, 0);\n        return {\n            ...user,\n            total_points: totalPoints,\n            monthly_points: monthlyPoints\n        };\n    });\n    const sortedUsers = usersWithCalculatedPoints.sort((a, b)=>(b.total_points || 0) - (a.total_points || 0)).map((user, index)=>({\n            ...user,\n            rank: index + 1\n        }));\n    console.log(\"[v1] Final sorted users:\", sortedUsers);\n    return {\n        data: sortedUsers,\n        error: null\n    };\n}\nasync function getPointsStatistics(branchId) {\n    const { data: users, error } = await getUsersWithPoints(branchId);\n    if (error) return {\n        data: null,\n        error\n    };\n    const totalEmployees = users.length;\n    const topPerformer = users[0] || null;\n    const totalPoints = users.reduce((sum, user)=>sum + (user.total_points || 0), 0);\n    const averagePoints = totalEmployees > 0 ? Math.round(totalPoints / totalEmployees) : 0;\n    return {\n        data: {\n            totalEmployees,\n            topPerformer,\n            averagePoints,\n            totalPoints\n        },\n        error: null\n    };\n}\nasync function getPointTransactions(branchId) {\n    let limit = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 50;\n    console.log(\"[v3 Final] getPointTransactions called with branchId:\", branchId);\n    try {\n        // First, get point transactions\n        let query = supabase.from(\"points\").select(\"*\").order(\"created_at\", {\n            ascending: false\n        }).limit(limit);\n        if (branchId && branchId !== \"all\") {\n            // Filter by user's branch_id\n            const { data: usersInBranch, error: usersError } = await supabase.from(\"users\").select(\"id\").eq(\"branch_id\", branchId);\n            if (usersError) {\n                console.error(\"Error fetching users in branch:\", usersError);\n                return {\n                    data: [],\n                    error: usersError\n                };\n            }\n            if (usersInBranch && usersInBranch.length > 0) {\n                const userIds = usersInBranch.map((u)=>u.id);\n                query = query.in(\"user_id\", userIds);\n            } else {\n                // No users in this branch, return empty\n                console.log(\"No users found in branch:\", branchId);\n                return {\n                    data: [],\n                    error: null\n                };\n            }\n        }\n        const { data: pointsData, error } = await query;\n        if (error) {\n            console.error(\"Error fetching point transactions:\", error);\n            console.error(\"Error details:\", JSON.stringify(error, null, 2));\n            console.error(\"Error code:\", error.code);\n            console.error(\"Error message:\", error.message);\n            return {\n                data: [],\n                error\n            };\n        }\n        if (!pointsData || pointsData.length === 0) {\n            console.log(\"No point transactions found\");\n            return {\n                data: [],\n                error: null\n            };\n        }\n        // Get user details for all points\n        const userIds = [\n            ...new Set(pointsData.map((p)=>p.user_id).filter(Boolean))\n        ];\n        let usersMap = {};\n        if (userIds.length > 0) {\n            const { data: users } = await supabase.from(\"users\").select(\"id, name, branch_id\").in(\"id\", userIds);\n            if (users) {\n                usersMap = users.reduce((acc, u)=>({\n                        ...acc,\n                        [u.id]: u\n                    }), {});\n            }\n        }\n        // Get all unique branch_ids\n        const branchIds = [\n            ...new Set(Object.values(usersMap).map((u)=>u.branch_id).filter(Boolean))\n        ];\n        // Fetch branch details\n        let branchesMap = {};\n        if (branchIds.length > 0) {\n            const { data: branches } = await supabase.from(\"branches\").select(\"id, name\").in(\"id\", branchIds);\n            if (branches) {\n                branchesMap = branches.reduce((acc, b)=>({\n                        ...acc,\n                        [b.id]: b\n                    }), {});\n            }\n        }\n        // Merge user and branch info into points\n        const enrichedData = pointsData === null || pointsData === void 0 ? void 0 : pointsData.map((point)=>{\n            var _usersMap_point_user_id;\n            return {\n                ...point,\n                users: point.user_id ? {\n                    ...usersMap[point.user_id],\n                    branches: ((_usersMap_point_user_id = usersMap[point.user_id]) === null || _usersMap_point_user_id === void 0 ? void 0 : _usersMap_point_user_id.branch_id) ? branchesMap[usersMap[point.user_id].branch_id] : null\n                } : null\n            };\n        });\n        console.log(\"Point transactions fetched successfully:\", (enrichedData === null || enrichedData === void 0 ? void 0 : enrichedData.length) || 0, \"records\");\n        return {\n            data: enrichedData || [],\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Unexpected error in getPointTransactions:\", error);\n        return {\n            data: [],\n            error: error\n        };\n    }\n}\nasync function addPointTransaction(pointData) {\n    const { data, error } = await supabase.from(\"points\").insert([\n        {\n            ...pointData,\n            created_at: new Date().toISOString()\n        }\n    ]).select().single();\n    return error ? {\n        data: null,\n        error\n    } : {\n        data,\n        error: null\n    };\n}\nasync function getUserPoints(userId) {\n    const { data, error } = await supabase.from(\"points\").select(\"*\").eq(\"user_id\", userId).order(\"created_at\", {\n        ascending: false\n    });\n    return error ? {\n        data: [],\n        error\n    } : {\n        data: data || [],\n        error: null\n    };\n}\n// =============================\n// Kasbon Functions\n// =============================\nasync function getKasbonRequests(branchId, statusFilter) {\n    console.log(\"[v0] getKasbonRequests called with:\", {\n        branchId,\n        statusFilter\n    });\n    try {\n        // First, get kasbon requests\n        let query = supabase.from(\"kasbon\").select(\"*\").order(\"created_at\", {\n            ascending: false\n        });\n        if (branchId && branchId !== \"all\") {\n            // Filter by user's branch_id\n            const { data: usersInBranch, error: usersError } = await supabase.from(\"users\").select(\"id\").eq(\"branch_id\", branchId);\n            if (usersError) {\n                console.error(\"Error fetching users in branch:\", usersError);\n                return {\n                    data: [],\n                    error: usersError\n                };\n            }\n            if (usersInBranch && usersInBranch.length > 0) {\n                const userIds = usersInBranch.map((u)=>u.id);\n                query = query.in(\"user_id\", userIds);\n            } else {\n                console.log(\"No users found in branch:\", branchId);\n                return {\n                    data: [],\n                    error: null\n                };\n            }\n        }\n        if (statusFilter && statusFilter !== \"all\") {\n            query = query.eq(\"status\", statusFilter);\n        }\n        const { data: kasbonData, error } = await query;\n        if (error) {\n            console.error(\"[v0] Kasbon requests error:\", error);\n            return {\n                data: [],\n                error\n            };\n        }\n        if (!kasbonData || kasbonData.length === 0) {\n            console.log(\"[v0] No kasbon requests found\");\n            return {\n                data: [],\n                error: null\n            };\n        }\n        // Get user details\n        const userIds = [\n            ...new Set(kasbonData.map((k)=>k.user_id).filter(Boolean))\n        ];\n        let usersMap = {};\n        if (userIds.length > 0) {\n            const { data: users } = await supabase.from(\"users\").select(\"id, name, email, position, branch_id\").in(\"id\", userIds);\n            if (users) {\n                usersMap = users.reduce((acc, u)=>({\n                        ...acc,\n                        [u.id]: u\n                    }), {});\n            }\n        }\n        // Get approver details\n        const approverIds = [\n            ...new Set(kasbonData.map((k)=>k.approved_by).filter(Boolean))\n        ];\n        let approversMap = {};\n        if (approverIds.length > 0) {\n            const { data: approvers } = await supabase.from(\"users\").select(\"id, name\").in(\"id\", approverIds);\n            if (approvers) {\n                approversMap = approvers.reduce((acc, u)=>({\n                        ...acc,\n                        [u.id]: u\n                    }), {});\n            }\n        }\n        // Merge user and approver info\n        const enrichedData = kasbonData.map((kasbon)=>({\n                ...kasbon,\n                user: kasbon.user_id ? usersMap[kasbon.user_id] : null,\n                approver: kasbon.approved_by ? approversMap[kasbon.approved_by] : null\n            }));\n        console.log(\"[v0] Kasbon requests result:\", (enrichedData === null || enrichedData === void 0 ? void 0 : enrichedData.length) || 0, \"records\");\n        return {\n            data: enrichedData || [],\n            error: null\n        };\n    } catch (error) {\n        console.error(\"[v0] Unexpected error in getKasbonRequests:\", error);\n        return {\n            data: [],\n            error: error\n        };\n    }\n}\nasync function getKasbonStatistics(branchId) {\n    console.log(\"[v0] getKasbonStatistics called with branchId:\", branchId);\n    try {\n        let query = supabase.from(\"kasbon\").select(\"amount, status, user_id\");\n        if (branchId && branchId !== \"all\") {\n            // Filter by user's branch_id\n            const { data: usersInBranch, error: usersError } = await supabase.from(\"users\").select(\"id\").eq(\"branch_id\", branchId);\n            if (usersError) {\n                console.error(\"Error fetching users in branch:\", usersError);\n                return {\n                    data: {\n                        pendingAmount: 0,\n                        approvedAmount: 0,\n                        totalPaid: 0,\n                        activeEmployees: 0\n                    },\n                    error: usersError\n                };\n            }\n            if (usersInBranch && usersInBranch.length > 0) {\n                const userIds = usersInBranch.map((u)=>u.id);\n                query = query.in(\"user_id\", userIds);\n            } else {\n                return {\n                    data: {\n                        pendingAmount: 0,\n                        approvedAmount: 0,\n                        totalPaid: 0,\n                        activeEmployees: 0\n                    },\n                    error: null\n                };\n            }\n        }\n        const { data, error } = await query;\n        if (error) {\n            console.log(\"[v0] Error fetching kasbon statistics:\", error);\n            return {\n                data: {\n                    pendingAmount: 0,\n                    approvedAmount: 0,\n                    totalPaid: 0,\n                    activeEmployees: 0\n                },\n                error\n            };\n        }\n        const pendingAmount = (data === null || data === void 0 ? void 0 : data.filter((k)=>k.status === \"pending\").reduce((sum, k)=>sum + (k.amount || 0), 0)) || 0;\n        const approvedAmount = (data === null || data === void 0 ? void 0 : data.filter((k)=>k.status === \"approved\").reduce((sum, k)=>sum + (k.amount || 0), 0)) || 0;\n        const totalPaid = (data === null || data === void 0 ? void 0 : data.filter((k)=>k.status === \"paid\").reduce((sum, k)=>sum + (k.amount || 0), 0)) || 0;\n        const { data: usersData } = await supabase.from(\"users\").select(\"id\").eq(\"status\", \"active\");\n        const activeEmployees = (usersData === null || usersData === void 0 ? void 0 : usersData.length) || 0;\n        const statistics = {\n            pendingAmount,\n            approvedAmount,\n            totalPaid,\n            activeEmployees\n        };\n        console.log(\"[v0] Kasbon statistics result:\", statistics);\n        return {\n            data: statistics,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"[v0] Unexpected error in getKasbonStatistics:\", error);\n        return {\n            data: {\n                pendingAmount: 0,\n                approvedAmount: 0,\n                totalPaid: 0,\n                activeEmployees: 0\n            },\n            error: error\n        };\n    }\n}\nasync function getUsersWithKasbon(branchId) {\n    console.log(\"[v0] getUsersWithKasbon called with branchId:\", branchId);\n    let query = supabase.from(\"users\").select(\"*\").order(\"name\");\n    if (branchId && branchId !== \"all\") {\n        query = query.eq(\"branch_id\", branchId);\n    }\n    const { data: users, error: usersError } = await query;\n    if (usersError) return {\n        data: [],\n        error: usersError\n    };\n    const { data: allKasbon, error: kasbonError } = await supabase.from(\"kasbon\").select(\"*\").order(\"created_at\", {\n        ascending: false\n    });\n    if (kasbonError) {\n        console.log(\"[v0] Kasbon error, returning users without kasbon data:\", kasbonError);\n        const usersWithoutKasbon = (users === null || users === void 0 ? void 0 : users.map((user)=>({\n                ...user,\n                total_kasbon: 0,\n                active_kasbon: 0,\n                kasbon_history: []\n            }))) || [];\n        return {\n            data: usersWithoutKasbon,\n            error: null\n        };\n    }\n    const usersWithKasbonData = (users === null || users === void 0 ? void 0 : users.map((user)=>{\n        const userKasbon = (allKasbon === null || allKasbon === void 0 ? void 0 : allKasbon.filter((kasbon)=>kasbon.user_id === user.id)) || [];\n        const totalKasbon = userKasbon.reduce((sum, kasbon)=>sum + (kasbon.amount || 0), 0);\n        const activeKasbon = userKasbon.filter((kasbon)=>kasbon.status === \"approved\" || kasbon.status === \"pending\").reduce((sum, kasbon)=>sum + (kasbon.amount || 0), 0);\n        return {\n            ...user,\n            total_kasbon: totalKasbon,\n            active_kasbon: activeKasbon,\n            kasbon_history: userKasbon\n        };\n    })) || [];\n    console.log(\"[v0] Users with kasbon data:\", usersWithKasbonData);\n    return {\n        data: usersWithKasbonData,\n        error: null\n    };\n}\nasync function createKasbonRequest(kasbonData) {\n    console.log(\"[v0] createKasbonRequest called with:\", kasbonData);\n    // Get user name for snapshot\n    const { data: user, error: userError } = await supabase.from(\"users\").select(\"name\").eq(\"id\", kasbonData.user_id).single();\n    if (userError) {\n        console.error(\"[createKasbonRequest] Error getting user name:\", userError);\n        return {\n            data: null,\n            error: userError\n        };\n    }\n    const kasbonToInsert = {\n        ...kasbonData,\n        user_name: (user === null || user === void 0 ? void 0 : user.name) || \"Unknown\",\n        status: \"pending\",\n        request_date: new Date().toISOString(),\n        created_at: new Date().toISOString()\n    };\n    const { data, error } = await supabase.from(\"kasbon\").insert([\n        kasbonToInsert\n    ]).select().single();\n    console.log(\"[v0] Create kasbon result:\", {\n        data,\n        error\n    });\n    return error ? {\n        data: null,\n        error\n    } : {\n        data,\n        error: null\n    };\n}\nasync function updateKasbonStatus(kasbonId, status, approvedBy) {\n    console.log(\"[v0] updateKasbonStatus called with:\", {\n        kasbonId,\n        status,\n        approvedBy\n    });\n    const updateData = {\n        status,\n        updated_at: new Date().toISOString()\n    };\n    if (status === \"approved\") {\n        updateData.approved_by = approvedBy;\n        updateData.approved_at = new Date().toISOString();\n    }\n    const { data, error } = await supabase.from(\"kasbon\").update(updateData).eq(\"id\", kasbonId).select().single();\n    console.log(\"[v0] Update kasbon status result:\", {\n        data,\n        error\n    });\n    return error ? {\n        data: null,\n        error\n    } : {\n        data,\n        error: null\n    };\n}\n// =============================\n// FUNGSI SEDERHANA: HITUNG HARI TIDAK HADIR\n// =============================\nasync function getEmployeeAbsenceInfo(employeeId) {\n    console.log(\"[SIMPLE] getEmployeeAbsenceInfo called for:\", employeeId);\n    try {\n        // 1. Get employee data termasuk settingan libur\n        const { data: employee, error: empError } = await supabase.from(\"users\").select(\"max_absent_days\").eq(\"id\", employeeId).single();\n        if (empError || !employee) {\n            console.error(\"Error getting employee:\", empError);\n            return {\n                maxAbsentDays: 4,\n                currentAbsentDays: 0,\n                remainingDays: 4,\n                excessDays: 0\n            };\n        }\n        // 2. Hitung hari tidak hadir bulan ini\n        const currentDate = new Date();\n        const firstDayOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);\n        const lastDayOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);\n        const { data: attendanceData, error: attendanceError } = await supabase.from(\"attendance\").select(\"status, date\").eq(\"user_id\", employeeId).gte(\"date\", firstDayOfMonth.toISOString().split('T')[0]).lte(\"date\", lastDayOfMonth.toISOString().split('T')[0]);\n        if (attendanceError) {\n            console.error(\"Error getting attendance data:\", attendanceError);\n            return {\n                maxAbsentDays: employee.max_absent_days || 4,\n                currentAbsentDays: 0,\n                remainingDays: employee.max_absent_days || 4,\n                excessDays: 0\n            };\n        }\n        // Hitung hari tidak hadir (status absent atau tidak ada data attendance)\n        const currentAbsentDays = (attendanceData === null || attendanceData === void 0 ? void 0 : attendanceData.filter((record)=>record.status === \"absent\" || record.status === null).length) || 0;\n        const maxAbsentDays = employee.max_absent_days || 4;\n        const remainingDays = Math.max(0, maxAbsentDays - currentAbsentDays);\n        const excessDays = Math.max(0, currentAbsentDays - maxAbsentDays);\n        console.log(\"[SIMPLE] Absence info:\", {\n            maxAbsentDays,\n            currentAbsentDays,\n            remainingDays,\n            excessDays\n        });\n        return {\n            maxAbsentDays,\n            currentAbsentDays,\n            remainingDays,\n            excessDays\n        };\n    } catch (error) {\n        console.error(\"Error in getEmployeeAbsenceInfo:\", error);\n        return {\n            maxAbsentDays: 4,\n            currentAbsentDays: 0,\n            remainingDays: 4,\n            excessDays: 0\n        };\n    }\n}\n// =============================\n// FUNGSI UPDATE JUMLAH HARI LIBUR\n// =============================\nasync function updateMaxAbsentDays(employeeId, maxDays) {\n    try {\n        const { data, error } = await supabase.from(\"users\").update({\n            max_absent_days: maxDays\n        }).eq(\"id\", employeeId).select().single();\n        if (error) {\n            console.error(\"Error updating max absent days:\", error);\n            return {\n                error\n            };\n        }\n        console.log(\"Max absent days updated:\", data);\n        return {\n            data\n        };\n    } catch (error) {\n        console.error(\"Exception updating max absent days:\", error);\n        return {\n            error\n        };\n    }\n}\n// =============================\n// Employee Management Functions\n// =============================\nasync function getEmployees() {\n    console.log(\"[MODERN] getEmployees called - fetching all employees including inactive\");\n    const { data: users, error: usersError } = await supabase.from(\"users\").select(\"\\n      id,\\n      name,\\n      email,\\n      phone,\\n      position,\\n      status,\\n      created_at,\\n      salary,\\n      commission_rate,\\n      max_absent_days,\\n      pin,\\n      rating,\\n      attendanceRate,\\n      currentMonthCustomers,\\n      totalCustomers,\\n      presentDays,\\n      totalWorkDays,\\n      lateDays,\\n      overtimeHours,\\n      overtimeRate,\\n      bonusPoints,\\n      penaltyPoints,\\n      kasbonBalance,\\n      kasbonLimit,\\n      monthlyRevenue\\n    \").order(\"name\"); // Tampilkan SEMUA karyawan (aktif dan tidak aktif)\n    console.log(\"[MODERN] Result:\", {\n        usersCount: users === null || users === void 0 ? void 0 : users.length,\n        hasError: !!usersError,\n        firstUser: users === null || users === void 0 ? void 0 : users[0]\n    });\n    // PENTING: Hanya return error jika benar-benar ada error DAN tidak ada data\n    if (usersError && !users) {\n        console.error(\"[MODERN] Error fetching employees:\", usersError);\n        return {\n            data: [],\n            error: usersError\n        };\n    }\n    // Transformasi data - gunakan data dari database\n    const employees = (users || []).map((user)=>({\n            id: user.id,\n            name: user.name,\n            email: user.email || '',\n            phone: user.phone || '',\n            position: user.position || '',\n            status: user.status || 'active',\n            salary: user.salary || 3000000,\n            baseSalary: user.salary || 3000000,\n            commissionRate: user.commission_rate || 0,\n            pin: user.pin || '',\n            max_absent_days: user.max_absent_days || 4,\n            created_at: user.created_at,\n            totalBonus: 0,\n            totalPenalty: 0,\n            rating: user.rating || 0,\n            attendanceRate: user.attendanceRate || 0,\n            currentMonthCustomers: user.currentMonthCustomers || 0,\n            totalCustomers: user.totalCustomers || 0,\n            presentDays: user.presentDays || 0,\n            totalWorkDays: user.totalWorkDays || 0,\n            lateDays: user.lateDays || 0,\n            overtimeHours: user.overtimeHours || 0,\n            overtimeRate: user.overtimeRate || 0,\n            bonusPoints: user.bonusPoints || 0,\n            penaltyPoints: user.penaltyPoints || 0,\n            kasbonBalance: user.kasbonBalance || 0,\n            kasbonLimit: user.kasbonLimit || 0,\n            monthlyRevenue: String(user.monthlyRevenue || '0')\n        }));\n    console.log(\"[MODERN] Final employees:\", employees.length);\n    return {\n        data: employees,\n        error: null\n    };\n}\nasync function addEmployee(employee) {\n    console.log(\"[v11] addEmployee called with:\", employee);\n    // Just create user profile in users table\n    // Admin will manually create auth user in Supabase Dashboard if needed\n    const userData = {\n        name: employee.name,\n        email: employee.email,\n        phone: employee.phone || null,\n        status: employee.status || \"active\",\n        pin: employee.pin,\n        position: employee.position,\n        salary: employee.salary || employee.baseSalary || 0,\n        commission_rate: employee.commissionRate || 0\n    };\n    const { data, error } = await supabase.from(\"users\").insert([\n        userData\n    ]).select().single();\n    console.log(\"[v11] addEmployee result:\", {\n        data,\n        error\n    });\n    return {\n        data,\n        error\n    };\n}\nasync function updateEmployee(id, employee) {\n    console.log(\"[v11] updateEmployee called with:\", id);\n    const userData = {\n        name: employee.name,\n        email: employee.email,\n        phone: employee.phone,\n        status: employee.status,\n        pin: employee.pin,\n        position: employee.position,\n        salary: employee.baseSalary,\n        commission_rate: employee.commissionRate\n    };\n    const { data, error } = await supabase.from(\"users\").update(userData).eq(\"id\", id).select().single();\n    console.log(\"[v11] updateEmployee result:\", {\n        data,\n        error\n    });\n    return {\n        data,\n        error\n    };\n}\nasync function deleteEmployee(id) {\n    console.log(\"[deleteEmployee] Starting deletion for id:\", id);\n    try {\n        // Cek apakah user ada\n        const { data: existingUser, error: checkError } = await supabase.from(\"users\").select(\"*\").eq(\"id\", id).single();\n        if (checkError) {\n            console.error(\"[deleteEmployee] Error checking user:\", checkError);\n            return {\n                data: null,\n                error: checkError\n            };\n        }\n        if (!existingUser) {\n            console.error(\"[deleteEmployee] User not found\");\n            return {\n                data: null,\n                error: {\n                    message: \"Karyawan tidak ditemukan\"\n                }\n            };\n        }\n        console.log(\"[deleteEmployee] User exists:\", existingUser);\n        // SOFT DELETE - ubah status jadi 'inactive' agar data tetap ada untuk transaksi\n        const { data, error } = await supabase.from(\"users\").update({\n            status: 'inactive'\n        }).eq(\"id\", id).select().single();\n        console.log(\"[deleteEmployee] Soft delete response:\", {\n            data,\n            error\n        });\n        if (error) {\n            console.error(\"[deleteEmployee] Soft delete error:\", error);\n            return {\n                data: null,\n                error\n            };\n        }\n        console.log(\"[deleteEmployee] Soft delete successful - status changed to inactive\");\n        return {\n            data,\n            error: null\n        };\n    } catch (e) {\n        console.error(\"[deleteEmployee] Exception:\", e);\n        return {\n            data: null,\n            error: {\n                message: String(e)\n            }\n        };\n    }\n}\n// =============================\n// PERBAIKAN FUNGSI GET EMPLOYEE STATS\n// =============================\nasync function getEmployeeStats(employeeId) {\n    console.log(\"[v13-FIXED] getEmployeeStats called for:\", employeeId);\n    try {\n        // 1. Hitung transaksi dan revenue - gunakan server_id (yang melayani), bukan cashier_id\n        const { data: transactions, error: transactionsError } = await supabase.from(\"transactions\").select(\"total_amount, created_at\").eq(\"server_id\", employeeId).gte(\"created_at\", new Date(new Date().getFullYear(), new Date().getMonth(), 1).toISOString());\n        if (transactionsError) {\n            console.error(\"[v13-FIXED] Error fetching transactions:\", transactionsError);\n        }\n        const totalTransactions = (transactions === null || transactions === void 0 ? void 0 : transactions.length) || 0;\n        const totalRevenue = (transactions === null || transactions === void 0 ? void 0 : transactions.reduce((sum, t)=>sum + (t.total_amount || 0), 0)) || 0;\n        const averageTransaction = totalTransactions > 0 ? totalRevenue / totalTransactions : 0;\n        // 2. Hitung komisi dari commission_amount yang sudah tersimpan di transaction_items\n        let totalCommission = 0;\n        try {\n            console.log(\"[getEmployeeStats] Calculating commission for employee:\", employeeId);\n            const { data: commissionData, error: commissionError } = await supabase.from(\"transaction_items\").select(\"commission_amount, commission_status\").eq(\"barber_id\", employeeId).eq(\"commission_status\", \"credited\").gte(\"created_at\", new Date(new Date().getFullYear(), new Date().getMonth(), 1).toISOString());\n            if (!commissionError && commissionData) {\n                totalCommission = commissionData.reduce((sum, item)=>{\n                    return sum + (item.commission_amount || 0);\n                }, 0);\n                console.log(\"[getEmployeeStats] Commission items found:\", commissionData.length, \"Total:\", totalCommission);\n            } else if (commissionError) {\n                console.error(\"[v13-FIXED] Error calculating commission:\", commissionError);\n            }\n        } catch (commissionError) {\n            console.error(\"[v13-FIXED] Unexpected error calculating commission:\", commissionError);\n            totalCommission = 0;\n        }\n        // 3. Hitung points untuk bonus/penalty\n        const { data: pointsData, error: pointsError } = await supabase.from(\"points\").select(\"points_earned, points_type\").eq(\"user_id\", employeeId).gte(\"created_at\", new Date(new Date().getFullYear(), new Date().getMonth(), 1).toISOString());\n        let bonusPoints = 0;\n        let penaltyPoints = 0;\n        if (!pointsError && pointsData) {\n            pointsData.forEach((point)=>{\n                if (point.points_earned > 0) {\n                    bonusPoints += point.points_earned;\n                } else {\n                    penaltyPoints += Math.abs(point.points_earned);\n                }\n            });\n        }\n        const stats = {\n            totalTransactions,\n            totalRevenue,\n            totalCommission,\n            averageTransaction,\n            bonusPoints,\n            penaltyPoints,\n            totalBonus: bonusPoints,\n            totalPenalty: penaltyPoints\n        };\n        console.log(\"[v13-FIXED] Employee stats:\", stats);\n        return stats;\n    } catch (error) {\n        console.error(\"[v13-FIXED] Unexpected error in getEmployeeStats:\", error);\n        // Return default stats jika terjadi error\n        return {\n            totalTransactions: 0,\n            totalRevenue: 0,\n            totalCommission: 0,\n            averageTransaction: 0,\n            bonusPoints: 0,\n            penaltyPoints: 0,\n            totalBonus: 0,\n            totalPenalty: 0\n        };\n    }\n}\nasync function getEmployeeCommissions(employeeId) {\n    console.log(\"[v12-FIXED] getEmployeeCommissions (now rules) called for:\", employeeId);\n    const { data, error } = await supabase.from(\"commission_rules\").select(\"*, services (name, price)\").eq(\"user_id\", employeeId).order(\"created_at\", {\n        ascending: false\n    });\n    if (error) {\n        console.error(\"[v12-FIXED] Error fetching commission rules:\", error);\n    }\n    console.log(\"[v12-FIXED] Employee commission rules result:\", {\n        data,\n        error\n    });\n    return error ? {\n        data: [],\n        error\n    } : {\n        data: data || [],\n        error: null\n    };\n}\n// =============================\n// PERBAIKAN FUNGSI GET EMPLOYEE ATTENDANCE\n// =============================\nasync function getEmployeeAttendance(employeeId) {\n    console.log(\"[v13-FIXED] getEmployeeAttendance called for:\", employeeId);\n    try {\n        const currentMonth = new Date().getMonth();\n        const currentYear = new Date().getFullYear();\n        const firstDayOfMonth = new Date(currentYear, currentMonth, 1);\n        const lastDayOfMonth = new Date(currentYear, currentMonth + 1, 0);\n        const { data, error } = await supabase.from(\"attendance\").select(\"*\").eq(\"user_id\", employeeId).gte(\"date\", firstDayOfMonth.toISOString().split('T')[0]).lte(\"date\", lastDayOfMonth.toISOString().split('T')[0]).order(\"date\", {\n            ascending: true\n        });\n        if (error) {\n            console.error(\"[v13-FIXED] Error fetching attendance:\", error);\n            return {\n                data: [],\n                error,\n                attendanceRate: 0,\n                presentDays: 0,\n                lateDays: 0,\n                overtimeHours: 0,\n                totalWorkDays: 0\n            };\n        }\n        const totalWorkDays = getBusinessDaysCount(firstDayOfMonth, lastDayOfMonth);\n        const presentDays = data.filter((record)=>record.status === \"checked_out\" || record.status === \"checked_in\").length;\n        const lateDays = data.filter((record)=>{\n            if (!record.check_in_time) return false;\n            const checkInTime = record.check_in_time;\n            return checkInTime > \"08:30:00\";\n        }).length;\n        const totalHours = data.reduce((sum, record)=>sum + (record.total_hours || 0), 0);\n        const regularHours = presentDays * 8;\n        const overtimeHours = Math.max(0, totalHours - regularHours);\n        const attendanceRate = totalWorkDays > 0 ? Math.round(presentDays / totalWorkDays * 100) : 0;\n        console.log(\"[v13-FIXED] Employee attendance result:\", {\n            totalWorkDays,\n            presentDays,\n            lateDays,\n            overtimeHours: Math.max(0, overtimeHours),\n            attendanceRate\n        });\n        return {\n            data: data || [],\n            error: null,\n            attendanceRate,\n            presentDays,\n            lateDays,\n            overtimeHours: Math.max(0, overtimeHours),\n            totalWorkDays\n        };\n    } catch (error) {\n        console.error(\"[v13-FIXED] Unexpected error in getEmployeeAttendance:\", error);\n        return {\n            data: [],\n            error: error,\n            attendanceRate: 0,\n            presentDays: 0,\n            lateDays: 0,\n            overtimeHours: 0,\n            totalWorkDays: 0\n        };\n    }\n}\n// =============================\n// ðŸ”¥ FUNGSI BARU YANG DITAMBAHKAN - getEmployeePhotos\n// =============================\nasync function getEmployeePhotos(userId) {\n    console.log(\"[getEmployeePhotos] Called with userId:\", userId);\n    try {\n        const { data, error } = await supabase.from(\"attendance\").select(\"\\n        *,\\n        users:user_id ( id, name, email, position, branch_id ),\\n        branches:branch_id ( id, name, address )\\n      \").eq(\"user_id\", userId).or(\"check_in_photo.not.is.null,check_out_photo.not.is.null\").order(\"date\", {\n            ascending: false\n        }).order(\"created_at\", {\n            ascending: false\n        }).limit(50);\n        console.log(\"[getEmployeePhotos] Query result:\", {\n            data,\n            error\n        });\n        if (error) {\n            console.error(\"[getEmployeePhotos] Error:\", error);\n            return {\n                data: null,\n                error\n            };\n        }\n        const attendanceWithDetails = (data || []).map((record)=>({\n                id: record.id,\n                user_id: record.user_id,\n                branch_id: record.branch_id,\n                shift_type: record.shift_type,\n                check_in_time: record.check_in_time,\n                check_out_time: record.check_out_time,\n                break_start_time: record.break_start_time,\n                break_end_time: record.break_end_time,\n                total_hours: record.total_hours,\n                break_duration: record.break_duration,\n                status: record.status,\n                check_in_photo: record.check_in_photo,\n                check_out_photo: record.check_out_photo,\n                date: record.date,\n                created_at: record.created_at,\n                updated_at: record.updated_at,\n                users: record.users ? {\n                    id: record.users.id,\n                    name: record.users.name,\n                    email: record.users.email,\n                    position: record.users.position,\n                    branch_id: record.users.branch_id,\n                    created_at: record.users.created_at || new Date().toISOString()\n                } : undefined,\n                branches: record.branches ? {\n                    id: record.branches.id,\n                    name: record.branches.name,\n                    address: record.branches.address,\n                    created_at: record.branches.created_at || new Date().toISOString()\n                } : undefined\n            }));\n        console.log(\"[getEmployeePhotos] Returning:\", attendanceWithDetails.length, \"records\");\n        return {\n            data: attendanceWithDetails,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"[getEmployeePhotos] Exception:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\n// =============================\n// ðŸ”¥ FUNGSI BARU YANG DITAMBAHKAN - getEmployeeAttendanceWithPhotos\n// =============================\nasync function getEmployeeAttendanceWithPhotos(userId) {\n    let days = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 30;\n    console.log(\"[getEmployeeAttendanceWithPhotos] Called with userId:\", userId, \"days:\", days);\n    try {\n        const endDate = new Date();\n        const startDate = new Date();\n        startDate.setDate(endDate.getDate() - days);\n        const startDateStr = startDate.toISOString().split('T')[0];\n        const endDateStr = endDate.toISOString().split('T')[0];\n        console.log(\"[getEmployeeAttendanceWithPhotos] Date range:\", startDateStr, \"to\", endDateStr);\n        const { data, error } = await supabase.from(\"attendance\").select(\"\\n        *,\\n        users:user_id ( id, name, email, position, branch_id ),\\n        branches:branch_id ( id, name, address )\\n      \").eq(\"user_id\", userId).gte(\"date\", startDateStr).lte(\"date\", endDateStr).order(\"date\", {\n            ascending: false\n        }).order(\"created_at\", {\n            ascending: false\n        });\n        console.log(\"[getEmployeeAttendanceWithPhotos] Query result:\", {\n            dataLength: data === null || data === void 0 ? void 0 : data.length,\n            error\n        });\n        // Ignore empty error objects\n        if (error === null || error === void 0 ? void 0 : error.message) {\n            console.error(\"[getEmployeeAttendanceWithPhotos] Error:\", error);\n            return {\n                data: [],\n                error,\n                attendanceRate: 0,\n                presentDays: 0,\n                lateDays: 0,\n                totalWorkDays: days,\n                overtimeHours: 0\n            };\n        }\n        const attendanceRecords = (data || []).map((record)=>({\n                id: record.id,\n                user_id: record.user_id,\n                branch_id: record.branch_id,\n                shift_type: record.shift_type,\n                check_in_time: record.check_in_time,\n                check_out_time: record.check_out_time,\n                break_start_time: record.break_start_time,\n                break_end_time: record.break_end_time,\n                total_hours: record.total_hours,\n                break_duration: record.break_duration,\n                status: record.status,\n                check_in_photo: record.check_in_photo,\n                check_out_photo: record.check_out_photo,\n                date: record.date,\n                created_at: record.created_at,\n                updated_at: record.updated_at,\n                users: record.users ? {\n                    id: record.users.id,\n                    name: record.users.name,\n                    email: record.users.email,\n                    position: record.users.position,\n                    branch_id: record.users.branch_id,\n                    created_at: record.users.created_at || new Date().toISOString()\n                } : undefined,\n                branches: record.branches ? {\n                    id: record.branches.id,\n                    name: record.branches.name,\n                    address: record.branches.address,\n                    created_at: record.branches.created_at || new Date().toISOString()\n                } : undefined\n            }));\n        const presentDays = attendanceRecords.filter((r)=>r.status !== 'absent' && (r.check_in_time || r.check_out_time)).length;\n        const lateDays = attendanceRecords.filter((r)=>{\n            if (!r.check_in_time) return false;\n            const checkInTime = r.check_in_time;\n            return checkInTime > \"08:30\";\n        }).length;\n        const totalHours = attendanceRecords.reduce((sum, r)=>sum + (r.total_hours || 0), 0);\n        const regularHours = presentDays * 8;\n        const overtimeHours = Math.max(0, totalHours - regularHours);\n        const attendanceRate = days > 0 ? Math.round(presentDays / days * 100) : 0;\n        console.log(\"[getEmployeeAttendanceWithPhotos] Statistics:\", {\n            attendanceRate,\n            presentDays,\n            lateDays,\n            totalWorkDays: days,\n            overtimeHours: Math.round(overtimeHours * 100) / 100\n        });\n        return {\n            data: attendanceRecords,\n            error: null,\n            attendanceRate,\n            presentDays,\n            lateDays,\n            totalWorkDays: days,\n            overtimeHours: Math.round(overtimeHours * 100) / 100\n        };\n    } catch (error) {\n        console.error(\"[getEmployeeAttendanceWithPhotos] Exception:\", error);\n        return {\n            data: [],\n            error: error,\n            attendanceRate: 0,\n            presentDays: 0,\n            lateDays: 0,\n            totalWorkDays: days,\n            overtimeHours: 0\n        };\n    }\n}\n// =============================\n// Auth Helper Functions\n// =============================\nasync function getCurrentUser() {\n    try {\n        const { data: { user }, error } = await supabase.auth.getUser();\n        console.log(\"[getCurrentUser] Auth user:\", user);\n        console.log(\"[getCurrentUser] Auth error:\", error);\n        if (error) {\n            console.error(\"[getCurrentUser] Error getting current user:\", error);\n            return null;\n        }\n        return user;\n    } catch (error) {\n        console.error(\"[getCurrentUser] Unexpected error:\", error);\n        return null;\n    }\n}\n// Fungsi untuk get profile dari auth data saja\nasync function getAuthUserProfile(userId) {\n    try {\n        const { data: authData } = await supabase.auth.getUser();\n        if (authData.user && authData.user.id === userId) {\n            var _authData_user_email;\n            return {\n                id: authData.user.id,\n                email: authData.user.email || \"\",\n                name: ((_authData_user_email = authData.user.email) === null || _authData_user_email === void 0 ? void 0 : _authData_user_email.split('@')[0]) || \"User\",\n                pin: \"\",\n                position: \"employee\",\n                status: \"active\",\n                created_at: new Date().toISOString()\n            };\n        }\n        return null;\n    } catch (error) {\n        console.error(\"[getAuthUserProfile] Error:\", error);\n        return null;\n    }\n}\n// Fungsi untuk create user profile dari auth data\nasync function createUserProfileFromAuth(userId) {\n    try {\n        var _authData_user_email;\n        // Get auth user data\n        const { data: authData, error: authError } = await supabase.auth.admin.getUserById(userId);\n        if (authError || !authData.user) {\n            console.error(\"[createUserProfile] Cannot get auth user:\", authError);\n            return getAuthUserProfile(userId);\n        }\n        // Create user profile\n        const { data: newUser, error: insertError } = await supabase.from('users').insert({\n            id: authData.user.id,\n            email: authData.user.email,\n            name: ((_authData_user_email = authData.user.email) === null || _authData_user_email === void 0 ? void 0 : _authData_user_email.split('@')[0]) || 'User',\n            position: 'employee',\n            status: 'active',\n            created_at: new Date().toISOString()\n        }).select().single();\n        if (insertError) {\n            console.error(\"[createUserProfile] Insert failed, using auth data:\", insertError);\n            return getAuthUserProfile(userId);\n        }\n        console.log(\"[createUserProfile] New user profile created\");\n        return newUser;\n    } catch (error) {\n        console.error(\"[createUserProfile] Error:\", error);\n        return getAuthUserProfile(userId);\n    }\n}\n// =============================\n// Pengeluaran Cabang\n// =============================\nasync function updateExpenseRequest(expenseId, expenseData) {\n    console.log(\"[v0] updateExpenseRequest called with:\", {\n        expenseId,\n        expenseData\n    });\n    const { data, error } = await supabase.from(\"expenses\").update({\n        ...expenseData,\n        updated_at: new Date().toISOString()\n    }).eq(\"id\", expenseId).select().single();\n    console.log(\"[v0] Update expense result:\", {\n        data,\n        error\n    });\n    return error ? {\n        data: null,\n        error\n    } : {\n        data,\n        error: null\n    };\n}\nasync function deleteExpenseRequest(expenseId) {\n    console.log(\"[v0] deleteExpenseRequest called with id:\", expenseId);\n    const { data, error } = await supabase.from(\"expenses\").delete().eq(\"id\", expenseId);\n    console.log(\"[v0] Delete expense result:\", {\n        data,\n        error\n    });\n    return {\n        data,\n        error\n    };\n}\n// =============================\n// Pengeluaran Cabang - GET\n// =============================\nasync function getExpenses(branchId) {\n    console.log(\"[v0] getExpenses called with branchId:\", branchId);\n    let query = supabase.from(\"expenses\").select(\"\\n      *,\\n      branches!inner (\\n        id,\\n        name\\n      )\\n    \").order(\"expense_date\", {\n        ascending: false\n    });\n    if (branchId) {\n        query = query.eq(\"branch_id\", branchId);\n    }\n    const { data, error } = await query;\n    console.log(\"[v0] Expenses result:\", {\n        data,\n        error\n    });\n    return error ? {\n        data: [],\n        error\n    } : {\n        data: data || [],\n        error: null\n    };\n}\n// =============================\n// Pengeluaran Cabang - STATISTICS\n// =============================\nasync function getExpenseStatistics(branchId) {\n    console.log(\"[v0] getExpenseStatistics called with branchId:\", branchId);\n    let query = supabase.from(\"expenses\").select(\"amount\");\n    if (branchId) {\n        query = query.eq(\"branch_id\", branchId);\n    }\n    const { data, error } = await query;\n    if (error) {\n        console.log(\"[v0] Error fetching expense statistics:\", error);\n        return {\n            data: {\n                totalExpenses: 0,\n                averagePerTransaction: 0\n            },\n            error\n        };\n    }\n    const totalExpenses = (data === null || data === void 0 ? void 0 : data.reduce((sum, expense)=>sum + (expense.amount || 0), 0)) || 0;\n    const transactionCount = (data === null || data === void 0 ? void 0 : data.length) || 0;\n    const averagePerTransaction = transactionCount > 0 ? Math.round(totalExpenses / transactionCount) : 0;\n    const statistics = {\n        totalExpenses,\n        averagePerTransaction\n    };\n    console.log(\"[v0] Expense statistics result:\", statistics);\n    return {\n        data: statistics,\n        error: null\n    };\n}\n// =============================\n// Pengeluaran Cabang - CREATE\n// =============================\nasync function createExpenseRequest(expenseData) {\n    console.log(\"[v0] createExpenseRequest called with:\", expenseData);\n    const expenseToInsert = {\n        branch_id: expenseData.branch_id || null,\n        category: expenseData.category,\n        description: expenseData.description,\n        amount: expenseData.amount,\n        notes: expenseData.notes || null,\n        expense_date: new Date().toISOString().split(\"T\")[0],\n        status: \"pending\",\n        created_at: new Date().toISOString()\n    };\n    console.log(\"Data yang akan diinsert:\", expenseToInsert);\n    const { data, error } = await supabase.from(\"expenses\").insert(expenseToInsert).select().single();\n    console.log(\"[v0] Create expense result:\", {\n        data,\n        error\n    });\n    if (error) {\n        console.error(\"Detail error:\", error);\n    }\n    return error ? {\n        data: null,\n        error\n    } : {\n        data,\n        error: null\n    };\n}\nasync function getAllExpensesWithDetails() {\n    try {\n        console.log(\"ðŸ” Fetching expenses without users relationship...\");\n        // PASTIKAN hanya select branches saja, tanpa users\n        const { data, error } = await supabase.from('expenses').select(\"\\n        *,\\n        branches:branch_id (*)\\n      \").order('created_at', {\n            ascending: false\n        });\n        if (error) {\n            console.error('âŒ Error fetching expenses:', error);\n            return {\n                data: null,\n                error\n            };\n        }\n        console.log(\"âœ… Successfully fetched expenses:\", data === null || data === void 0 ? void 0 : data.length);\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('âŒ Unexpected error:', error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\nasync function updateExpenseStatus(expenseId, status, rejectionReason) {\n    try {\n        console.log(\"ðŸ”„ Updating expense status:\", {\n            expenseId,\n            status,\n            rejectionReason\n        });\n        // Update status dan rejection_reason jika ada\n        const updateData = {\n            status,\n            updated_at: new Date().toISOString()\n        };\n        // Tambahkan rejection_reason jika status rejected\n        if (status === \"rejected\" && rejectionReason) {\n            updateData.rejection_reason = rejectionReason;\n        }\n        // Clear rejection_reason jika status approved/paid\n        if (status === \"approved\" || status === \"paid\") {\n            updateData.rejection_reason = null;\n        }\n        const { data, error } = await supabase.from('expenses').update(updateData).eq('id', expenseId).select('*').single();\n        if (error) {\n            console.error('âŒ Error updating expense status:', error);\n            return {\n                data: null,\n                error\n            };\n        }\n        console.log(\"âœ… Expense status updated successfully\");\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('âŒ Unexpected error:', error);\n        return {\n            data: null,\n            error\n        };\n    }\n}\nasync function getExpenseStatisticsByBranch(branchId) {\n    try {\n        let query = supabase.from('expenses').select('status, amount');\n        if (branchId && branchId !== 'all') {\n            query = query.eq('branch_id', branchId);\n        }\n        const { data, error } = await query;\n        if (error) {\n            console.error('Error fetching expense statistics:', error);\n            return {\n                total: 0,\n                pending: 0,\n                approved: 0,\n                rejected: 0,\n                paid: 0,\n                totalAmount: 0,\n                pendingAmount: 0,\n                approvedAmount: 0,\n                rejectedAmount: 0,\n                paidAmount: 0\n            };\n        }\n        const stats = {\n            total: (data === null || data === void 0 ? void 0 : data.length) || 0,\n            pending: (data === null || data === void 0 ? void 0 : data.filter((e)=>e.status === 'pending').length) || 0,\n            approved: (data === null || data === void 0 ? void 0 : data.filter((e)=>e.status === 'approved').length) || 0,\n            rejected: (data === null || data === void 0 ? void 0 : data.filter((e)=>e.status === 'rejected').length) || 0,\n            paid: (data === null || data === void 0 ? void 0 : data.filter((e)=>e.status === 'paid').length) || 0,\n            totalAmount: (data === null || data === void 0 ? void 0 : data.reduce((sum, e)=>sum + (e.amount || 0), 0)) || 0,\n            pendingAmount: (data === null || data === void 0 ? void 0 : data.filter((e)=>e.status === 'pending').reduce((sum, e)=>sum + (e.amount || 0), 0)) || 0,\n            approvedAmount: (data === null || data === void 0 ? void 0 : data.filter((e)=>e.status === 'approved').reduce((sum, e)=>sum + (e.amount || 0), 0)) || 0,\n            rejectedAmount: (data === null || data === void 0 ? void 0 : data.filter((e)=>e.status === 'rejected').reduce((sum, e)=>sum + (e.amount || 0), 0)) || 0,\n            paidAmount: (data === null || data === void 0 ? void 0 : data.filter((e)=>e.status === 'paid').reduce((sum, e)=>sum + (e.amount || 0), 0)) || 0\n        };\n        return stats;\n    } catch (error) {\n        console.error('Unexpected error in getExpenseStatisticsByBranch:', error);\n        return {\n            total: 0,\n            pending: 0,\n            approved: 0,\n            rejected: 0,\n            paid: 0,\n            totalAmount: 0,\n            pendingAmount: 0,\n            approvedAmount: 0,\n            rejectedAmount: 0,\n            paidAmount: 0\n        };\n    }\n}\nasync function getExpensesByStatus(status, branchId) {\n    try {\n        let query = supabase.from('expenses').select(\"\\n        *,\\n        branches:branch_id (*),\\n        users:requested_by (*)\\n      \").eq('status', status).order('created_at', {\n            ascending: false\n        });\n        if (branchId && branchId !== 'all') {\n            query = query.eq('branch_id', branchId);\n        }\n        const { data, error } = await query;\n        if (error) {\n            console.error(\"Error fetching \".concat(status, \" expenses:\"), error);\n            return {\n                data: [],\n                error\n            };\n        }\n        return {\n            data: data || [],\n            error: null\n        };\n    } catch (error) {\n        console.error('Unexpected error:', error);\n        return {\n            data: [],\n            error\n        };\n    }\n}\n// =============================\n// Additional Functions\n// =============================\nasync function getAbsentEmployeesToday() {\n    console.log(\"[v0] getAbsentEmployeesToday called\");\n    const today = new Date().toISOString().split(\"T\")[0];\n    try {\n        const { data: activeEmployees, error: employeesError } = await supabase.from(\"users\").select(\"*\").eq(\"status\", \"active\").order(\"name\");\n        if (employeesError) {\n            console.error(\"[v0] Error fetching active employees:\", employeesError);\n            return [];\n        }\n        const { data: todayAttendance, error: attendanceError } = await supabase.from(\"attendance\").select(\"user_id\").eq(\"date\", today);\n        if (attendanceError) {\n            console.error(\"[v0] Error fetching today's attendance:\", attendanceError);\n            return [];\n        }\n        const presentEmployeeIds = new Set((todayAttendance === null || todayAttendance === void 0 ? void 0 : todayAttendance.map((a)=>a.user_id)) || []);\n        const absentEmployees = (activeEmployees === null || activeEmployees === void 0 ? void 0 : activeEmployees.filter((employee)=>!presentEmployeeIds.has(employee.id))) || [];\n        const transformedAbsentEmployees = absentEmployees.map((user)=>({\n                id: user.id,\n                name: user.name,\n                email: user.email || \"\",\n                phone: user.phone || \"\",\n                position: user.position || \"employee\",\n                status: user.status || \"active\",\n                avatar: \"/placeholder.svg?height=40&width=40&query=\".concat(encodeURIComponent(user.name)),\n                rating: 4.5,\n                baseSalary: 5000000,\n                attendanceRate: 95,\n                currentMonthCustomers: 0,\n                totalCustomers: 0,\n                presentDays: 0,\n                totalWorkDays: 0,\n                lateDays: 0,\n                overtimeHours: 0,\n                overtimeRate: 25000,\n                bonusPoints: 0,\n                penaltyPoints: 0,\n                commissionRate: 0.05,\n                joinDate: user.created_at,\n                kasbonBalance: 0,\n                kasbonLimit: 2000000,\n                monthlyRevenue: \"0\",\n                pin: user.pin || \"\"\n            }));\n        console.log(\"[v0] Found absent employees:\", transformedAbsentEmployees.length);\n        return transformedAbsentEmployees;\n    } catch (error) {\n        console.error(\"[v0] Error in getAbsentEmployeesToday:\", error);\n        return [];\n    }\n}\n// =============================\n// Attendance Management Functions\n// =============================\nasync function getDetailedAttendanceRecords(date) {\n    let query = supabase.from(\"attendance\").select(\"*,\\n      users:user_id (\\n        id,\\n        name,\\n        email,\\n        position,\\n        branch_id\\n      ),\\n      branches:branch_id (\\n        id,\\n        name,\\n        address,\\n        shifts\\n      )\\n    \").order(\"date\", {\n        ascending: false\n    }).order(\"created_at\", {\n        ascending: false\n    });\n    if (date) {\n        query = query.eq(\"date\", date);\n    }\n    const { data, error } = await query;\n    if (error) {\n        console.error(\"[v0] Error fetching detailed attendance:\", error);\n        return {\n            data: [],\n            error\n        };\n    }\n    return {\n        data: data || [],\n        error: null\n    };\n}\n// ðŸ”¥ GET stock per outlet\nconst getOutletStock = async (outletId)=>{\n    try {\n        const { data, error } = await supabase.from('outlet_stock').select('*').eq('outlet_id', outletId).order('created_at', {\n            ascending: false\n        });\n        if (error) {\n            console.error('Error fetching outlet stock:', error);\n            return {\n                data: null,\n                error\n            };\n        }\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('Unexpected error in getOutletStock:', error);\n        return {\n            data: null,\n            error\n        };\n    }\n};\n// ðŸ”¥ UPDATE stock per outlet (with UPSERT)\nconst updateOutletStock = async (outletId, serviceId, newStock)=>{\n    try {\n        // Use upsert to create if not exists, update if exists\n        const { data, error } = await supabase.from('outlet_stock').upsert({\n            outlet_id: outletId,\n            service_id: serviceId,\n            stock_quantity: newStock,\n            is_active: true,\n            min_stock_threshold: 5,\n            updated_at: new Date().toISOString()\n        }, {\n            onConflict: 'outlet_id,service_id'\n        }).select().single();\n        if (error) {\n            console.error('Error updating outlet stock:', error);\n            return {\n                data: null,\n                error\n            };\n        }\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('Unexpected error in updateOutletStock:', error);\n        return {\n            data: null,\n            error\n        };\n    }\n};\n// ðŸ”¥ GET low stock alerts (FIXED VERSION)\nconst getLowStockAlerts = async ()=>{\n    try {\n        // Get all outlet stock (no joins needed)\n        const { data: allStock, error: fetchError } = await supabase.from('outlet_stock').select('*').eq('is_active', true);\n        if (fetchError) {\n            console.error('Error fetching outlet stock:', fetchError);\n            return {\n                data: null,\n                error: fetchError\n            };\n        }\n        // Filter manually for low stock\n        const lowStock = (allStock || []).filter((item)=>item.stock_quantity <= item.min_stock_threshold);\n        return {\n            data: lowStock,\n            error: null\n        };\n    } catch (error) {\n        console.error('Unexpected error in getLowStockAlerts:', error);\n        return {\n            data: null,\n            error\n        };\n    }\n};\n// ðŸ”¥ REDUCE stock ketika terjadi transaksi\n// ðŸ”¥ REDUCE stock ketika terjadi transaksi (FIXED)\nconst reduceOutletStock = async (outletId, serviceId, quantity)=>{\n    try {\n        // Get current stock\n        const { data: currentStock, error: fetchError } = await supabase.from('outlet_stock').select('stock_quantity').eq('outlet_id', outletId).eq('service_id', serviceId).single();\n        if (fetchError) {\n            console.error('Error fetching current stock:', fetchError);\n            return {\n                data: null,\n                error: fetchError\n            };\n        }\n        const newStock = Math.max(0, ((currentStock === null || currentStock === void 0 ? void 0 : currentStock.stock_quantity) || 0) - quantity);\n        // Update stock\n        const { data, error } = await supabase.from('outlet_stock').update({\n            stock_quantity: newStock,\n            updated_at: new Date().toISOString()\n        }).eq('outlet_id', outletId).eq('service_id', serviceId).select(\"\\n        *,\\n        service:services(*, service_categories(*)),\\n        branch:outlet_id(*)\\n      \").single();\n        if (error) {\n            console.error('Error reducing outlet stock:', error);\n            return {\n                data: null,\n                error\n            };\n        }\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('Unexpected error in reduceOutletStock:', error);\n        return {\n            data: null,\n            error\n        };\n    }\n};\n// =============================\n// POS Helper Functions\n// =============================\nconst loadBranchesData = async (supabase, setBranches, setSelectedBranch)=>{\n    const { data, error } = await supabase.from(\"branches\").select(\"*\");\n    if (error) {\n        console.error(\"Error loading branches:\", error);\n        return;\n    }\n    setBranches(data);\n    if (data.length > 0) {\n        setSelectedBranch(data[0].name);\n    }\n};\nconst loadBranchData = async (supabase, setReceiptTemplate, setBranchInfo)=>{\n    console.log(\"[v0] Loading branch and template data...\");\n    try {\n        const { data: templateData, error: templateError } = await supabase.from(\"receipt_templates\").select(\"*\").eq(\"is_active\", true).single();\n        if (templateError) {\n            console.error(\"Error loading receipt template:\", templateError);\n        } else {\n            console.log(\"[v0] Loaded active template:\", templateData);\n            setReceiptTemplate(templateData);\n        }\n        console.log(\"[v0] Branch data loading completed without overriding selectedBranch\");\n    } catch (error) {\n        console.error(\"Error loading branch and template data:\", error);\n    }\n};\nconst processTransaction = async (supabase, branches, selectedBranch, cart, currentUser, paymentMethod, customerName, discountReason, getTotalPrice, getDiscountAmount, getFinalTotal)=>{\n    const selectedBranchData = branches.find((b)=>b.name === selectedBranch);\n    if (!(selectedBranchData === null || selectedBranchData === void 0 ? void 0 : selectedBranchData.id)) {\n        throw new Error(\"Data cabang tidak ditemukan\");\n    }\n    const receiptNumber = \"\".concat(new Date().getFullYear()).concat(String(new Date().getMonth() + 1).padStart(2, \"0\")).concat(String(new Date().getDate()).padStart(2, \"0\")).concat(String(Math.floor(Math.random() * 1000)).padStart(3, \"0\"));\n    const transactionData = {\n        receipt_number: receiptNumber,\n        branch_id: selectedBranchData.id,\n        total_amount: getTotalPrice(),\n        discount_amount: getDiscountAmount(),\n        final_amount: getFinalTotal(),\n        payment_method: paymentMethod,\n        customer_name: customerName || null,\n        notes: discountReason || null\n    };\n    console.log(\"[v0] Creating transaction with correct branch_id:\", transactionData);\n    return transactionData;\n};\n// =============================\n// ðŸ”¥ FUNGSI BARU: Setup Realtime Subscription untuk Transaksi\n// =============================\nconst setupTransactionsRealtime = (callback)=>{\n    const channel = supabase.channel('transactions-global').on('postgres_changes', {\n        event: '*',\n        schema: 'public',\n        table: 'transactions'\n    }, (payload)=>{\n        console.log('Transaction change detected:', payload);\n        callback();\n    }).on('postgres_changes', {\n        event: '*',\n        schema: 'public',\n        table: 'transaction_items'\n    }, (payload)=>{\n        console.log('Transaction item change detected:', payload);\n        callback();\n    }).subscribe((status)=>{\n        console.log('Realtime subscription status:', status);\n    });\n    return channel;\n};\n// ðŸ”¥ FUNGSI BARU: Setup Realtime untuk Komisi\nconst setupKomisiRealtime = (callback)=>{\n    const channel = supabase.channel('komisi-global').on('postgres_changes', {\n        event: '*',\n        schema: 'public',\n        table: 'commission_rules'\n    }, (payload)=>{\n        console.log('Commission rule change detected:', payload);\n        callback();\n    }).subscribe((status)=>{\n        console.log('Komisi subscription status:', status);\n    });\n    return channel;\n};\n// ðŸ”¥ FUNGSI BARU: Broadcast Event untuk Sinkronisasi Global\nconst broadcastTransactionEvent = async (eventType, payload)=>{\n    try {\n        await supabase.channel('global-events').send({\n            type: 'broadcast',\n            event: eventType,\n            payload: payload\n        });\n        console.log(\"Broadcast event '\".concat(eventType, \"' sent successfully\"));\n    } catch (error) {\n        console.error('Error broadcasting event:', error);\n    }\n};\n// ðŸ”¥ FUNGSI BARU: Listen untuk Global Events\nconst setupGlobalEventsListener = (callback)=>{\n    const channel = supabase.channel('global-events-listener').on('broadcast', {\n        event: '*'\n    }, (payload)=>{\n        console.log('Global event received:', payload);\n        callback(payload.event, payload.payload);\n    }).subscribe();\n    return channel;\n};\n// ðŸ”¥ FUNGSI BARU: Subscribe to Events\nconst subscribeToEvents = (callback)=>{\n    const channel = supabase.channel('global-events-listener').on('broadcast', {\n        event: '*'\n    }, (payload)=>{\n        console.log('Global event received:', payload);\n        callback(payload.event, payload.payload);\n    }).subscribe();\n    return channel;\n};\n// =============================\n// ðŸ”¥ FUNGSI BARU: Setup Realtime Subscription untuk Employee\n// =============================\nconst setupEmployeeRealtime = (callback)=>{\n    console.log(\"Setting up employee realtime subscription\");\n    const channel = supabase.channel('employees-global').on('postgres_changes', {\n        event: '*',\n        schema: 'public',\n        table: 'users'\n    }, (payload)=>{\n        console.log('Employee change detected:', payload);\n        callback();\n    }).on('postgres_changes', {\n        event: '*',\n        schema: 'public',\n        table: 'points'\n    }, (payload)=>{\n        console.log('Points change detected (affects employee stats):', payload);\n        callback();\n    }).on('postgres_changes', {\n        event: '*',\n        schema: 'public',\n        table: 'attendance'\n    }, (payload)=>{\n        console.log('Attendance change detected:', payload);\n        callback();\n    }).subscribe((status)=>{\n        console.log('Employee realtime subscription status:', status);\n    });\n    return channel;\n};\nasync function getApprovedExpenses() {\n    try {\n        console.log(\"ðŸ” Fetching approved expenses...\");\n        const { data, error } = await supabase.from('expenses').select(\"\\n        *,\\n        branches:branch_id (*)\\n      \").in('status', [\n            'approved',\n            'paid'\n        ]).order('created_at', {\n            ascending: false\n        });\n        if (error) {\n            console.error('âŒ Error fetching approved expenses:', error);\n            return {\n                data: [],\n                error\n            };\n        }\n        console.log(\"âœ… Successfully fetched approved expenses:\", data === null || data === void 0 ? void 0 : data.length);\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('âŒ Unexpected error:', error);\n        return {\n            data: [],\n            error\n        };\n    }\n}\n// ðŸ”¥ TAMBAHKAN fungsi ini di supabase.ts\nconst getOwnerPin = async ()=>{\n    try {\n        const { data, error } = await supabase.from('users').select('pin').eq('position', 'owner').single();\n        if (error || !data) {\n            console.error('Error fetching owner PIN:', error);\n            return ''; // Return empty string if not found\n        }\n        return data.pin || '';\n    } catch (error) {\n        console.error('Unexpected error in getOwnerPin:', error);\n        return '';\n    }\n};\n// ðŸ”¥ TAMBAHKAN fungsi ini di supabase.ts\nconst updateUserPin = async (userId, newPin)=>{\n    try {\n        // Validasi PIN 6 digit\n        if (newPin.length !== 6 || !/^\\d+$/.test(newPin)) {\n            console.error('Invalid PIN format');\n            return false;\n        }\n        const { error } = await supabase.from('users').update({\n            pin: newPin\n        }).eq('id', userId);\n        if (error) {\n            console.error('Error updating PIN:', error);\n            return false;\n        }\n        return true;\n    } catch (error) {\n        console.error('Unexpected error in updateUserPin:', error);\n        return false;\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9zdXBhYmFzZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvRDtBQUVwRCxnQ0FBZ0M7QUFDaEMsdUJBQXVCO0FBQ3ZCLGdDQUFnQztBQUNoQyxNQUFNQyxjQUFjQyxPQUFPQSxDQUFDQyxHQUFHLENBQUNDLHdCQUF3QixJQUFJO0FBQzVELE1BQU1DLGtCQUNKSCxPQUFPQSxDQUFDQyxHQUFHLENBQUNHLDZCQUE2QixJQUN6QztBQUVGLElBQUksQ0FBQ0wsYUFBYTtJQUNoQixNQUFNLElBQUlNLE1BQU07QUFDbEI7QUFDQSxJQUFJLENBQUNGLGlCQUFpQjtJQUNwQixNQUFNLElBQUlFLE1BQU07QUFDbEI7QUFFTyxNQUFNQyxXQUFXUixtRUFBWUEsQ0FBQ0MsYUFBYUksaUJBQWlCO0lBQ2pFSSxNQUFNO1FBQ0pDLGdCQUFnQjtRQUNoQkMsa0JBQWtCO0lBQ3BCO0lBQ0FDLFVBQVU7UUFDUkMsUUFBUTtZQUNOQyxpQkFBaUI7UUFDbkI7SUFDRjtJQUNBQyxRQUFRO1FBQ05DLFNBQVM7WUFDUCxzQkFBc0I7UUFDeEI7SUFDRjtBQUNGLEdBQUc7QUFFSSxNQUFNQyx5QkFBeUI7SUFDcEMsSUFBSTtRQUNGLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNWCxTQUFTWSxJQUFJLENBQUMsVUFBVUMsTUFBTSxDQUFDO1FBQzdELElBQUlGLE9BQU87WUFDVEcsUUFBUUgsS0FBSyxDQUFDLG9DQUFvQ0E7WUFDbEQsT0FBTztRQUNUO1FBQ0FHLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU87SUFDVCxFQUFFLE9BQU9KLE9BQU87UUFDZEcsUUFBUUgsS0FBSyxDQUFDLDhCQUE4QkE7UUFDNUMsT0FBTztJQUNUO0FBQ0YsRUFBQztBQUNELGdDQUFnQztBQUNoQyxvQ0FBb0M7QUFDcEMs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ZXJzaG9wXFxsaWJcXHN1cGFiYXNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAc3VwYWJhc2Uvc3VwYWJhc2UtanNcIlxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gS29uZmlndXJhc2kgU3VwYWJhc2VcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgfHwgXCJodHRwczovL3RrcnJqdmNndml3bmxpaW5vdmlrLnN1cGFiYXNlLmNvXCJcclxuY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID1cclxuICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSB8fFxyXG4gIFwiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnBjM01pT2lKemRYQmhZbUZ6WlNJc0luSmxaaUk2SW5ScmNuSnFkbU5uZG1sM2JteHBhVzV2ZG1scklpd2ljbTlzWlNJNkltRnViMjRpTENKcFlYUWlPakUzTlRVeE1ERTRNalFzSW1WNGNDSTZNakEzTURZM056Z3lOSDAudWY3UjA2R2Q2TWdmXzNadjNRMTg0SFdQcXpvNmticmZoUTFCa2tkTTlpTVwiXHJcblxyXG5pZiAoIXN1cGFiYXNlVXJsKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgZW52aXJvbm1lbnQgdmFyaWFibGUuXCIpXHJcbn1cclxuaWYgKCFzdXBhYmFzZUFub25LZXkpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIE5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIGVudmlyb25tZW50IHZhcmlhYmxlLlwiKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSwge1xyXG4gIGF1dGg6IHtcclxuICAgIHBlcnNpc3RTZXNzaW9uOiB0cnVlLFxyXG4gICAgYXV0b1JlZnJlc2hUb2tlbjogdHJ1ZSxcclxuICB9LFxyXG4gIHJlYWx0aW1lOiB7XHJcbiAgICBwYXJhbXM6IHtcclxuICAgICAgZXZlbnRzUGVyU2Vjb25kOiAxMCxcclxuICAgIH0sXHJcbiAgfSxcclxuICBnbG9iYWw6IHtcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgJ3gtYXBwbGljYXRpb24tbmFtZSc6ICdwaWd0b3duLWJhcmJlcnNob3AnLFxyXG4gICAgfSxcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCB0ZXN0U3VwYWJhc2VDb25uZWN0aW9uID0gYXN5bmMgKCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwicG9pbnRzXCIpLnNlbGVjdCgnKiwgdXNlcnMhaW5uZXIobmFtZSwgYnJhbmNoX2lkLCBicmFuY2hlczpicmFuY2hfaWQobmFtZSkpJylcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiU3VwYWJhc2UgY29ubmVjdGlvbiB0ZXN0IGZhaWxlZDpcIiwgZXJyb3IpXHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coXCJTdXBhYmFzZSBjb25uZWN0aW9uIHN1Y2Nlc3NmdWxcIilcclxuICAgIHJldHVybiB0cnVlXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJTdXBhYmFzZSBjb25uZWN0aW9uIGVycm9yOlwiLCBlcnJvcilcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxufVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyDwn5SlIEZVTkdTSSBCQVJVOiBIaXR1bmcgSGFyaSBLZXJqYVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5mdW5jdGlvbiBnZXRCdXNpbmVzc0RheXNDb3VudChzdGFydERhdGU6IERhdGUsIGVuZERhdGU6IERhdGUpOiBudW1iZXIge1xyXG4gICAgbGV0IGNvdW50ID0gMDtcclxuICAgIGNvbnN0IGN1ckRhdGUgPSBuZXcgRGF0ZShzdGFydERhdGUuZ2V0VGltZSgpKTtcclxuICAgIFxyXG4gICAgd2hpbGUgKGN1ckRhdGUgPD0gZW5kRGF0ZSkge1xyXG4gICAgICAgIGNvbnN0IGRheU9mV2VlayA9IGN1ckRhdGUuZ2V0RGF5KCk7XHJcbiAgICAgICAgLy8gMCA9IE1pbmdndSwgNiA9IFNhYnR1ICh0aWRhayBkaWhpdHVuZyBzZWJhZ2FpIGhhcmkga2VyamEpXHJcbiAgICAgICAgaWYgKGRheU9mV2VlayAhPT0gMCAmJiBkYXlPZldlZWsgIT09IDYpIHtcclxuICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgY3VyRGF0ZS5zZXREYXRlKGN1ckRhdGUuZ2V0RGF0ZSgpICsgMSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBjb3VudDtcclxufVxyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEludGVyZmFjZXNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vIC0tLSBVc2VyICYgQnJhbmNoIC0tLVxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xyXG4gIGlkOiBzdHJpbmdcclxuICBlbWFpbD86IHN0cmluZ1xyXG4gIG5hbWU6IHN0cmluZ1xyXG4gIHBvc2l0aW9uPzogc3RyaW5nXHJcbiAgYnJhbmNoX2lkPzogc3RyaW5nXHJcbiAgcGhvbmU/OiBzdHJpbmdcclxuICBhZGRyZXNzPzogc3RyaW5nXHJcbiAgc3RhdHVzPzogc3RyaW5nXHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQnJhbmNoIHtcclxuICBpZDogc3RyaW5nXHJcbiAgbmFtZTogc3RyaW5nXHJcbiAgYWRkcmVzcz86IHN0cmluZ1xyXG4gIHBob25lPzogc3RyaW5nXHJcbiAgc3RhdHVzPzogc3RyaW5nXHJcbiAgbWFuYWdlcl9pZD86IHN0cmluZ1xyXG4gIG1hbmFnZXJfbmFtZT86IHN0cmluZ1xyXG4gIG9wZXJhdGluZ19ob3Vycz86IHtcclxuICAgIG9wZW46IHN0cmluZ1xyXG4gICAgY2xvc2U6IHN0cmluZ1xyXG4gIH1cclxuICBjcmVhdGVkX2F0OiBzdHJpbmdcclxuICBzaGlmdHM/OiBCcmFuY2hTaGlmdFtdXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU2VydmljZSB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIG5hbWU6IHN0cmluZ1xyXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nXHJcbiAgcHJpY2U6IG51bWJlclxyXG4gIGR1cmF0aW9uPzogbnVtYmVyXHJcbiAgY2F0ZWdvcnk/OiBzdHJpbmdcclxuICBzdGF0dXM/OiBzdHJpbmdcclxuICBzdG9jaz86IG51bWJlclxyXG4gIHR5cGU/OiBcInNlcnZpY2VcIiB8IFwicHJvZHVjdFwiXHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU2VydmljZUNhdGVnb3J5IHtcclxuICBpZDogc3RyaW5nXHJcbiAgbmFtZTogc3RyaW5nXHJcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmdcclxuICBpc19hY3RpdmU6IGJvb2xlYW5cclxuICBjcmVhdGVkX2F0OiBzdHJpbmdcclxuICB1cGRhdGVkX2F0OiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTZXJ2aWNlV2l0aENhdGVnb3J5IGV4dGVuZHMgU2VydmljZSB7XHJcbiAgY2F0ZWdvcnlfaWQ/OiBzdHJpbmdcclxuICBpc19hY3RpdmU/OiBib29sZWFuXHJcbiAgY29tbWlzc2lvbl9yYXRlPzogbnVtYmVyXHJcbiAgc2VydmljZV9jYXRlZ29yaWVzPzogU2VydmljZUNhdGVnb3J5XHJcbn1cclxuXHJcbi8vIC0tLSBUcmFuc2FjdGlvbiAtLS1cclxuZXhwb3J0IGludGVyZmFjZSBUcmFuc2FjdGlvbiB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIHRyYW5zYWN0aW9uX251bWJlcjogc3RyaW5nXHJcbiAgY3VzdG9tZXJfbmFtZTogc3RyaW5nXHJcbiAgdG90YWxfYW1vdW50OiBudW1iZXJcclxuICBwYXltZW50X21ldGhvZDogc3RyaW5nXHJcbiAgcGF5bWVudF9zdGF0dXM6IHN0cmluZ1xyXG4gIG5vdGVzPzogc3RyaW5nXHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbiAgY2FzaGllcl9pZD86IHN0cmluZ1xyXG4gIGNhc2hpZXJfbmFtZT86IHN0cmluZ1xyXG4gIGJyYW5jaF9pZD86IHN0cmluZ1xyXG4gIGJyYW5jaF9uYW1lPzogc3RyaW5nXHJcbiAgc2VydmVyX2lkPzogc3RyaW5nXHJcbiAgc2VydmVyX25hbWU/OiBzdHJpbmdcclxuICBjYXNoaWVyPzoge1xyXG4gICAgbmFtZTogc3RyaW5nXHJcbiAgfVxyXG4gIGJyYW5jaD86IHtcclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gIH1cclxuICB0cmFuc2FjdGlvbl9pdGVtcz86IHtcclxuICAgIHF1YW50aXR5OiBudW1iZXJcclxuICAgIHVuaXRfcHJpY2U6IG51bWJlclxyXG4gICAgdG90YWxfcHJpY2U6IG51bWJlclxyXG4gICAgc2VydmljZV9pZDogc3RyaW5nXHJcbiAgICBzZXJ2aWNlPzoge1xyXG4gICAgICBuYW1lOiBzdHJpbmdcclxuICAgIH1cclxuICB9W11cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUcmFuc2FjdGlvbldpdGhJdGVtcyBleHRlbmRzIFRyYW5zYWN0aW9uIHtcclxuICByZWNlaXB0X251bWJlcj86IHN0cmluZ1xyXG4gIGZpbmFsX2Ftb3VudD86IG51bWJlclxyXG4gIHN1YnRvdGFsPzogbnVtYmVyXHJcbiAgZGlzY291bnRfYW1vdW50PzogbnVtYmVyXHJcbiAgdHJhbnNhY3Rpb25faXRlbXM/OiBUcmFuc2FjdGlvbkl0ZW1XaXRoU2VydmljZVtdXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNhY3Rpb25JdGVtIHtcclxuICBpZDogc3RyaW5nXHJcbiAgdHJhbnNhY3Rpb25faWQ6IHN0cmluZ1xyXG4gIHNlcnZpY2VfaWQ6IHN0cmluZ1xyXG4gIHF1YW50aXR5OiBudW1iZXJcclxuICB1bml0X3ByaWNlOiBudW1iZXJcclxuICB0b3RhbF9wcmljZTogbnVtYmVyXHJcbiAgc2VydmljZT86IHsgbmFtZTogc3RyaW5nOyBkZXNjcmlwdGlvbj86IHN0cmluZyB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNhY3Rpb25JdGVtV2l0aFNlcnZpY2UgZXh0ZW5kcyBUcmFuc2FjdGlvbkl0ZW0ge1xyXG4gIHNlcnZpY2U/OiBTZXJ2aWNlV2l0aENhdGVnb3J5XHJcbn1cclxuXHJcbi8vIC0tLSBBdHRlbmRhbmNlIC0tLVxyXG5leHBvcnQgaW50ZXJmYWNlIEF0dGVuZGFuY2Uge1xyXG4gIGlkOiBzdHJpbmdcclxuICB1c2VyX2lkOiBzdHJpbmdcclxuICBicmFuY2hfaWQ/OiBzdHJpbmdcclxuICBzaGlmdF90eXBlOiBcInBhZ2lcIiB8IFwic2lhbmdcIiB8IFwibWFsYW1cIlxyXG4gIGNoZWNrX2luX3RpbWU/OiBzdHJpbmdcclxuICBjaGVja19vdXRfdGltZT86IHN0cmluZ1xyXG4gIGJyZWFrX3N0YXJ0X3RpbWU/OiBzdHJpbmdcclxuICBicmVha19lbmRfdGltZT86IHN0cmluZ1xyXG4gIHRvdGFsX2hvdXJzPzogbnVtYmVyXHJcbiAgYnJlYWtfZHVyYXRpb24/OiBudW1iZXJcclxuICBzdGF0dXM6IFwiY2hlY2tlZF9pblwiIHwgXCJvbl9icmVha1wiIHwgXCJjaGVja2VkX291dFwiIHwgXCJhYnNlbnRcIlxyXG4gIGNoZWNrX2luX3Bob3RvPzogc3RyaW5nXHJcbiAgY2hlY2tfb3V0X3Bob3RvPzogc3RyaW5nXHJcbiAgZGF0ZTogc3RyaW5nXHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbiAgdXBkYXRlZF9hdD86IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEF0dGVuZGFuY2VXaXRoRGV0YWlscyBleHRlbmRzIEF0dGVuZGFuY2Uge1xyXG4gIHVzZXJzPzogRW1wbG95ZWVcclxuICBicmFuY2hlcz86IEJyYW5jaFxyXG59XHJcblxyXG4vLyAtLS0gTWVudSAtLS1cclxuZXhwb3J0IGludGVyZmFjZSBNZW51Q2F0ZWdvcnkge1xyXG4gIGlkOiBzdHJpbmdcclxuICBuYW1lOiBzdHJpbmdcclxuICBkZXNjcmlwdGlvbj86IHN0cmluZ1xyXG4gIGljb246IHN0cmluZ1xyXG4gIHN0YXR1czogXCJhY3RpdmVcIiB8IFwiaW5hY3RpdmVcIlxyXG4gIHNvcnRfb3JkZXI6IG51bWJlclxyXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1lbnVJdGVtIHtcclxuICBpZDogc3RyaW5nXHJcbiAgbmFtZTogc3RyaW5nXHJcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmdcclxuICBwcmljZTogbnVtYmVyXHJcbiAgY2F0ZWdvcnlfaWQ6IHN0cmluZ1xyXG4gIGR1cmF0aW9uPzogbnVtYmVyXHJcbiAgc3RhdHVzOiBcImFjdGl2ZVwiIHwgXCJpbmFjdGl2ZVwiXHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVjZWlwdFRlbXBsYXRlIHtcclxuICBpZDogc3RyaW5nXHJcbiAgbmFtZTogc3RyaW5nXHJcbiAgaGVhZGVyX3RleHQ/OiBzdHJpbmdcclxuICBmb290ZXJfdGV4dD86IHN0cmluZ1xyXG4gIGxvZ29fdXJsPzogc3RyaW5nXHJcbiAgaXNfYWN0aXZlPzogYm9vbGVhblxyXG4gIHNob3dfbG9nbz86IGJvb2xlYW5cclxuICBzaG93X2FkZHJlc3M/OiBib29sZWFuXHJcbiAgc2hvd19waG9uZT86IGJvb2xlYW5cclxuICBzaG93X2RhdGU/OiBib29sZWFuXHJcbiAgc2hvd19iYXJiZXI/OiBib29sZWFuXHJcbiAgY3JlYXRlZF9hdD86IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFJlY2VpcHRUZW1wbGF0ZVdpdGhCcmFuY2ggZXh0ZW5kcyBSZWNlaXB0VGVtcGxhdGUge1xyXG4gIGJyYW5jaF9pZD86IHN0cmluZ1xyXG4gIHRlbXBsYXRlX25hbWU/OiBzdHJpbmdcclxuICBwYXBlcl93aWR0aD86IG51bWJlclxyXG59XHJcblxyXG4vLyAtLS0gUG9pbnRzIFN5c3RlbSAtLS1cclxuZXhwb3J0IGludGVyZmFjZSBQb2ludCB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIHVzZXJfaWQ6IHN0cmluZ1xyXG4gIHBvaW50c19lYXJuZWQ6IG51bWJlclxyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICBwb2ludHNfdHlwZTogc3RyaW5nXHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbiAgdXBkYXRlZF9hdD86IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJXaXRoUG9pbnRzIGV4dGVuZHMgVXNlciB7XHJcbiAgdG90YWxfcG9pbnRzPzogbnVtYmVyXHJcbiAgbW9udGhseV9wb2ludHM/OiBudW1iZXJcclxuICByYW5rPzogbnVtYmVyXHJcbiAgcG9pbnRzPzogUG9pbnRbXVxyXG4gIGJyYW5jaGVzOiB7XHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICB9IHwgbnVsbFxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBLYXNib24gSW50ZXJmYWNlc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5leHBvcnQgaW50ZXJmYWNlIEthc2JvbiB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIHVzZXJfaWQ6IHN0cmluZ1xyXG4gIHVzZXJfbmFtZT86IHN0cmluZ1xyXG4gIGFtb3VudDogbnVtYmVyXHJcbiAgcGFpZF9hbW91bnQ/OiBudW1iZXJcclxuICByZWFzb246IHN0cmluZ1xyXG4gIHN0YXR1czogXCJwZW5kaW5nXCIgfCBcImFwcHJvdmVkXCIgfCBcInJlamVjdGVkXCIgfCBcInBhaWRcIlxyXG4gIHJlcXVlc3RfZGF0ZTogc3RyaW5nXHJcbiAgZHVlX2RhdGU/OiBzdHJpbmdcclxuICBub3Rlcz86IHN0cmluZ1xyXG4gIGFwcHJvdmVkX2J5Pzogc3RyaW5nXHJcbiAgYXBwcm92ZWRfYXQ/OiBzdHJpbmdcclxuICBjcmVhdGVkX2F0OiBzdHJpbmdcclxuICB1cGRhdGVkX2F0Pzogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgS2FzYm9uV2l0aFVzZXIgZXh0ZW5kcyBLYXNib24ge1xyXG4gIHVzZXI/OiBVc2VyXHJcbiAgYXBwcm92ZXI/OiB7XHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlcldpdGhLYXNib24gZXh0ZW5kcyBVc2VyIHtcclxuICB0b3RhbF9rYXNib24/OiBudW1iZXJcclxuICBhY3RpdmVfa2FzYm9uPzogbnVtYmVyXHJcbiAga2FzYm9uX2hpc3Rvcnk/OiBLYXNib25bXVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBFeHBlbnNlIE1hbmFnZW1lbnQgSW50ZXJmYWNlc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5leHBvcnQgaW50ZXJmYWNlIEV4cGVuc2Uge1xyXG4gIGlkOiBzdHJpbmdcclxuICBicmFuY2hfaWQ/OiBzdHJpbmdcclxuICBjYXRlZ29yeTogc3RyaW5nXHJcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xyXG4gIGFtb3VudDogbnVtYmVyXHJcbiAgc3RhdHVzOiBcInBlbmRpbmdcIiB8IFwiYXBwcm92ZWRcIiB8IFwicmVqZWN0ZWRcIiB8IFwicGFpZFwiXHJcbiAgcmVxdWVzdF9kYXRlOiBzdHJpbmdcclxuICBkdWVfZGF0ZT86IHN0cmluZ1xyXG4gIHJlY2VpcHRfdXJsPzogc3RyaW5nXHJcbiAgbm90ZXM/OiBzdHJpbmdcclxuICByZXF1ZXN0ZWRfYnk6IHN0cmluZ1xyXG4gIGFwcHJvdmVkX2J5Pzogc3RyaW5nXHJcbiAgYXBwcm92ZWRfYXQ/OiBzdHJpbmdcclxuICBjcmVhdGVkX2F0OiBzdHJpbmdcclxuICB1cGRhdGVkX2F0Pzogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRXhwZW5zZVdpdGhVc2VyIGV4dGVuZHMgRXhwZW5zZSB7XHJcbiAgdXNlcnM/OiBVc2VyXHJcbiAgYnJhbmNoZXM/OiBCcmFuY2hcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQnJhbmNoIFNoaWZ0IE1hbmFnZW1lbnRcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGludGVyZmFjZSBCcmFuY2hTaGlmdCB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIGJyYW5jaF9pZDogc3RyaW5nXHJcbiAgc2hpZnRfbmFtZTogc3RyaW5nXHJcbiAgc2hpZnRfdHlwZTogXCJwYWdpXCIgfCBcInNpYW5nXCIgfCBcIm1hbGFtXCJcclxuICBzdGFydF90aW1lOiBzdHJpbmdcclxuICBlbmRfdGltZTogc3RyaW5nXHJcbiAgaXNfYWN0aXZlOiBib29sZWFuXHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRCcmFuY2hTaGlmdHMoYnJhbmNoSWQ6IHN0cmluZykge1xyXG4gIGNvbnNvbGUubG9nKFwiW3YwXSBnZXRCcmFuY2hTaGlmdHMgY2FsbGVkIHdpdGggYnJhbmNoSWQ6XCIsIGJyYW5jaElkKVxyXG5cclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oXCJicmFuY2hfc2hpZnRzXCIpXHJcbiAgICAuc2VsZWN0KFwiKlwiKVxyXG4gICAgLmVxKFwiYnJhbmNoX2lkXCIsIGJyYW5jaElkKVxyXG4gICAgLmVxKFwiaXNfYWN0aXZlXCIsIHRydWUpXHJcbiAgICAub3JkZXIoXCJzdGFydF90aW1lXCIpXHJcblxyXG4gIGNvbnNvbGUubG9nKFwiW3YwXSBCcmFuY2ggc2hpZnRzIHJlc3VsdDpcIiwgeyBkYXRhLCBlcnJvciB9KVxyXG5cclxuICBpZiAoZXJyb3IgfHwgIWRhdGEgfHwgZGF0YS5sZW5ndGggPT09IDApIHtcclxuICAgIGNvbnNvbGUubG9nKFwiW3YwXSBObyBzaGlmdHMgZm91bmQsIHJldHVybmluZyBkZWZhdWx0IHNoaWZ0c1wiKVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YTogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiBgZGVmYXVsdC1wYWdpLSR7YnJhbmNoSWR9YCxcclxuICAgICAgICAgIGJyYW5jaF9pZDogYnJhbmNoSWQsXHJcbiAgICAgICAgICBzaGlmdF9uYW1lOiBcIlNoaWZ0IFBhZ2lcIixcclxuICAgICAgICAgIHNoaWZ0X3R5cGU6IFwicGFnaVwiIGFzIGNvbnN0LFxyXG4gICAgICAgICAgc3RhcnRfdGltZTogXCIwODowMFwiLFxyXG4gICAgICAgICAgZW5kX3RpbWU6IFwiMTY6MDBcIixcclxuICAgICAgICAgIGlzX2FjdGl2ZTogdHJ1ZSxcclxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiBgZGVmYXVsdC1zaWFuZy0ke2JyYW5jaElkfWAsXHJcbiAgICAgICAgICBicmFuY2hfaWQ6IGJyYW5jaElkLFxyXG4gICAgICAgICAgc2hpZnRfbmFtZTogXCJTaGlmdCBTaWFuZ1wiLFxyXG4gICAgICAgICAgc2hpZnRfdHlwZTogXCJzaWFuZ1wiIGFzIGNvbnN0LFxyXG4gICAgICAgICAgc3RhcnRfdGltZTogXCIxMjowMFwiLFxyXG4gICAgICAgICAgZW5kX3RpbWU6IFwiMjA6MDBcIixcclxuICAgICAgICAgIGlzX2FjdGl2ZTogdHJ1ZSxcclxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiBgZGVmYXVsdC1tYWxhbS0ke2JyYW5jaElkfWAsXHJcbiAgICAgICAgICBicmFuY2hfaWQ6IGJyYW5jaElkLFxyXG4gICAgICAgICAgc2hpZnRfbmFtZTogXCJTaGlmdCBNYWxhbVwiLFxyXG4gICAgICAgICAgc2hpZnRfdHlwZTogXCJtYWxhbVwiIGFzIGNvbnN0LFxyXG4gICAgICAgICAgc3RhcnRfdGltZTogXCIyMDowMFwiLFxyXG4gICAgICAgICAgZW5kX3RpbWU6IFwiMDQ6MDBcIixcclxuICAgICAgICAgIGlzX2FjdGl2ZTogdHJ1ZSxcclxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICB9LFxyXG4gICAgICBdLFxyXG4gICAgICBlcnJvcjogbnVsbCxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUJyYW5jaFNoaWZ0KHNoaWZ0RGF0YTogT21pdDxCcmFuY2hTaGlmdCwgXCJpZFwiIHwgXCJjcmVhdGVkX2F0XCI+KSB7XHJcbiAgY29uc29sZS5sb2coXCJbdjBdIGNyZWF0ZUJyYW5jaFNoaWZ0IGNhbGxlZCB3aXRoOlwiLCBzaGlmdERhdGEpXHJcblxyXG4gIGNvbnN0IHNoaWZ0VG9JbnNlcnQgPSB7XHJcbiAgICAuLi5zaGlmdERhdGEsXHJcbiAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgfVxyXG5cclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwiYnJhbmNoX3NoaWZ0c1wiKS5pbnNlcnQoW3NoaWZ0VG9JbnNlcnRdKS5zZWxlY3QoKS5zaW5nbGUoKVxyXG5cclxuICBjb25zb2xlLmxvZyhcIlt2MF0gQ3JlYXRlIGJyYW5jaCBzaGlmdCByZXN1bHQ6XCIsIHsgZGF0YSwgZXJyb3IgfSlcclxuICByZXR1cm4gZXJyb3IgPyB7IGRhdGE6IG51bGwsIGVycm9yIH0gOiB7IGRhdGEsIGVycm9yOiBudWxsIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRnVuZ3NpIGhlbHBlciBBdHRlbmRhbmNlXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGxvYWRQaG90b1RvU3VwYWJhc2UoYmFzZTY0OiBzdHJpbmcsIGZpbGVuYW1lOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcclxuICB0cnkge1xyXG4gICAgZnVuY3Rpb24gYmFzZTY0VG9CbG9iKGJhc2U2NERhdGE6IHN0cmluZywgY29udGVudFR5cGUgPSBcImltYWdlL2pwZWdcIikge1xyXG4gICAgICBjb25zdCBieXRlQ2hhcmFjdGVycyA9IGF0b2IoYmFzZTY0RGF0YS5zcGxpdChcIixcIilbMV0pXHJcbiAgICAgIGNvbnN0IGJ5dGVBcnJheXMgPSBbXVxyXG4gICAgICBmb3IgKGxldCBvZmZzZXQgPSAwOyBvZmZzZXQgPCBieXRlQ2hhcmFjdGVycy5sZW5ndGg7IG9mZnNldCArPSA1MTIpIHtcclxuICAgICAgICBjb25zdCBzbGljZSA9IGJ5dGVDaGFyYWN0ZXJzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgNTEyKVxyXG4gICAgICAgIGNvbnN0IGJ5dGVOdW1iZXJzID0gbmV3IEFycmF5KHNsaWNlLmxlbmd0aClcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWNlLmxlbmd0aDsgaSsrKSBieXRlTnVtYmVyc1tpXSA9IHNsaWNlLmNoYXJDb2RlQXQoaSlcclxuICAgICAgICBieXRlQXJyYXlzLnB1c2gobmV3IFVpbnQ4QXJyYXkoYnl0ZU51bWJlcnMpKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBuZXcgQmxvYihieXRlQXJyYXlzLCB7IHR5cGU6IGNvbnRlbnRUeXBlIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYmxvYiA9IGJhc2U2NFRvQmxvYihiYXNlNjQpXHJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5zdG9yYWdlLmZyb20oXCJhdHRlbmRhbmNlLXBob3Rvc1wiKS51cGxvYWQoZmlsZW5hbWUsIGJsb2IsIHtcclxuICAgICAgY2FjaGVDb250cm9sOiBcIjM2MDBcIixcclxuICAgICAgdXBzZXJ0OiB0cnVlLFxyXG4gICAgICBjb250ZW50VHlwZTogXCJpbWFnZS9qcGVnXCIsXHJcbiAgICB9KVxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG5cclxuICAgIGNvbnN0IHsgZGF0YTogcHVibGljVXJsRGF0YSB9ID0gc3VwYWJhc2Uuc3RvcmFnZS5mcm9tKFwiYXR0ZW5kYW5jZS1waG90b3NcIikuZ2V0UHVibGljVXJsKGZpbGVuYW1lKVxyXG4gICAgcmV0dXJuIHB1YmxpY1VybERhdGE/LnB1YmxpY1VybCB8fCBudWxsXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJQaG90byB1cGxvYWQgZmFpbGVkOlwiLCBlcnJvcilcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQXR0ZW5kYW5jZVJlY29yZChhdHRlbmRhbmNlRGF0YTogUGFydGlhbDxBdHRlbmRhbmNlPikge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJhdHRlbmRhbmNlXCIpLmluc2VydChbYXR0ZW5kYW5jZURhdGFdKS5zZWxlY3QoKS5zaW5nbGUoKVxyXG4gIHJldHVybiBlcnJvciA/IHsgZGF0YTogbnVsbCwgZXJyb3IgfSA6IHsgZGF0YSwgZXJyb3I6IG51bGwgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQXR0ZW5kYW5jZVJlY29yZChpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPEF0dGVuZGFuY2U+KSB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwiYXR0ZW5kYW5jZVwiKVxyXG4gICAgLnVwZGF0ZSh7IC4uLnVwZGF0ZXMsIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9KVxyXG4gICAgLmVxKFwiaWRcIiwgaWQpXHJcbiAgICAuc2VsZWN0KClcclxuICAgIC5zaW5nbGUoKVxyXG4gIHJldHVybiBlcnJvciA/IHsgZGF0YTogbnVsbCwgZXJyb3IgfSA6IHsgZGF0YSwgZXJyb3I6IG51bGwgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXR0ZW5kYW5jZUJ5RGF0ZSh1c2VySWQ6IHN0cmluZywgZGF0ZTogc3RyaW5nKSB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcImF0dGVuZGFuY2VcIikuc2VsZWN0KFwiKlwiKS5lcShcInVzZXJfaWRcIiwgdXNlcklkKS5lcShcImRhdGVcIiwgZGF0ZSkuc2luZ2xlKClcclxuICByZXR1cm4gZXJyb3IgJiYgZXJyb3IuY29kZSAhPT0gXCJQR1JTVDExNlwiID8geyBkYXRhOiBudWxsLCBlcnJvciB9IDogeyBkYXRhLCBlcnJvcjogbnVsbCB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxBdHRlbmRhbmNlUmVjb3JkcyhicmFuY2hJZD86IHN0cmluZykge1xyXG4gIGxldCBxdWVyeSA9IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcImF0dGVuZGFuY2VcIilcclxuICAgIC5zZWxlY3QoYCosXHJcbiAgICAgIHVzZXJzOnVzZXJfaWQgKCBpZCwgbmFtZSwgZW1haWwgKSxcclxuICAgICAgYnJhbmNoZXM6YnJhbmNoX2lkICggaWQsIG5hbWUgKVxyXG4gICAgYClcclxuICAgIC5vcmRlcihcImRhdGVcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXHJcbiAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG4gIGlmIChicmFuY2hJZCkgcXVlcnkgPSBxdWVyeS5lcShcImJyYW5jaF9pZFwiLCBicmFuY2hJZClcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeVxyXG4gIHJldHVybiBlcnJvciA/IHsgZGF0YTogW10sIGVycm9yIH0gOiB7IGRhdGE6IGRhdGEgfHwgW10sIGVycm9yOiBudWxsIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRnVuZ3NpIGhlbHBlciBQT1NcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlcnZpY2VzV2l0aENhdGVnb3JpZXMoKSB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwic2VydmljZXNcIilcclxuICAgIC5zZWxlY3QoYCosXHJcbiAgICBzZXJ2aWNlX2NhdGVnb3JpZXMgKCBpZCwgbmFtZSwgZGVzY3JpcHRpb24gKVxyXG4gIGApXHJcbiAgICAub3JkZXIoXCJuYW1lXCIpXHJcbiAgcmV0dXJuIGVycm9yID8geyBkYXRhOiBbXSwgZXJyb3IgfSA6IHsgZGF0YTogZGF0YSB8fCBbXSwgZXJyb3I6IG51bGwgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VydmljZUNhdGVnb3JpZXMoKSB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInNlcnZpY2VfY2F0ZWdvcmllc1wiKS5zZWxlY3QoXCIqXCIpLm9yZGVyKFwibmFtZVwiKVxyXG4gIHJldHVybiBlcnJvciA/IHsgZGF0YTogW10sIGVycm9yIH0gOiB7IGRhdGE6IGRhdGEgfHwgW10sIGVycm9yOiBudWxsIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uRGF0YTogUGFydGlhbDxUcmFuc2FjdGlvbldpdGhJdGVtcz4pIHtcclxuICBjb25zdCB0cmFuc2FjdGlvbk51bWJlciA9IGF3YWl0IGdlbmVyYXRlVHJhbnNhY3Rpb25OdW1iZXIoKVxyXG4gIGxldCB7IGNhc2hpZXJfaWQsIGJyYW5jaF9pZCwgc2VydmVyX2lkIH0gPSB0cmFuc2FjdGlvbkRhdGFcclxuXHJcbiAgLy8gR2V0IGNhc2hpZXIsIGJyYW5jaCwgc2VydmVyIGRhdGEgdW50dWsgc25hcHNob3RcclxuICBsZXQgY2FzaGllck5hbWUgPSAnVW5rbm93bidcclxuICBsZXQgYnJhbmNoTmFtZSA9ICdVbmtub3duJ1xyXG4gIGxldCBzZXJ2ZXJOYW1lOiBzdHJpbmcgfCB1bmRlZmluZWRcclxuXHJcbiAgaWYgKCFjYXNoaWVyX2lkKSB7XHJcbiAgICBjb25zdCB7IGRhdGE6IHVzZXJzIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwidXNlcnNcIikuc2VsZWN0KFwiaWQsIG5hbWVcIikubGltaXQoMSkuc2luZ2xlKClcclxuICAgIGNhc2hpZXJfaWQgPSB1c2Vycz8uaWRcclxuICAgIGNhc2hpZXJOYW1lID0gdXNlcnM/Lm5hbWUgfHwgJ1Vua25vd24nXHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IHsgZGF0YTogY2FzaGllciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInVzZXJzXCIpLnNlbGVjdChcIm5hbWVcIikuZXEoXCJpZFwiLCBjYXNoaWVyX2lkKS5zaW5nbGUoKVxyXG4gICAgY2FzaGllck5hbWUgPSBjYXNoaWVyPy5uYW1lIHx8ICdVbmtub3duJ1xyXG4gIH1cclxuXHJcbiAgaWYgKCFicmFuY2hfaWQpIHtcclxuICAgIGNvbnN0IHsgZGF0YTogYnJhbmNoZXMgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJicmFuY2hlc1wiKS5zZWxlY3QoXCJpZCwgbmFtZVwiKS5saW1pdCgxKS5zaW5nbGUoKVxyXG4gICAgYnJhbmNoX2lkID0gYnJhbmNoZXM/LmlkXHJcbiAgICBicmFuY2hOYW1lID0gYnJhbmNoZXM/Lm5hbWUgfHwgJ1Vua25vd24nXHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IHsgZGF0YTogYnJhbmNoIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwiYnJhbmNoZXNcIikuc2VsZWN0KFwibmFtZVwiKS5lcShcImlkXCIsIGJyYW5jaF9pZCkuc2luZ2xlKClcclxuICAgIGJyYW5jaE5hbWUgPSBicmFuY2g/Lm5hbWUgfHwgJ1Vua25vd24nXHJcbiAgfVxyXG5cclxuICBpZiAoc2VydmVyX2lkKSB7XHJcbiAgICBjb25zdCB7IGRhdGE6IHNlcnZlciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInVzZXJzXCIpLnNlbGVjdChcIm5hbWVcIikuZXEoXCJpZFwiLCBzZXJ2ZXJfaWQpLnNpbmdsZSgpXHJcbiAgICBzZXJ2ZXJOYW1lID0gc2VydmVyPy5uYW1lXHJcbiAgfVxyXG5cclxuICBjb25zdCB0cmFuc2FjdGlvblRvSW5zZXJ0ID0ge1xyXG4gICAgLi4udHJhbnNhY3Rpb25EYXRhLFxyXG4gICAgdHJhbnNhY3Rpb25fbnVtYmVyOiB0cmFuc2FjdGlvbk51bWJlcixcclxuICAgIHJlY2VpcHRfbnVtYmVyOiB0cmFuc2FjdGlvbk51bWJlcixcclxuICAgIGNhc2hpZXJfaWQsXHJcbiAgICBjYXNoaWVyX25hbWU6IGNhc2hpZXJOYW1lLFxyXG4gICAgYnJhbmNoX2lkLFxyXG4gICAgYnJhbmNoX25hbWU6IGJyYW5jaE5hbWUsXHJcbiAgICBzZXJ2ZXJfaWQsXHJcbiAgICBzZXJ2ZXJfbmFtZTogc2VydmVyTmFtZSxcclxuICAgIHN1YnRvdGFsOiB0cmFuc2FjdGlvbkRhdGEuc3VidG90YWwgfHwgdHJhbnNhY3Rpb25EYXRhLnRvdGFsX2Ftb3VudCB8fCAwLFxyXG4gICAgcGF5bWVudF9zdGF0dXM6IHRyYW5zYWN0aW9uRGF0YS5wYXltZW50X3N0YXR1cyB8fCBcImNvbXBsZXRlZFwiLFxyXG4gICAgcGF5bWVudF9tZXRob2Q6IHRyYW5zYWN0aW9uRGF0YS5wYXltZW50X21ldGhvZCB8fCBcImNhc2hcIixcclxuICAgIHRvdGFsX2Ftb3VudDogdHJhbnNhY3Rpb25EYXRhLnRvdGFsX2Ftb3VudCB8fCAwLFxyXG4gICAgZGlzY291bnRfYW1vdW50OiB0cmFuc2FjdGlvbkRhdGEuZGlzY291bnRfYW1vdW50IHx8IDAsXHJcbiAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgfVxyXG5cclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwidHJhbnNhY3Rpb25zXCIpLmluc2VydChbdHJhbnNhY3Rpb25Ub0luc2VydF0pLnNlbGVjdCgpLnNpbmdsZSgpXHJcbiAgcmV0dXJuIGVycm9yID8geyBkYXRhOiBudWxsLCBlcnJvciB9IDogeyBkYXRhLCBlcnJvcjogbnVsbCB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVUcmFuc2FjdGlvbkl0ZW1zKGl0ZW1zOiBQYXJ0aWFsPFRyYW5zYWN0aW9uSXRlbT5bXSkge1xyXG4gIC8vIEVucmljaCBpdGVtcyBkZW5nYW4gc25hcHNob3QgZGF0YSBkYXJpIHNlcnZpY2VzXHJcbiAgY29uc3QgZW5yaWNoZWRJdGVtcyA9IGF3YWl0IFByb21pc2UuYWxsKGl0ZW1zLm1hcChhc3luYyAoaXRlbSkgPT4ge1xyXG4gICAgaWYgKGl0ZW0uc2VydmljZV9pZCkge1xyXG4gICAgICBjb25zdCB7IGRhdGE6IHNlcnZpY2UgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oXCJzZXJ2aWNlc1wiKVxyXG4gICAgICAgIC5zZWxlY3QoXCJuYW1lLCB0eXBlLCBzZXJ2aWNlX2NhdGVnb3JpZXMobmFtZSlcIilcclxuICAgICAgICAuZXEoXCJpZFwiLCBpdGVtLnNlcnZpY2VfaWQpXHJcbiAgICAgICAgLnNpbmdsZSgpXHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLml0ZW0sXHJcbiAgICAgICAgc2VydmljZV9uYW1lOiBzZXJ2aWNlPy5uYW1lIHx8ICdVbmtub3duIFNlcnZpY2UnLFxyXG4gICAgICAgIHNlcnZpY2VfdHlwZTogc2VydmljZT8udHlwZSxcclxuICAgICAgICBzZXJ2aWNlX2NhdGVnb3J5OiBzZXJ2aWNlPy5zZXJ2aWNlX2NhdGVnb3JpZXM/Lm5hbWVcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGl0ZW1cclxuICB9KSlcclxuXHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInRyYW5zYWN0aW9uX2l0ZW1zXCIpLmluc2VydChlbnJpY2hlZEl0ZW1zKS5zZWxlY3QoKVxyXG4gIHJldHVybiBlcnJvciA/IHsgZGF0YTogW10sIGVycm9yIH0gOiB7IGRhdGE6IGRhdGEgfHwgW10sIGVycm9yOiBudWxsIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlY2VpcHRUZW1wbGF0ZShicmFuY2hJZD86IHN0cmluZykge1xyXG4gIGxldCBxdWVyeSA9IHN1cGFiYXNlLmZyb20oXCJyZWNlaXB0X3RlbXBsYXRlc1wiKS5zZWxlY3QoXCIqXCIpXHJcbiAgaWYgKGJyYW5jaElkKSBxdWVyeSA9IHF1ZXJ5LmVxKFwiYnJhbmNoX2lkXCIsIGJyYW5jaElkKVxyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5LnNpbmdsZSgpXHJcbiAgcmV0dXJuIGVycm9yICYmIGVycm9yLmNvZGUgIT09IFwiUEdSU1QxMTZcIiA/IHsgZGF0YTogbnVsbCwgZXJyb3IgfSA6IHsgZGF0YSwgZXJyb3I6IG51bGwgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWN0aXZlUmVjZWlwdFRlbXBsYXRlKGJyYW5jaElkPzogc3RyaW5nKSB7XHJcbiAgLy8gUHJpb3JpdHkgMTogVHJ5IHRvIGdldCBhY3RpdmUgdGVtcGxhdGUgKGlzX2FjdGl2ZSA9IHRydWUpXHJcbiAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2UuZnJvbShcInJlY2VpcHRfdGVtcGxhdGVzXCIpLnNlbGVjdChcIipcIikuZXEoXCJpc19hY3RpdmVcIiwgdHJ1ZSlcclxuICBpZiAoYnJhbmNoSWQpIHF1ZXJ5ID0gcXVlcnkuZXEoXCJicmFuY2hfaWRcIiwgYnJhbmNoSWQpXHJcbiAgY29uc3QgeyBkYXRhOiBhY3RpdmVEYXRhLCBlcnJvcjogYWN0aXZlRXJyb3IgfSA9IGF3YWl0IHF1ZXJ5LnNpbmdsZSgpXHJcbiAgXHJcbiAgaWYgKGFjdGl2ZURhdGEgJiYgIWFjdGl2ZUVycm9yKSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBhY3RpdmVEYXRhLCBlcnJvcjogbnVsbCB9XHJcbiAgfVxyXG4gIFxyXG4gIC8vIFByaW9yaXR5IDI6IElmIG5vIGFjdGl2ZSB0ZW1wbGF0ZSwgZ2V0IGRlZmF1bHQgdGVtcGxhdGUgKGlzX2RlZmF1bHQgPSB0cnVlKVxyXG4gIGxldCBkZWZhdWx0UXVlcnkgPSBzdXBhYmFzZS5mcm9tKFwicmVjZWlwdF90ZW1wbGF0ZXNcIikuc2VsZWN0KFwiKlwiKS5lcShcImlzX2RlZmF1bHRcIiwgdHJ1ZSlcclxuICBpZiAoYnJhbmNoSWQpIGRlZmF1bHRRdWVyeSA9IGRlZmF1bHRRdWVyeS5lcShcImJyYW5jaF9pZFwiLCBicmFuY2hJZClcclxuICBjb25zdCB7IGRhdGE6IGRlZmF1bHREYXRhLCBlcnJvcjogZGVmYXVsdEVycm9yIH0gPSBhd2FpdCBkZWZhdWx0UXVlcnkuc2luZ2xlKClcclxuICBcclxuICBpZiAoZGVmYXVsdERhdGEgJiYgIWRlZmF1bHRFcnJvcikge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogZGVmYXVsdERhdGEsIGVycm9yOiBudWxsIH1cclxuICB9XHJcbiAgXHJcbiAgLy8gUHJpb3JpdHkgMzogRmFsbGJhY2sgdG8gYW55IHRlbXBsYXRlXHJcbiAgcmV0dXJuIGF3YWl0IGdldFJlY2VpcHRUZW1wbGF0ZShicmFuY2hJZClcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEJyYW5jaGVzKCkge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJicmFuY2hlc1wiKS5zZWxlY3QoXCIqXCIpLm9yZGVyKFwibmFtZVwiKVxyXG4gIHJldHVybiBlcnJvciA/IHsgZGF0YTogW10sIGVycm9yIH0gOiB7IGRhdGE6IGRhdGEgfHwgW10sIGVycm9yOiBudWxsIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlVHJhbnNhY3Rpb25OdW1iZXIoKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UucnBjKFwiZ2VuZXJhdGVfcmVjZWlwdF9udW1iZXJcIilcclxuICAgIGlmICghZXJyb3IgJiYgZGF0YSkgcmV0dXJuIGRhdGFcclxuXHJcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKClcclxuICAgIGNvbnN0IGRhdGVTdHIgPSB0b2RheS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKS5yZXBsYWNlKC8tL2csIFwiXCIpXHJcbiAgICBjb25zdCB7IGRhdGE6IHRyYW5zYWN0aW9ucyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJ0cmFuc2FjdGlvbnNcIilcclxuICAgICAgLnNlbGVjdChcInRyYW5zYWN0aW9uX251bWJlclwiKVxyXG4gICAgICAuZ3RlKFwiY3JlYXRlZF9hdFwiLCBgJHt0b2RheS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKX1UMDA6MDA6MDAuMDAwWmApXHJcbiAgICAgIC5sdChcImNyZWF0ZWRfYXRcIiwgYCR7dG9kYXkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCl9VDIzOjU5OjU5Ljk5OVpgKVxyXG4gICAgY29uc3QgY291bnRlciA9ICh0cmFuc2FjdGlvbnM/Lmxlbmd0aCB8fCAwKSArIDFcclxuICAgIHJldHVybiBgJHtkYXRlU3RyfSR7Y291bnRlci50b1N0cmluZygpLnBhZFN0YXJ0KDMsIFwiMFwiKX1gXHJcbiAgfSBjYXRjaCB7XHJcbiAgICByZXR1cm4gYCR7RGF0ZS5ub3coKX1gXHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBGdW5nc2kgaGVscGVyIFN0b2NrIE1hbmFnZW1lbnRcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrU2VydmljZVN0b2NrKHNlcnZpY2VJZDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+IHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwic2VydmljZXNcIikuc2VsZWN0KFwic3RvY2tcIikuZXEoXCJpZFwiLCBzZXJ2aWNlSWQpLnNpbmdsZSgpXHJcbiAgcmV0dXJuIGVycm9yID8gMCA6IGRhdGE/LnN0b2NrIHx8IDBcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZHVjZVNlcnZpY2VTdG9jayhzZXJ2aWNlSWQ6IHN0cmluZywgcXVhbnRpdHk6IG51bWJlcikge1xyXG4gIGNvbnN0IHsgZGF0YTogY3VycmVudFNlcnZpY2UsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oXCJzZXJ2aWNlc1wiKVxyXG4gICAgLnNlbGVjdChcInN0b2NrXCIpXHJcbiAgICAuZXEoXCJpZFwiLCBzZXJ2aWNlSWQpXHJcbiAgICAuc2luZ2xlKClcclxuICBpZiAoZmV0Y2hFcnJvcikgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGZldGNoRXJyb3IgfVxyXG5cclxuICBjb25zdCBjdXJyZW50U3RvY2sgPSBjdXJyZW50U2VydmljZS5zdG9jayB8fCAwXHJcbiAgY29uc3QgbmV3U3RvY2sgPSBNYXRoLm1heCgwLCBjdXJyZW50U3RvY2sgLSBxdWFudGl0eSlcclxuXHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwic2VydmljZXNcIilcclxuICAgIC51cGRhdGUoeyBzdG9jazogbmV3U3RvY2sgfSlcclxuICAgIC5lcShcImlkXCIsIHNlcnZpY2VJZClcclxuICAgIC5zZWxlY3QoXCJzdG9ja1wiKVxyXG4gICAgLnNpbmdsZSgpXHJcbiAgcmV0dXJuIGVycm9yID8geyBkYXRhOiBudWxsLCBlcnJvciB9IDogeyBkYXRhLCBlcnJvcjogbnVsbCB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVTZXJ2aWNlU3RvY2soc2VydmljZUlkOiBzdHJpbmcsIG5ld1N0b2NrOiBudW1iZXIpIHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oXCJzZXJ2aWNlc1wiKVxyXG4gICAgLnVwZGF0ZSh7IHN0b2NrOiBuZXdTdG9jaywgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pXHJcbiAgICAuZXEoXCJpZFwiLCBzZXJ2aWNlSWQpXHJcbiAgICAuc2VsZWN0KClcclxuICAgIC5zaW5nbGUoKVxyXG4gIHJldHVybiBlcnJvciA/IHsgZGF0YTogbnVsbCwgZXJyb3IgfSA6IHsgZGF0YSwgZXJyb3I6IG51bGwgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBGdW5nc2kgaGVscGVyIFBvaW50cyBTeXN0ZW1cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJzV2l0aFBvaW50cyhicmFuY2hJZD86IHN0cmluZykge1xyXG4gIGNvbnNvbGUubG9nKFwiW3YxXSBnZXRVc2Vyc1dpdGhQb2ludHMgY2FsbGVkIHdpdGggYnJhbmNoSWQ6XCIsIGJyYW5jaElkKTtcclxuXHJcbiAgbGV0IHVzZXJzUXVlcnkgPSBzdXBhYmFzZS5mcm9tKFwidXNlcnNcIikuc2VsZWN0KFwiKiwgYnJhbmNoZXM6YnJhbmNoX2lkKG5hbWUpXCIpLm9yZGVyKFwibmFtZVwiKTtcclxuICBpZiAoYnJhbmNoSWQgJiYgYnJhbmNoSWQgIT09IFwiYWxsXCIpIHtcclxuICAgIHVzZXJzUXVlcnkgPSB1c2Vyc1F1ZXJ5LmVxKFwiYnJhbmNoX2lkXCIsIGJyYW5jaElkKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgZGF0YTogdXNlcnMsIGVycm9yOiB1c2Vyc0Vycm9yIH0gPSBhd2FpdCB1c2Vyc1F1ZXJ5O1xyXG4gIGlmICh1c2Vyc0Vycm9yKSByZXR1cm4geyBkYXRhOiBbXSwgZXJyb3I6IHVzZXJzRXJyb3IgfTtcclxuICBpZiAoIXVzZXJzKSByZXR1cm4geyBkYXRhOiBbXSwgZXJyb3I6IG51bGwgfTtcclxuXHJcbiAgY29uc3QgeyBkYXRhOiBhbGxQb2ludHMsIGVycm9yOiBwb2ludHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwicG9pbnRzXCIpXHJcbiAgICAuc2VsZWN0KFwidXNlcl9pZCwgcG9pbnRzX2Vhcm5lZCwgY3JlYXRlZF9hdFwiKTtcclxuICBpZiAocG9pbnRzRXJyb3IpIHJldHVybiB7IGRhdGE6IFtdLCBlcnJvcjogcG9pbnRzRXJyb3IgfTtcclxuXHJcbiAgY29uc3QgdXNlcnNXaXRoQ2FsY3VsYXRlZFBvaW50cyA9IHVzZXJzLm1hcCgodXNlcjogYW55KSA9PiB7XHJcbiAgICBjb25zdCB1c2VyUG9pbnRzID0gYWxsUG9pbnRzPy5maWx0ZXIoKHBvaW50KSA9PiBwb2ludC51c2VyX2lkID09PSB1c2VyLmlkKSB8fCBbXTtcclxuICAgIGNvbnN0IHRvdGFsUG9pbnRzID0gdXNlclBvaW50cy5yZWR1Y2UoKHN1bSwgcG9pbnQpID0+IHN1bSArIChwb2ludC5wb2ludHNfZWFybmVkIHx8IDApLCAwKTtcclxuXHJcbiAgICBjb25zdCBjdXJyZW50TW9udGggPSBuZXcgRGF0ZSgpLmdldE1vbnRoKCk7XHJcbiAgICBjb25zdCBjdXJyZW50WWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcclxuXHJcbiAgICBjb25zdCBtb250aGx5UG9pbnRzID0gdXNlclBvaW50cy5yZWR1Y2UoKHN1bSwgcG9pbnQpID0+IHtcclxuICAgICAgY29uc3QgcG9pbnREYXRlID0gbmV3IERhdGUocG9pbnQuY3JlYXRlZF9hdCk7XHJcbiAgICAgIGlmIChwb2ludERhdGUuZ2V0TW9udGgoKSA9PT0gY3VycmVudE1vbnRoICYmIHBvaW50RGF0ZS5nZXRGdWxsWWVhcigpID09PSBjdXJyZW50WWVhcikge1xyXG4gICAgICAgIHJldHVybiBzdW0gKyAocG9pbnQucG9pbnRzX2Vhcm5lZCB8fCAwKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gc3VtO1xyXG4gICAgfSwgMCk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLi4udXNlcixcclxuICAgICAgdG90YWxfcG9pbnRzOiB0b3RhbFBvaW50cyxcclxuICAgICAgbW9udGhseV9wb2ludHM6IG1vbnRobHlQb2ludHMsXHJcbiAgICB9O1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBzb3J0ZWRVc2VycyA9IHVzZXJzV2l0aENhbGN1bGF0ZWRQb2ludHNcclxuICAgIC5zb3J0KChhLCBiKSA9PiAoYi50b3RhbF9wb2ludHMgfHwgMCkgLSAoYS50b3RhbF9wb2ludHMgfHwgMCkpXHJcbiAgICAubWFwKCh1c2VyLCBpbmRleCkgPT4gKHtcclxuICAgICAgLi4udXNlcixcclxuICAgICAgcmFuazogaW5kZXggKyAxLFxyXG4gICAgfSkpO1xyXG5cclxuICBjb25zb2xlLmxvZyhcIlt2MV0gRmluYWwgc29ydGVkIHVzZXJzOlwiLCBzb3J0ZWRVc2Vycyk7XHJcbiAgcmV0dXJuIHsgZGF0YTogc29ydGVkVXNlcnMsIGVycm9yOiBudWxsIH07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQb2ludHNTdGF0aXN0aWNzKGJyYW5jaElkPzogc3RyaW5nKSB7XHJcbiAgY29uc3QgeyBkYXRhOiB1c2VycywgZXJyb3IgfSA9IGF3YWl0IGdldFVzZXJzV2l0aFBvaW50cyhicmFuY2hJZClcclxuXHJcbiAgaWYgKGVycm9yKSByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9XHJcblxyXG4gIGNvbnN0IHRvdGFsRW1wbG95ZWVzID0gdXNlcnMubGVuZ3RoXHJcbiAgY29uc3QgdG9wUGVyZm9ybWVyID0gdXNlcnNbMF0gfHwgbnVsbFxyXG4gIGNvbnN0IHRvdGFsUG9pbnRzID0gdXNlcnMucmVkdWNlKChzdW0sIHVzZXIpID0+IHN1bSArICh1c2VyLnRvdGFsX3BvaW50cyB8fCAwKSwgMClcclxuICBjb25zdCBhdmVyYWdlUG9pbnRzID0gdG90YWxFbXBsb3llZXMgPiAwID8gTWF0aC5yb3VuZCh0b3RhbFBvaW50cyAvIHRvdGFsRW1wbG95ZWVzKSA6IDBcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGRhdGE6IHtcclxuICAgICAgdG90YWxFbXBsb3llZXMsXHJcbiAgICAgIHRvcFBlcmZvcm1lcixcclxuICAgICAgYXZlcmFnZVBvaW50cyxcclxuICAgICAgdG90YWxQb2ludHMsXHJcbiAgICB9LFxyXG4gICAgZXJyb3I6IG51bGwsXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UG9pbnRUcmFuc2FjdGlvbnMoYnJhbmNoSWQ/OiBzdHJpbmcsIGxpbWl0ID0gNTApIHtcclxuICBjb25zb2xlLmxvZyhcIlt2MyBGaW5hbF0gZ2V0UG9pbnRUcmFuc2FjdGlvbnMgY2FsbGVkIHdpdGggYnJhbmNoSWQ6XCIsIGJyYW5jaElkKTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIEZpcnN0LCBnZXQgcG9pbnQgdHJhbnNhY3Rpb25zXHJcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcInBvaW50c1wiKVxyXG4gICAgICAuc2VsZWN0KFwiKlwiKVxyXG4gICAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG4gICAgICAubGltaXQobGltaXQpO1xyXG5cclxuICAgIGlmIChicmFuY2hJZCAmJiBicmFuY2hJZCAhPT0gXCJhbGxcIikge1xyXG4gICAgICAvLyBGaWx0ZXIgYnkgdXNlcidzIGJyYW5jaF9pZFxyXG4gICAgICBjb25zdCB7IGRhdGE6IHVzZXJzSW5CcmFuY2gsIGVycm9yOiB1c2Vyc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKFwidXNlcnNcIilcclxuICAgICAgICAuc2VsZWN0KFwiaWRcIilcclxuICAgICAgICAuZXEoXCJicmFuY2hfaWRcIiwgYnJhbmNoSWQpO1xyXG4gICAgICBcclxuICAgICAgaWYgKHVzZXJzRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgdXNlcnMgaW4gYnJhbmNoOlwiLCB1c2Vyc0Vycm9yKTtcclxuICAgICAgICByZXR1cm4geyBkYXRhOiBbXSwgZXJyb3I6IHVzZXJzRXJyb3IgfTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKHVzZXJzSW5CcmFuY2ggJiYgdXNlcnNJbkJyYW5jaC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc3QgdXNlcklkcyA9IHVzZXJzSW5CcmFuY2gubWFwKHUgPT4gdS5pZCk7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5pbihcInVzZXJfaWRcIiwgdXNlcklkcyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gTm8gdXNlcnMgaW4gdGhpcyBicmFuY2gsIHJldHVybiBlbXB0eVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTm8gdXNlcnMgZm91bmQgaW4gYnJhbmNoOlwiLCBicmFuY2hJZCk7XHJcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogW10sIGVycm9yOiBudWxsIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGE6IHBvaW50c0RhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHBvaW50IHRyYW5zYWN0aW9uczpcIiwgZXJyb3IpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZGV0YWlsczpcIiwgSlNPTi5zdHJpbmdpZnkoZXJyb3IsIG51bGwsIDIpKTtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNvZGU6XCIsIGVycm9yLmNvZGUpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbWVzc2FnZTpcIiwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IFtdLCBlcnJvciB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghcG9pbnRzRGF0YSB8fCBwb2ludHNEYXRhLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIk5vIHBvaW50IHRyYW5zYWN0aW9ucyBmb3VuZFwiKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogW10sIGVycm9yOiBudWxsIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHVzZXIgZGV0YWlscyBmb3IgYWxsIHBvaW50c1xyXG4gICAgY29uc3QgdXNlcklkcyA9IFsuLi5uZXcgU2V0KHBvaW50c0RhdGEubWFwKHAgPT4gcC51c2VyX2lkKS5maWx0ZXIoQm9vbGVhbikpXTtcclxuICAgIGxldCB1c2Vyc01hcDogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xyXG4gICAgXHJcbiAgICBpZiAodXNlcklkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IHsgZGF0YTogdXNlcnMgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oXCJ1c2Vyc1wiKVxyXG4gICAgICAgIC5zZWxlY3QoXCJpZCwgbmFtZSwgYnJhbmNoX2lkXCIpXHJcbiAgICAgICAgLmluKFwiaWRcIiwgdXNlcklkcyk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAodXNlcnMpIHtcclxuICAgICAgICB1c2Vyc01hcCA9IHVzZXJzLnJlZHVjZSgoYWNjLCB1KSA9PiAoeyAuLi5hY2MsIFt1LmlkXTogdSB9KSwge30pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IGFsbCB1bmlxdWUgYnJhbmNoX2lkc1xyXG4gICAgY29uc3QgYnJhbmNoSWRzID0gWy4uLm5ldyBTZXQoT2JqZWN0LnZhbHVlcyh1c2Vyc01hcCkubWFwKCh1OiBhbnkpID0+IHUuYnJhbmNoX2lkKS5maWx0ZXIoQm9vbGVhbikpXTtcclxuICAgIFxyXG4gICAgLy8gRmV0Y2ggYnJhbmNoIGRldGFpbHNcclxuICAgIGxldCBicmFuY2hlc01hcDogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xyXG4gICAgaWYgKGJyYW5jaElkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IHsgZGF0YTogYnJhbmNoZXMgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oXCJicmFuY2hlc1wiKVxyXG4gICAgICAgIC5zZWxlY3QoXCJpZCwgbmFtZVwiKVxyXG4gICAgICAgIC5pbihcImlkXCIsIGJyYW5jaElkcyk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoYnJhbmNoZXMpIHtcclxuICAgICAgICBicmFuY2hlc01hcCA9IGJyYW5jaGVzLnJlZHVjZSgoYWNjLCBiKSA9PiAoeyAuLi5hY2MsIFtiLmlkXTogYiB9KSwge30pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWVyZ2UgdXNlciBhbmQgYnJhbmNoIGluZm8gaW50byBwb2ludHNcclxuICAgIGNvbnN0IGVucmljaGVkRGF0YSA9IHBvaW50c0RhdGE/Lm1hcChwb2ludCA9PiAoe1xyXG4gICAgICAuLi5wb2ludCxcclxuICAgICAgdXNlcnM6IHBvaW50LnVzZXJfaWQgPyB7XHJcbiAgICAgICAgLi4udXNlcnNNYXBbcG9pbnQudXNlcl9pZF0sXHJcbiAgICAgICAgYnJhbmNoZXM6IHVzZXJzTWFwW3BvaW50LnVzZXJfaWRdPy5icmFuY2hfaWQgPyBicmFuY2hlc01hcFt1c2Vyc01hcFtwb2ludC51c2VyX2lkXS5icmFuY2hfaWRdIDogbnVsbFxyXG4gICAgICB9IDogbnVsbFxyXG4gICAgfSkpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiUG9pbnQgdHJhbnNhY3Rpb25zIGZldGNoZWQgc3VjY2Vzc2Z1bGx5OlwiLCBlbnJpY2hlZERhdGE/Lmxlbmd0aCB8fCAwLCBcInJlY29yZHNcIik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBlbnJpY2hlZERhdGEgfHwgW10sIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIGluIGdldFBvaW50VHJhbnNhY3Rpb25zOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBbXSwgZXJyb3I6IGVycm9yIGFzIGFueSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZFBvaW50VHJhbnNhY3Rpb24ocG9pbnREYXRhOiB7XHJcbiAgdXNlcl9pZDogc3RyaW5nXHJcbiAgcG9pbnRzOiBudW1iZXJcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgdHlwZTogXCJlYXJuZWRcIiB8IFwiZGVkdWN0ZWRcIiB8IFwiYm9udXNcIiB8IFwicGVuYWx0eVwiXHJcbn0pIHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oXCJwb2ludHNcIilcclxuICAgIC5pbnNlcnQoW1xyXG4gICAgICB7XHJcbiAgICAgICAgLi4ucG9pbnREYXRhLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgfSxcclxuICAgIF0pXHJcbiAgICAuc2VsZWN0KClcclxuICAgIC5zaW5nbGUoKVxyXG5cclxuICByZXR1cm4gZXJyb3IgPyB7IGRhdGE6IG51bGwsIGVycm9yIH0gOiB7IGRhdGEsIGVycm9yOiBudWxsIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJQb2ludHModXNlcklkOiBzdHJpbmcpIHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oXCJwb2ludHNcIilcclxuICAgIC5zZWxlY3QoXCIqXCIpXHJcbiAgICAuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZClcclxuICAgIC5vcmRlcihcImNyZWF0ZWRfYXRcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXHJcblxyXG4gIHJldHVybiBlcnJvciA/IHsgZGF0YTogW10sIGVycm9yIH0gOiB7IGRhdGE6IGRhdGEgfHwgW10sIGVycm9yOiBudWxsIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gS2FzYm9uIEZ1bmN0aW9uc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0S2FzYm9uUmVxdWVzdHMoYnJhbmNoSWQ/OiBzdHJpbmcsIHN0YXR1c0ZpbHRlcj86IHN0cmluZykge1xyXG4gIGNvbnNvbGUubG9nKFwiW3YwXSBnZXRLYXNib25SZXF1ZXN0cyBjYWxsZWQgd2l0aDpcIiwgeyBicmFuY2hJZCwgc3RhdHVzRmlsdGVyIH0pXHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBGaXJzdCwgZ2V0IGthc2JvbiByZXF1ZXN0c1xyXG4gICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJrYXNib25cIilcclxuICAgICAgLnNlbGVjdChcIipcIilcclxuICAgICAgLm9yZGVyKFwiY3JlYXRlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuXHJcbiAgICBpZiAoYnJhbmNoSWQgJiYgYnJhbmNoSWQgIT09IFwiYWxsXCIpIHtcclxuICAgICAgLy8gRmlsdGVyIGJ5IHVzZXIncyBicmFuY2hfaWRcclxuICAgICAgY29uc3QgeyBkYXRhOiB1c2Vyc0luQnJhbmNoLCBlcnJvcjogdXNlcnNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbShcInVzZXJzXCIpXHJcbiAgICAgICAgLnNlbGVjdChcImlkXCIpXHJcbiAgICAgICAgLmVxKFwiYnJhbmNoX2lkXCIsIGJyYW5jaElkKTtcclxuICAgICAgXHJcbiAgICAgIGlmICh1c2Vyc0Vycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHVzZXJzIGluIGJyYW5jaDpcIiwgdXNlcnNFcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogW10sIGVycm9yOiB1c2Vyc0Vycm9yIH07XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmICh1c2Vyc0luQnJhbmNoICYmIHVzZXJzSW5CcmFuY2gubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJJZHMgPSB1c2Vyc0luQnJhbmNoLm1hcCh1ID0+IHUuaWQpO1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuaW4oXCJ1c2VyX2lkXCIsIHVzZXJJZHMpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTm8gdXNlcnMgZm91bmQgaW4gYnJhbmNoOlwiLCBicmFuY2hJZCk7XHJcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogW10sIGVycm9yOiBudWxsIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoc3RhdHVzRmlsdGVyICYmIHN0YXR1c0ZpbHRlciAhPT0gXCJhbGxcIikge1xyXG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKFwic3RhdHVzXCIsIHN0YXR1c0ZpbHRlcilcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGE6IGthc2JvbkRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeVxyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiW3YwXSBLYXNib24gcmVxdWVzdHMgZXJyb3I6XCIsIGVycm9yKVxyXG4gICAgICByZXR1cm4geyBkYXRhOiBbXSwgZXJyb3IgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICgha2FzYm9uRGF0YSB8fCBrYXNib25EYXRhLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIlt2MF0gTm8ga2FzYm9uIHJlcXVlc3RzIGZvdW5kXCIpXHJcbiAgICAgIHJldHVybiB7IGRhdGE6IFtdLCBlcnJvcjogbnVsbCB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHVzZXIgZGV0YWlsc1xyXG4gICAgY29uc3QgdXNlcklkcyA9IFsuLi5uZXcgU2V0KGthc2JvbkRhdGEubWFwKGsgPT4gay51c2VyX2lkKS5maWx0ZXIoQm9vbGVhbikpXTtcclxuICAgIGxldCB1c2Vyc01hcDogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xyXG4gICAgXHJcbiAgICBpZiAodXNlcklkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IHsgZGF0YTogdXNlcnMgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oXCJ1c2Vyc1wiKVxyXG4gICAgICAgIC5zZWxlY3QoXCJpZCwgbmFtZSwgZW1haWwsIHBvc2l0aW9uLCBicmFuY2hfaWRcIilcclxuICAgICAgICAuaW4oXCJpZFwiLCB1c2VySWRzKTtcclxuICAgICAgXHJcbiAgICAgIGlmICh1c2Vycykge1xyXG4gICAgICAgIHVzZXJzTWFwID0gdXNlcnMucmVkdWNlKChhY2MsIHUpID0+ICh7IC4uLmFjYywgW3UuaWRdOiB1IH0pLCB7fSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgYXBwcm92ZXIgZGV0YWlsc1xyXG4gICAgY29uc3QgYXBwcm92ZXJJZHMgPSBbLi4ubmV3IFNldChrYXNib25EYXRhLm1hcChrID0+IGsuYXBwcm92ZWRfYnkpLmZpbHRlcihCb29sZWFuKSldO1xyXG4gICAgbGV0IGFwcHJvdmVyc01hcDogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xyXG4gICAgXHJcbiAgICBpZiAoYXBwcm92ZXJJZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCB7IGRhdGE6IGFwcHJvdmVycyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbShcInVzZXJzXCIpXHJcbiAgICAgICAgLnNlbGVjdChcImlkLCBuYW1lXCIpXHJcbiAgICAgICAgLmluKFwiaWRcIiwgYXBwcm92ZXJJZHMpO1xyXG4gICAgICBcclxuICAgICAgaWYgKGFwcHJvdmVycykge1xyXG4gICAgICAgIGFwcHJvdmVyc01hcCA9IGFwcHJvdmVycy5yZWR1Y2UoKGFjYywgdSkgPT4gKHsgLi4uYWNjLCBbdS5pZF06IHUgfSksIHt9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE1lcmdlIHVzZXIgYW5kIGFwcHJvdmVyIGluZm9cclxuICAgIGNvbnN0IGVucmljaGVkRGF0YSA9IGthc2JvbkRhdGEubWFwKGthc2JvbiA9PiAoe1xyXG4gICAgICAuLi5rYXNib24sXHJcbiAgICAgIHVzZXI6IGthc2Jvbi51c2VyX2lkID8gdXNlcnNNYXBba2FzYm9uLnVzZXJfaWRdIDogbnVsbCxcclxuICAgICAgYXBwcm92ZXI6IGthc2Jvbi5hcHByb3ZlZF9ieSA/IGFwcHJvdmVyc01hcFtrYXNib24uYXBwcm92ZWRfYnldIDogbnVsbFxyXG4gICAgfSkpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiW3YwXSBLYXNib24gcmVxdWVzdHMgcmVzdWx0OlwiLCBlbnJpY2hlZERhdGE/Lmxlbmd0aCB8fCAwLCBcInJlY29yZHNcIilcclxuICAgIHJldHVybiB7IGRhdGE6IGVucmljaGVkRGF0YSB8fCBbXSwgZXJyb3I6IG51bGwgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiW3YwXSBVbmV4cGVjdGVkIGVycm9yIGluIGdldEthc2JvblJlcXVlc3RzOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBbXSwgZXJyb3I6IGVycm9yIGFzIGFueSB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEthc2JvblN0YXRpc3RpY3MoYnJhbmNoSWQ/OiBzdHJpbmcpIHtcclxuICBjb25zb2xlLmxvZyhcIlt2MF0gZ2V0S2FzYm9uU3RhdGlzdGljcyBjYWxsZWQgd2l0aCBicmFuY2hJZDpcIiwgYnJhbmNoSWQpXHJcblxyXG4gIHRyeSB7XHJcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZS5mcm9tKFwia2FzYm9uXCIpLnNlbGVjdChcImFtb3VudCwgc3RhdHVzLCB1c2VyX2lkXCIpXHJcblxyXG4gICAgaWYgKGJyYW5jaElkICYmIGJyYW5jaElkICE9PSBcImFsbFwiKSB7XHJcbiAgICAgIC8vIEZpbHRlciBieSB1c2VyJ3MgYnJhbmNoX2lkXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogdXNlcnNJbkJyYW5jaCwgZXJyb3I6IHVzZXJzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oXCJ1c2Vyc1wiKVxyXG4gICAgICAgIC5zZWxlY3QoXCJpZFwiKVxyXG4gICAgICAgIC5lcShcImJyYW5jaF9pZFwiLCBicmFuY2hJZCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAodXNlcnNFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB1c2VycyBpbiBicmFuY2g6XCIsIHVzZXJzRXJyb3IpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIHBlbmRpbmdBbW91bnQ6IDAsXHJcbiAgICAgICAgICAgIGFwcHJvdmVkQW1vdW50OiAwLFxyXG4gICAgICAgICAgICB0b3RhbFBhaWQ6IDAsXHJcbiAgICAgICAgICAgIGFjdGl2ZUVtcGxveWVlczogMCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBlcnJvcjogdXNlcnNFcnJvcixcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmICh1c2Vyc0luQnJhbmNoICYmIHVzZXJzSW5CcmFuY2gubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJJZHMgPSB1c2Vyc0luQnJhbmNoLm1hcCh1ID0+IHUuaWQpO1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuaW4oXCJ1c2VyX2lkXCIsIHVzZXJJZHMpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIHBlbmRpbmdBbW91bnQ6IDAsXHJcbiAgICAgICAgICAgIGFwcHJvdmVkQW1vdW50OiAwLFxyXG4gICAgICAgICAgICB0b3RhbFBhaWQ6IDAsXHJcbiAgICAgICAgICAgIGFjdGl2ZUVtcGxveWVlczogMCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBlcnJvcjogbnVsbCxcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeVxyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIlt2MF0gRXJyb3IgZmV0Y2hpbmcga2FzYm9uIHN0YXRpc3RpY3M6XCIsIGVycm9yKVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIHBlbmRpbmdBbW91bnQ6IDAsXHJcbiAgICAgICAgICBhcHByb3ZlZEFtb3VudDogMCxcclxuICAgICAgICAgIHRvdGFsUGFpZDogMCxcclxuICAgICAgICAgIGFjdGl2ZUVtcGxveWVlczogMCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVycm9yLFxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcGVuZGluZ0Ftb3VudCA9IGRhdGE/LmZpbHRlcigoaykgPT4gay5zdGF0dXMgPT09IFwicGVuZGluZ1wiKS5yZWR1Y2UoKHN1bSwgaykgPT4gc3VtICsgKGsuYW1vdW50IHx8IDApLCAwKSB8fCAwXHJcbiAgICBjb25zdCBhcHByb3ZlZEFtb3VudCA9IGRhdGE/LmZpbHRlcigoaykgPT4gay5zdGF0dXMgPT09IFwiYXBwcm92ZWRcIikucmVkdWNlKChzdW0sIGspID0+IHN1bSArIChrLmFtb3VudCB8fCAwKSwgMCkgfHwgMFxyXG4gICAgY29uc3QgdG90YWxQYWlkID0gZGF0YT8uZmlsdGVyKChrKSA9PiBrLnN0YXR1cyA9PT0gXCJwYWlkXCIpLnJlZHVjZSgoc3VtLCBrKSA9PiBzdW0gKyAoay5hbW91bnQgfHwgMCksIDApIHx8IDBcclxuXHJcbiAgICBjb25zdCB7IGRhdGE6IHVzZXJzRGF0YSB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInVzZXJzXCIpLnNlbGVjdChcImlkXCIpLmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpXHJcbiAgICBjb25zdCBhY3RpdmVFbXBsb3llZXMgPSB1c2Vyc0RhdGE/Lmxlbmd0aCB8fCAwXHJcblxyXG4gICAgY29uc3Qgc3RhdGlzdGljcyA9IHtcclxuICAgICAgcGVuZGluZ0Ftb3VudCxcclxuICAgICAgYXBwcm92ZWRBbW91bnQsXHJcbiAgICAgIHRvdGFsUGFpZCxcclxuICAgICAgYWN0aXZlRW1wbG95ZWVzLFxyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiW3YwXSBLYXNib24gc3RhdGlzdGljcyByZXN1bHQ6XCIsIHN0YXRpc3RpY3MpXHJcbiAgICByZXR1cm4geyBkYXRhOiBzdGF0aXN0aWNzLCBlcnJvcjogbnVsbCB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJbdjBdIFVuZXhwZWN0ZWQgZXJyb3IgaW4gZ2V0S2FzYm9uU3RhdGlzdGljczpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIHBlbmRpbmdBbW91bnQ6IDAsXHJcbiAgICAgICAgYXBwcm92ZWRBbW91bnQ6IDAsXHJcbiAgICAgICAgdG90YWxQYWlkOiAwLFxyXG4gICAgICAgIGFjdGl2ZUVtcGxveWVlczogMCxcclxuICAgICAgfSxcclxuICAgICAgZXJyb3I6IGVycm9yIGFzIGFueSxcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2Vyc1dpdGhLYXNib24oYnJhbmNoSWQ/OiBzdHJpbmcpIHtcclxuICBjb25zb2xlLmxvZyhcIlt2MF0gZ2V0VXNlcnNXaXRoS2FzYm9uIGNhbGxlZCB3aXRoIGJyYW5jaElkOlwiLCBicmFuY2hJZClcclxuXHJcbiAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2UuZnJvbShcInVzZXJzXCIpLnNlbGVjdChcIipcIikub3JkZXIoXCJuYW1lXCIpXHJcblxyXG4gIGlmIChicmFuY2hJZCAmJiBicmFuY2hJZCAhPT0gXCJhbGxcIikge1xyXG4gICAgcXVlcnkgPSBxdWVyeS5lcShcImJyYW5jaF9pZFwiLCBicmFuY2hJZClcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgZGF0YTogdXNlcnMsIGVycm9yOiB1c2Vyc0Vycm9yIH0gPSBhd2FpdCBxdWVyeVxyXG5cclxuICBpZiAodXNlcnNFcnJvcikgcmV0dXJuIHsgZGF0YTogW10sIGVycm9yOiB1c2Vyc0Vycm9yIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhOiBhbGxLYXNib24sIGVycm9yOiBrYXNib25FcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwia2FzYm9uXCIpXHJcbiAgICAuc2VsZWN0KFwiKlwiKVxyXG4gICAgLm9yZGVyKFwiY3JlYXRlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuXHJcbiAgaWYgKGthc2JvbkVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIlt2MF0gS2FzYm9uIGVycm9yLCByZXR1cm5pbmcgdXNlcnMgd2l0aG91dCBrYXNib24gZGF0YTpcIiwga2FzYm9uRXJyb3IpXHJcbiAgICBjb25zdCB1c2Vyc1dpdGhvdXRLYXNib24gPVxyXG4gICAgICB1c2Vycz8ubWFwKCh1c2VyOiBhbnkpID0+ICh7XHJcbiAgICAgICAgLi4udXNlcixcclxuICAgICAgICB0b3RhbF9rYXNib246IDAsXHJcbiAgICAgICAgYWN0aXZlX2thc2JvbjogMCxcclxuICAgICAgICBrYXNib25faGlzdG9yeTogW10sXHJcbiAgICAgIH0pKSB8fCBbXVxyXG4gICAgcmV0dXJuIHsgZGF0YTogdXNlcnNXaXRob3V0S2FzYm9uLCBlcnJvcjogbnVsbCB9XHJcbiAgfVxyXG5cclxuICBjb25zdCB1c2Vyc1dpdGhLYXNib25EYXRhID1cclxuICAgIHVzZXJzPy5tYXAoKHVzZXI6IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCB1c2VyS2FzYm9uID0gYWxsS2FzYm9uPy5maWx0ZXIoKGthc2JvbjogYW55KSA9PiBrYXNib24udXNlcl9pZCA9PT0gdXNlci5pZCkgfHwgW11cclxuICAgICAgY29uc3QgdG90YWxLYXNib24gPSB1c2VyS2FzYm9uLnJlZHVjZSgoc3VtOiBudW1iZXIsIGthc2JvbjogYW55KSA9PiBzdW0gKyAoa2FzYm9uLmFtb3VudCB8fCAwKSwgMClcclxuICAgICAgY29uc3QgYWN0aXZlS2FzYm9uID0gdXNlckthc2JvblxyXG4gICAgICAgIC5maWx0ZXIoKGthc2JvbjogYW55KSA9PiBrYXNib24uc3RhdHVzID09PSBcImFwcHJvdmVkXCIgfHwga2FzYm9uLnN0YXR1cyA9PT0gXCJwZW5kaW5nXCIpXHJcbiAgICAgICAgLnJlZHVjZSgoc3VtOiBudW1iZXIsIGthc2JvbjogYW55KSA9PiBzdW0gKyAoa2FzYm9uLmFtb3VudCB8fCAwKSwgMClcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4udXNlcixcclxuICAgICAgICB0b3RhbF9rYXNib246IHRvdGFsS2FzYm9uLFxyXG4gICAgICAgIGFjdGl2ZV9rYXNib246IGFjdGl2ZUthc2JvbixcclxuICAgICAgICBrYXNib25faGlzdG9yeTogdXNlckthc2JvbixcclxuICAgICAgfVxyXG4gICAgfSkgfHwgW11cclxuXHJcbiAgY29uc29sZS5sb2coXCJbdjBdIFVzZXJzIHdpdGgga2FzYm9uIGRhdGE6XCIsIHVzZXJzV2l0aEthc2JvbkRhdGEpXHJcbiAgcmV0dXJuIHsgZGF0YTogdXNlcnNXaXRoS2FzYm9uRGF0YSwgZXJyb3I6IG51bGwgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlS2FzYm9uUmVxdWVzdChrYXNib25EYXRhOiB7XHJcbiAgdXNlcl9pZDogc3RyaW5nXHJcbiAgYW1vdW50OiBudW1iZXJcclxuICByZWFzb246IHN0cmluZ1xyXG4gIGR1ZV9kYXRlPzogc3RyaW5nXHJcbiAgbm90ZXM/OiBzdHJpbmdcclxufSkge1xyXG4gIGNvbnNvbGUubG9nKFwiW3YwXSBjcmVhdGVLYXNib25SZXF1ZXN0IGNhbGxlZCB3aXRoOlwiLCBrYXNib25EYXRhKVxyXG5cclxuICAvLyBHZXQgdXNlciBuYW1lIGZvciBzbmFwc2hvdFxyXG4gIGNvbnN0IHsgZGF0YTogdXNlciwgZXJyb3I6IHVzZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwidXNlcnNcIilcclxuICAgIC5zZWxlY3QoXCJuYW1lXCIpXHJcbiAgICAuZXEoXCJpZFwiLCBrYXNib25EYXRhLnVzZXJfaWQpXHJcbiAgICAuc2luZ2xlKClcclxuXHJcbiAgaWYgKHVzZXJFcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIltjcmVhdGVLYXNib25SZXF1ZXN0XSBFcnJvciBnZXR0aW5nIHVzZXIgbmFtZTpcIiwgdXNlckVycm9yKVxyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IHVzZXJFcnJvciB9XHJcbiAgfVxyXG5cclxuICBjb25zdCBrYXNib25Ub0luc2VydCA9IHtcclxuICAgIC4uLmthc2JvbkRhdGEsXHJcbiAgICB1c2VyX25hbWU6IHVzZXI/Lm5hbWUgfHwgXCJVbmtub3duXCIsXHJcbiAgICBzdGF0dXM6IFwicGVuZGluZ1wiIGFzIGNvbnN0LFxyXG4gICAgcmVxdWVzdF9kYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgfVxyXG5cclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwia2FzYm9uXCIpLmluc2VydChba2FzYm9uVG9JbnNlcnRdKS5zZWxlY3QoKS5zaW5nbGUoKVxyXG5cclxuICBjb25zb2xlLmxvZyhcIlt2MF0gQ3JlYXRlIGthc2JvbiByZXN1bHQ6XCIsIHsgZGF0YSwgZXJyb3IgfSlcclxuICByZXR1cm4gZXJyb3IgPyB7IGRhdGE6IG51bGwsIGVycm9yIH0gOiB7IGRhdGEsIGVycm9yOiBudWxsIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUthc2JvblN0YXR1cyhcclxuICBrYXNib25JZDogc3RyaW5nLFxyXG4gIHN0YXR1czogXCJhcHByb3ZlZFwiIHwgXCJyZWplY3RlZFwiIHwgXCJwYWlkXCIsXHJcbiAgYXBwcm92ZWRCeTogc3RyaW5nLFxyXG4pIHtcclxuICBjb25zb2xlLmxvZyhcIlt2MF0gdXBkYXRlS2FzYm9uU3RhdHVzIGNhbGxlZCB3aXRoOlwiLCB7IGthc2JvbklkLCBzdGF0dXMsIGFwcHJvdmVkQnkgfSlcclxuXHJcbiAgY29uc3QgdXBkYXRlRGF0YTogYW55ID0ge1xyXG4gICAgc3RhdHVzLFxyXG4gICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gIH1cclxuXHJcbiAgaWYgKHN0YXR1cyA9PT0gXCJhcHByb3ZlZFwiKSB7XHJcbiAgICB1cGRhdGVEYXRhLmFwcHJvdmVkX2J5ID0gYXBwcm92ZWRCeVxyXG4gICAgdXBkYXRlRGF0YS5hcHByb3ZlZF9hdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcImthc2JvblwiKS51cGRhdGUodXBkYXRlRGF0YSkuZXEoXCJpZFwiLCBrYXNib25JZCkuc2VsZWN0KCkuc2luZ2xlKClcclxuXHJcbiAgY29uc29sZS5sb2coXCJbdjBdIFVwZGF0ZSBrYXNib24gc3RhdHVzIHJlc3VsdDpcIiwgeyBkYXRhLCBlcnJvciB9KVxyXG4gIHJldHVybiBlcnJvciA/IHsgZGF0YTogbnVsbCwgZXJyb3IgfSA6IHsgZGF0YSwgZXJyb3I6IG51bGwgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBFbXBsb3llZSBNYW5hZ2VtZW50IEludGVyZmFjZXNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGludGVyZmFjZSBFbXBsb3llZSB7XHJcbiAgdG90YWxCb251czogbnVtYmVyXHJcbiAgdG90YWxQZW5hbHR5OiBudW1iZXJcclxuICBpZDogc3RyaW5nXHJcbiAgbmFtZTogc3RyaW5nXHJcbiAgZW1haWw6IHN0cmluZ1xyXG4gIHBob25lPzogc3RyaW5nXHJcbiAgcG9zaXRpb24/OiBzdHJpbmdcclxuICBzdGF0dXM/OiBzdHJpbmdcclxuICBhdmF0YXI/OiBzdHJpbmdcclxuICByYXRpbmc/OiBudW1iZXJcclxuICBiYXNlU2FsYXJ5PzogbnVtYmVyXHJcbiAgYXR0ZW5kYW5jZVJhdGU/OiBudW1iZXJcclxuICBjdXJyZW50TW9udGhDdXN0b21lcnM/OiBudW1iZXJcclxuICB0b3RhbEN1c3RvbWVycz86IG51bWJlclxyXG4gIHByZXNlbnREYXlzPzogbnVtYmVyXHJcbiAgdG90YWxXb3JrRGF5cz86IG51bWJlclxyXG4gIGxhdGVEYXlzPzogbnVtYmVyXHJcbiAgb3ZlcnRpbWVIb3Vycz86IG51bWJlclxyXG4gIG92ZXJ0aW1lUmF0ZT86IG51bWJlclxyXG4gIGJvbnVzUG9pbnRzPzogbnVtYmVyXHJcbiAgcGVuYWx0eVBvaW50cz86IG51bWJlclxyXG4gIGNvbW1pc3Npb25SYXRlPzogbnVtYmVyXHJcbiAgam9pbkRhdGU/OiBzdHJpbmdcclxuICBrYXNib25CYWxhbmNlPzogbnVtYmVyXHJcbiAga2FzYm9uTGltaXQ/OiBudW1iZXJcclxuICBtb250aGx5UmV2ZW51ZT86IHN0cmluZ1xyXG4gIHBpbj86IHN0cmluZ1xyXG4gIG1heF9hYnNlbnRfZGF5cz86IG51bWJlclxyXG4gIGN1cnJlbnRfYWJzZW50X2RheXM/OiBudW1iZXJcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRlVOR1NJIFNFREVSSEFOQTogSElUVU5HIEhBUkkgVElEQUsgSEFESVJcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEVtcGxveWVlQWJzZW5jZUluZm8oZW1wbG95ZWVJZDogc3RyaW5nKSB7XHJcbiAgY29uc29sZS5sb2coXCJbU0lNUExFXSBnZXRFbXBsb3llZUFic2VuY2VJbmZvIGNhbGxlZCBmb3I6XCIsIGVtcGxveWVlSWQpO1xyXG5cclxuICB0cnkge1xyXG4gICAgLy8gMS4gR2V0IGVtcGxveWVlIGRhdGEgdGVybWFzdWsgc2V0dGluZ2FuIGxpYnVyXHJcbiAgICBjb25zdCB7IGRhdGE6IGVtcGxveWVlLCBlcnJvcjogZW1wRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwidXNlcnNcIilcclxuICAgICAgLnNlbGVjdChcIm1heF9hYnNlbnRfZGF5c1wiKVxyXG4gICAgICAuZXEoXCJpZFwiLCBlbXBsb3llZUlkKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVtcEVycm9yIHx8ICFlbXBsb3llZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBlbXBsb3llZTpcIiwgZW1wRXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBcclxuICAgICAgICBtYXhBYnNlbnREYXlzOiA0LCBcclxuICAgICAgICBjdXJyZW50QWJzZW50RGF5czogMCwgXHJcbiAgICAgICAgcmVtYWluaW5nRGF5czogNCxcclxuICAgICAgICBleGNlc3NEYXlzOiAwIFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDIuIEhpdHVuZyBoYXJpIHRpZGFrIGhhZGlyIGJ1bGFuIGluaVxyXG4gICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgY29uc3QgZmlyc3REYXlPZk1vbnRoID0gbmV3IERhdGUoY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKSwgY3VycmVudERhdGUuZ2V0TW9udGgoKSwgMSk7XHJcbiAgICBjb25zdCBsYXN0RGF5T2ZNb250aCA9IG5ldyBEYXRlKGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCksIGN1cnJlbnREYXRlLmdldE1vbnRoKCkgKyAxLCAwKTtcclxuXHJcbiAgICBjb25zdCB7IGRhdGE6IGF0dGVuZGFuY2VEYXRhLCBlcnJvcjogYXR0ZW5kYW5jZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcImF0dGVuZGFuY2VcIilcclxuICAgICAgLnNlbGVjdChcInN0YXR1cywgZGF0ZVwiKVxyXG4gICAgICAuZXEoXCJ1c2VyX2lkXCIsIGVtcGxveWVlSWQpXHJcbiAgICAgIC5ndGUoXCJkYXRlXCIsIGZpcnN0RGF5T2ZNb250aC50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0pXHJcbiAgICAgIC5sdGUoXCJkYXRlXCIsIGxhc3REYXlPZk1vbnRoLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSk7XHJcblxyXG4gICAgaWYgKGF0dGVuZGFuY2VFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBhdHRlbmRhbmNlIGRhdGE6XCIsIGF0dGVuZGFuY2VFcnJvcik7XHJcbiAgICAgIHJldHVybiB7IFxyXG4gICAgICAgIG1heEFic2VudERheXM6IGVtcGxveWVlLm1heF9hYnNlbnRfZGF5cyB8fCA0LCBcclxuICAgICAgICBjdXJyZW50QWJzZW50RGF5czogMCwgXHJcbiAgICAgICAgcmVtYWluaW5nRGF5czogZW1wbG95ZWUubWF4X2Fic2VudF9kYXlzIHx8IDQsXHJcbiAgICAgICAgZXhjZXNzRGF5czogMCBcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBIaXR1bmcgaGFyaSB0aWRhayBoYWRpciAoc3RhdHVzIGFic2VudCBhdGF1IHRpZGFrIGFkYSBkYXRhIGF0dGVuZGFuY2UpXHJcbiAgICBjb25zdCBjdXJyZW50QWJzZW50RGF5cyA9IGF0dGVuZGFuY2VEYXRhPy5maWx0ZXIocmVjb3JkID0+IFxyXG4gICAgICByZWNvcmQuc3RhdHVzID09PSBcImFic2VudFwiIHx8IHJlY29yZC5zdGF0dXMgPT09IG51bGxcclxuICAgICkubGVuZ3RoIHx8IDA7XHJcblxyXG4gICAgY29uc3QgbWF4QWJzZW50RGF5cyA9IGVtcGxveWVlLm1heF9hYnNlbnRfZGF5cyB8fCA0O1xyXG4gICAgY29uc3QgcmVtYWluaW5nRGF5cyA9IE1hdGgubWF4KDAsIG1heEFic2VudERheXMgLSBjdXJyZW50QWJzZW50RGF5cyk7XHJcbiAgICBjb25zdCBleGNlc3NEYXlzID0gTWF0aC5tYXgoMCwgY3VycmVudEFic2VudERheXMgLSBtYXhBYnNlbnREYXlzKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIltTSU1QTEVdIEFic2VuY2UgaW5mbzpcIiwgeyBcclxuICAgICAgbWF4QWJzZW50RGF5cywgXHJcbiAgICAgIGN1cnJlbnRBYnNlbnREYXlzLCBcclxuICAgICAgcmVtYWluaW5nRGF5cywgXHJcbiAgICAgIGV4Y2Vzc0RheXMgXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4geyBcclxuICAgICAgbWF4QWJzZW50RGF5cywgXHJcbiAgICAgIGN1cnJlbnRBYnNlbnREYXlzLCBcclxuICAgICAgcmVtYWluaW5nRGF5cywgXHJcbiAgICAgIGV4Y2Vzc0RheXMgXHJcbiAgICB9O1xyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIGdldEVtcGxveWVlQWJzZW5jZUluZm86XCIsIGVycm9yKTtcclxuICAgIHJldHVybiB7IFxyXG4gICAgICBtYXhBYnNlbnREYXlzOiA0LCBcclxuICAgICAgY3VycmVudEFic2VudERheXM6IDAsIFxyXG4gICAgICByZW1haW5pbmdEYXlzOiA0LFxyXG4gICAgICBleGNlc3NEYXlzOiAwIFxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEZVTkdTSSBVUERBVEUgSlVNTEFIIEhBUkkgTElCVVJcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU1heEFic2VudERheXMoZW1wbG95ZWVJZDogc3RyaW5nLCBtYXhEYXlzOiBudW1iZXIpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJ1c2Vyc1wiKVxyXG4gICAgICAudXBkYXRlKHsgbWF4X2Fic2VudF9kYXlzOiBtYXhEYXlzIH0pXHJcbiAgICAgIC5lcShcImlkXCIsIGVtcGxveWVlSWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGRhdGluZyBtYXggYWJzZW50IGRheXM6XCIsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHsgZXJyb3IgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIk1heCBhYnNlbnQgZGF5cyB1cGRhdGVkOlwiLCBkYXRhKTtcclxuICAgIHJldHVybiB7IGRhdGEgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkV4Y2VwdGlvbiB1cGRhdGluZyBtYXggYWJzZW50IGRheXM6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiB7IGVycm9yIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEVtcGxveWVlU3RhdHMge1xyXG4gIHRvdGFsVHJhbnNhY3Rpb25zOiBudW1iZXJcclxuICB0b3RhbFJldmVudWU6IG51bWJlclxyXG4gIHRvdGFsQ29tbWlzc2lvbjogbnVtYmVyXHJcbiAgYXZlcmFnZVRyYW5zYWN0aW9uOiBudW1iZXJcclxuICBib251c1BvaW50cz86IG51bWJlclxyXG4gIHBlbmFsdHlQb2ludHM/OiBudW1iZXJcclxuICB0b3RhbEJvbnVzPzogbnVtYmVyXHJcbiAgdG90YWxQZW5hbHR5PzogbnVtYmVyXHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEVtcGxveWVlIE1hbmFnZW1lbnQgRnVuY3Rpb25zXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RW1wbG95ZWVzKCkge1xyXG4gIGNvbnNvbGUubG9nKFwiW01PREVSTl0gZ2V0RW1wbG95ZWVzIGNhbGxlZCAtIGZldGNoaW5nIGFsbCBlbXBsb3llZXMgaW5jbHVkaW5nIGluYWN0aXZlXCIpO1xyXG5cclxuICBjb25zdCB7IGRhdGE6IHVzZXJzLCBlcnJvcjogdXNlcnNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwidXNlcnNcIilcclxuICAgIC5zZWxlY3QoYFxyXG4gICAgICBpZCxcclxuICAgICAgbmFtZSxcclxuICAgICAgZW1haWwsXHJcbiAgICAgIHBob25lLFxyXG4gICAgICBwb3NpdGlvbixcclxuICAgICAgc3RhdHVzLFxyXG4gICAgICBjcmVhdGVkX2F0LFxyXG4gICAgICBzYWxhcnksXHJcbiAgICAgIGNvbW1pc3Npb25fcmF0ZSxcclxuICAgICAgbWF4X2Fic2VudF9kYXlzLFxyXG4gICAgICBwaW4sXHJcbiAgICAgIHJhdGluZyxcclxuICAgICAgYXR0ZW5kYW5jZVJhdGUsXHJcbiAgICAgIGN1cnJlbnRNb250aEN1c3RvbWVycyxcclxuICAgICAgdG90YWxDdXN0b21lcnMsXHJcbiAgICAgIHByZXNlbnREYXlzLFxyXG4gICAgICB0b3RhbFdvcmtEYXlzLFxyXG4gICAgICBsYXRlRGF5cyxcclxuICAgICAgb3ZlcnRpbWVIb3VycyxcclxuICAgICAgb3ZlcnRpbWVSYXRlLFxyXG4gICAgICBib251c1BvaW50cyxcclxuICAgICAgcGVuYWx0eVBvaW50cyxcclxuICAgICAga2FzYm9uQmFsYW5jZSxcclxuICAgICAga2FzYm9uTGltaXQsXHJcbiAgICAgIG1vbnRobHlSZXZlbnVlXHJcbiAgICBgKVxyXG4gICAgLm9yZGVyKFwibmFtZVwiKTsgIC8vIFRhbXBpbGthbiBTRU1VQSBrYXJ5YXdhbiAoYWt0aWYgZGFuIHRpZGFrIGFrdGlmKVxyXG5cclxuICBjb25zb2xlLmxvZyhcIltNT0RFUk5dIFJlc3VsdDpcIiwgeyBcclxuICAgIHVzZXJzQ291bnQ6IHVzZXJzPy5sZW5ndGgsIFxyXG4gICAgaGFzRXJyb3I6ICEhdXNlcnNFcnJvcixcclxuICAgIGZpcnN0VXNlcjogdXNlcnM/LlswXVxyXG4gIH0pO1xyXG5cclxuICAvLyBQRU5USU5HOiBIYW55YSByZXR1cm4gZXJyb3IgamlrYSBiZW5hci1iZW5hciBhZGEgZXJyb3IgREFOIHRpZGFrIGFkYSBkYXRhXHJcbiAgaWYgKHVzZXJzRXJyb3IgJiYgIXVzZXJzKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiW01PREVSTl0gRXJyb3IgZmV0Y2hpbmcgZW1wbG95ZWVzOlwiLCB1c2Vyc0Vycm9yKTtcclxuICAgIHJldHVybiB7IGRhdGE6IFtdLCBlcnJvcjogdXNlcnNFcnJvciB9O1xyXG4gIH1cclxuXHJcbiAgLy8gVHJhbnNmb3JtYXNpIGRhdGEgLSBndW5ha2FuIGRhdGEgZGFyaSBkYXRhYmFzZVxyXG4gIGNvbnN0IGVtcGxveWVlcyA9ICh1c2VycyB8fCBbXSkubWFwKCh1c2VyOiBhbnkpID0+ICh7XHJcbiAgICBpZDogdXNlci5pZCxcclxuICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgIGVtYWlsOiB1c2VyLmVtYWlsIHx8ICcnLFxyXG4gICAgcGhvbmU6IHVzZXIucGhvbmUgfHwgJycsXHJcbiAgICBwb3NpdGlvbjogdXNlci5wb3NpdGlvbiB8fCAnJyxcclxuICAgIHN0YXR1czogdXNlci5zdGF0dXMgfHwgJ2FjdGl2ZScsXHJcbiAgICBzYWxhcnk6IHVzZXIuc2FsYXJ5IHx8IDMwMDAwMDAsIC8vIFRhbWJhaGthbiBzYWxhcnkgdW50dWsgZGl0YW1waWxrYW4gZGkga2FydHVcclxuICAgIGJhc2VTYWxhcnk6IHVzZXIuc2FsYXJ5IHx8IDMwMDAwMDAsXHJcbiAgICBjb21taXNzaW9uUmF0ZTogdXNlci5jb21taXNzaW9uX3JhdGUgfHwgMCxcclxuICAgIHBpbjogdXNlci5waW4gfHwgJycsXHJcbiAgICBtYXhfYWJzZW50X2RheXM6IHVzZXIubWF4X2Fic2VudF9kYXlzIHx8IDQsXHJcbiAgICBjcmVhdGVkX2F0OiB1c2VyLmNyZWF0ZWRfYXQsXHJcbiAgICB0b3RhbEJvbnVzOiAwLFxyXG4gICAgdG90YWxQZW5hbHR5OiAwLFxyXG4gICAgcmF0aW5nOiB1c2VyLnJhdGluZyB8fCAwLFxyXG4gICAgYXR0ZW5kYW5jZVJhdGU6IHVzZXIuYXR0ZW5kYW5jZVJhdGUgfHwgMCxcclxuICAgIGN1cnJlbnRNb250aEN1c3RvbWVyczogdXNlci5jdXJyZW50TW9udGhDdXN0b21lcnMgfHwgMCxcclxuICAgIHRvdGFsQ3VzdG9tZXJzOiB1c2VyLnRvdGFsQ3VzdG9tZXJzIHx8IDAsXHJcbiAgICBwcmVzZW50RGF5czogdXNlci5wcmVzZW50RGF5cyB8fCAwLFxyXG4gICAgdG90YWxXb3JrRGF5czogdXNlci50b3RhbFdvcmtEYXlzIHx8IDAsXHJcbiAgICBsYXRlRGF5czogdXNlci5sYXRlRGF5cyB8fCAwLFxyXG4gICAgb3ZlcnRpbWVIb3VyczogdXNlci5vdmVydGltZUhvdXJzIHx8IDAsXHJcbiAgICBvdmVydGltZVJhdGU6IHVzZXIub3ZlcnRpbWVSYXRlIHx8IDAsXHJcbiAgICBib251c1BvaW50czogdXNlci5ib251c1BvaW50cyB8fCAwLFxyXG4gICAgcGVuYWx0eVBvaW50czogdXNlci5wZW5hbHR5UG9pbnRzIHx8IDAsXHJcbiAgICBrYXNib25CYWxhbmNlOiB1c2VyLmthc2JvbkJhbGFuY2UgfHwgMCxcclxuICAgIGthc2JvbkxpbWl0OiB1c2VyLmthc2JvbkxpbWl0IHx8IDAsXHJcbiAgICBtb250aGx5UmV2ZW51ZTogU3RyaW5nKHVzZXIubW9udGhseVJldmVudWUgfHwgJzAnKVxyXG4gIH0pKTtcclxuXHJcbiAgY29uc29sZS5sb2coXCJbTU9ERVJOXSBGaW5hbCBlbXBsb3llZXM6XCIsIGVtcGxveWVlcy5sZW5ndGgpO1xyXG4gIHJldHVybiB7IGRhdGE6IGVtcGxveWVlcywgZXJyb3I6IG51bGwgfTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZEVtcGxveWVlKGVtcGxveWVlOiBQYXJ0aWFsPEVtcGxveWVlPikge1xyXG4gIGNvbnNvbGUubG9nKFwiW3YxMV0gYWRkRW1wbG95ZWUgY2FsbGVkIHdpdGg6XCIsIGVtcGxveWVlKVxyXG5cclxuICAvLyBKdXN0IGNyZWF0ZSB1c2VyIHByb2ZpbGUgaW4gdXNlcnMgdGFibGVcclxuICAvLyBBZG1pbiB3aWxsIG1hbnVhbGx5IGNyZWF0ZSBhdXRoIHVzZXIgaW4gU3VwYWJhc2UgRGFzaGJvYXJkIGlmIG5lZWRlZFxyXG4gIGNvbnN0IHVzZXJEYXRhID0ge1xyXG4gICAgbmFtZTogZW1wbG95ZWUubmFtZSxcclxuICAgIGVtYWlsOiBlbXBsb3llZS5lbWFpbCxcclxuICAgIHBob25lOiBlbXBsb3llZS5waG9uZSB8fCBudWxsLFxyXG4gICAgc3RhdHVzOiBlbXBsb3llZS5zdGF0dXMgfHwgXCJhY3RpdmVcIixcclxuICAgIHBpbjogZW1wbG95ZWUucGluLFxyXG4gICAgcG9zaXRpb246IGVtcGxveWVlLnBvc2l0aW9uLFxyXG4gICAgc2FsYXJ5OiBlbXBsb3llZS5zYWxhcnkgfHwgZW1wbG95ZWUuYmFzZVNhbGFyeSB8fCAwLFxyXG4gICAgY29tbWlzc2lvbl9yYXRlOiBlbXBsb3llZS5jb21taXNzaW9uUmF0ZSB8fCAwLFxyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInVzZXJzXCIpLmluc2VydChbdXNlckRhdGFdKS5zZWxlY3QoKS5zaW5nbGUoKVxyXG5cclxuICBjb25zb2xlLmxvZyhcIlt2MTFdIGFkZEVtcGxveWVlIHJlc3VsdDpcIiwgeyBkYXRhLCBlcnJvciB9KVxyXG4gIHJldHVybiB7IGRhdGEsIGVycm9yIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUVtcGxveWVlKGlkOiBzdHJpbmcsIGVtcGxveWVlOiBQYXJ0aWFsPEVtcGxveWVlPikge1xyXG4gIGNvbnNvbGUubG9nKFwiW3YxMV0gdXBkYXRlRW1wbG95ZWUgY2FsbGVkIHdpdGg6XCIsIGlkKVxyXG5cclxuICBjb25zdCB1c2VyRGF0YSA9IHtcclxuICAgIG5hbWU6IGVtcGxveWVlLm5hbWUsXHJcbiAgICBlbWFpbDogZW1wbG95ZWUuZW1haWwsXHJcbiAgICBwaG9uZTogZW1wbG95ZWUucGhvbmUsXHJcbiAgICBzdGF0dXM6IGVtcGxveWVlLnN0YXR1cyxcclxuICAgIHBpbjogZW1wbG95ZWUucGluLFxyXG4gICAgcG9zaXRpb246IGVtcGxveWVlLnBvc2l0aW9uLFxyXG4gICAgc2FsYXJ5OiBlbXBsb3llZS5iYXNlU2FsYXJ5LFxyXG4gICAgY29tbWlzc2lvbl9yYXRlOiBlbXBsb3llZS5jb21taXNzaW9uUmF0ZSxcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJ1c2Vyc1wiKS51cGRhdGUodXNlckRhdGEpLmVxKFwiaWRcIiwgaWQpLnNlbGVjdCgpLnNpbmdsZSgpXHJcblxyXG4gIGNvbnNvbGUubG9nKFwiW3YxMV0gdXBkYXRlRW1wbG95ZWUgcmVzdWx0OlwiLCB7IGRhdGEsIGVycm9yIH0pXHJcbiAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlRW1wbG95ZWUoaWQ6IHN0cmluZykge1xyXG4gIGNvbnNvbGUubG9nKFwiW2RlbGV0ZUVtcGxveWVlXSBTdGFydGluZyBkZWxldGlvbiBmb3IgaWQ6XCIsIGlkKVxyXG5cclxuICB0cnkge1xyXG4gICAgLy8gQ2VrIGFwYWthaCB1c2VyIGFkYVxyXG4gICAgY29uc3QgeyBkYXRhOiBleGlzdGluZ1VzZXIsIGVycm9yOiBjaGVja0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcInVzZXJzXCIpXHJcbiAgICAgIC5zZWxlY3QoXCIqXCIpXHJcbiAgICAgIC5lcShcImlkXCIsIGlkKVxyXG4gICAgICAuc2luZ2xlKClcclxuXHJcbiAgICBpZiAoY2hlY2tFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiW2RlbGV0ZUVtcGxveWVlXSBFcnJvciBjaGVja2luZyB1c2VyOlwiLCBjaGVja0Vycm9yKVxyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogY2hlY2tFcnJvciB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFleGlzdGluZ1VzZXIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIltkZWxldGVFbXBsb3llZV0gVXNlciBub3QgZm91bmRcIilcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IHsgbWVzc2FnZTogXCJLYXJ5YXdhbiB0aWRhayBkaXRlbXVrYW5cIiB9IGFzIGFueSB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJbZGVsZXRlRW1wbG95ZWVdIFVzZXIgZXhpc3RzOlwiLCBleGlzdGluZ1VzZXIpXHJcblxyXG4gICAgLy8gU09GVCBERUxFVEUgLSB1YmFoIHN0YXR1cyBqYWRpICdpbmFjdGl2ZScgYWdhciBkYXRhIHRldGFwIGFkYSB1bnR1ayB0cmFuc2Frc2lcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwidXNlcnNcIilcclxuICAgICAgLnVwZGF0ZSh7IHN0YXR1czogJ2luYWN0aXZlJyB9KVxyXG4gICAgICAuZXEoXCJpZFwiLCBpZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKVxyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiW2RlbGV0ZUVtcGxveWVlXSBTb2Z0IGRlbGV0ZSByZXNwb25zZTpcIiwgeyBkYXRhLCBlcnJvciB9KVxyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiW2RlbGV0ZUVtcGxveWVlXSBTb2Z0IGRlbGV0ZSBlcnJvcjpcIiwgZXJyb3IpXHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIltkZWxldGVFbXBsb3llZV0gU29mdCBkZWxldGUgc3VjY2Vzc2Z1bCAtIHN0YXR1cyBjaGFuZ2VkIHRvIGluYWN0aXZlXCIpXHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9XHJcbiAgICBcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiW2RlbGV0ZUVtcGxveWVlXSBFeGNlcHRpb246XCIsIGUpXHJcbiAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogeyBtZXNzYWdlOiBTdHJpbmcoZSkgfSBhcyBhbnkgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gUEVSQkFJS0FOIEZVTkdTSSBHRVQgRU1QTE9ZRUUgU1RBVFNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEVtcGxveWVlU3RhdHMoZW1wbG95ZWVJZDogc3RyaW5nKTogUHJvbWlzZTxFbXBsb3llZVN0YXRzPiB7XHJcbiAgY29uc29sZS5sb2coXCJbdjEzLUZJWEVEXSBnZXRFbXBsb3llZVN0YXRzIGNhbGxlZCBmb3I6XCIsIGVtcGxveWVlSWQpO1xyXG5cclxuICB0cnkge1xyXG4gICAgLy8gMS4gSGl0dW5nIHRyYW5zYWtzaSBkYW4gcmV2ZW51ZSAtIGd1bmFrYW4gc2VydmVyX2lkICh5YW5nIG1lbGF5YW5pKSwgYnVrYW4gY2FzaGllcl9pZFxyXG4gICAgY29uc3QgeyBkYXRhOiB0cmFuc2FjdGlvbnMsIGVycm9yOiB0cmFuc2FjdGlvbnNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oXCJ0cmFuc2FjdGlvbnNcIilcclxuICAgICAgLnNlbGVjdChcInRvdGFsX2Ftb3VudCwgY3JlYXRlZF9hdFwiKVxyXG4gICAgICAuZXEoXCJzZXJ2ZXJfaWRcIiwgZW1wbG95ZWVJZClcclxuICAgICAgLmd0ZShcImNyZWF0ZWRfYXRcIiwgbmV3IERhdGUobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLCBuZXcgRGF0ZSgpLmdldE1vbnRoKCksIDEpLnRvSVNPU3RyaW5nKCkpO1xyXG5cclxuICAgIGlmICh0cmFuc2FjdGlvbnNFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiW3YxMy1GSVhFRF0gRXJyb3IgZmV0Y2hpbmcgdHJhbnNhY3Rpb25zOlwiLCB0cmFuc2FjdGlvbnNFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdG90YWxUcmFuc2FjdGlvbnMgPSB0cmFuc2FjdGlvbnM/Lmxlbmd0aCB8fCAwO1xyXG4gICAgY29uc3QgdG90YWxSZXZlbnVlID0gdHJhbnNhY3Rpb25zPy5yZWR1Y2UoKHN1bSwgdCkgPT4gc3VtICsgKHQudG90YWxfYW1vdW50IHx8IDApLCAwKSB8fCAwO1xyXG4gICAgY29uc3QgYXZlcmFnZVRyYW5zYWN0aW9uID0gdG90YWxUcmFuc2FjdGlvbnMgPiAwID8gdG90YWxSZXZlbnVlIC8gdG90YWxUcmFuc2FjdGlvbnMgOiAwO1xyXG5cclxuICAgIC8vIDIuIEhpdHVuZyBrb21pc2kgZGFyaSBjb21taXNzaW9uX2Ftb3VudCB5YW5nIHN1ZGFoIHRlcnNpbXBhbiBkaSB0cmFuc2FjdGlvbl9pdGVtc1xyXG4gICAgbGV0IHRvdGFsQ29tbWlzc2lvbiA9IDA7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIltnZXRFbXBsb3llZVN0YXRzXSBDYWxjdWxhdGluZyBjb21taXNzaW9uIGZvciBlbXBsb3llZTpcIiwgZW1wbG95ZWVJZCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IGRhdGE6IGNvbW1pc3Npb25EYXRhLCBlcnJvcjogY29tbWlzc2lvbkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKFwidHJhbnNhY3Rpb25faXRlbXNcIilcclxuICAgICAgICAuc2VsZWN0KFwiY29tbWlzc2lvbl9hbW91bnQsIGNvbW1pc3Npb25fc3RhdHVzXCIpXHJcbiAgICAgICAgLmVxKFwiYmFyYmVyX2lkXCIsIGVtcGxveWVlSWQpXHJcbiAgICAgICAgLmVxKFwiY29tbWlzc2lvbl9zdGF0dXNcIiwgXCJjcmVkaXRlZFwiKVxyXG4gICAgICAgIC5ndGUoXCJjcmVhdGVkX2F0XCIsIG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSwgbmV3IERhdGUoKS5nZXRNb250aCgpLCAxKS50b0lTT1N0cmluZygpKTtcclxuXHJcbiAgICAgIGlmICghY29tbWlzc2lvbkVycm9yICYmIGNvbW1pc3Npb25EYXRhKSB7XHJcbiAgICAgICAgdG90YWxDb21taXNzaW9uID0gY29tbWlzc2lvbkRhdGEucmVkdWNlKChzdW0sIGl0ZW0pID0+IHtcclxuICAgICAgICAgIHJldHVybiBzdW0gKyAoaXRlbS5jb21taXNzaW9uX2Ftb3VudCB8fCAwKTtcclxuICAgICAgICB9LCAwKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhcIltnZXRFbXBsb3llZVN0YXRzXSBDb21taXNzaW9uIGl0ZW1zIGZvdW5kOlwiLCBjb21taXNzaW9uRGF0YS5sZW5ndGgsIFwiVG90YWw6XCIsIHRvdGFsQ29tbWlzc2lvbik7XHJcbiAgICAgIH0gZWxzZSBpZiAoY29tbWlzc2lvbkVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlt2MTMtRklYRURdIEVycm9yIGNhbGN1bGF0aW5nIGNvbW1pc3Npb246XCIsIGNvbW1pc3Npb25FcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGNvbW1pc3Npb25FcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiW3YxMy1GSVhFRF0gVW5leHBlY3RlZCBlcnJvciBjYWxjdWxhdGluZyBjb21taXNzaW9uOlwiLCBjb21taXNzaW9uRXJyb3IpO1xyXG4gICAgICB0b3RhbENvbW1pc3Npb24gPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDMuIEhpdHVuZyBwb2ludHMgdW50dWsgYm9udXMvcGVuYWx0eVxyXG4gICAgY29uc3QgeyBkYXRhOiBwb2ludHNEYXRhLCBlcnJvcjogcG9pbnRzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwicG9pbnRzXCIpXHJcbiAgICAgIC5zZWxlY3QoXCJwb2ludHNfZWFybmVkLCBwb2ludHNfdHlwZVwiKVxyXG4gICAgICAuZXEoXCJ1c2VyX2lkXCIsIGVtcGxveWVlSWQpXHJcbiAgICAgIC5ndGUoXCJjcmVhdGVkX2F0XCIsIG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSwgbmV3IERhdGUoKS5nZXRNb250aCgpLCAxKS50b0lTT1N0cmluZygpKTtcclxuXHJcbiAgICBsZXQgYm9udXNQb2ludHMgPSAwO1xyXG4gICAgbGV0IHBlbmFsdHlQb2ludHMgPSAwO1xyXG4gICAgXHJcbiAgICBpZiAoIXBvaW50c0Vycm9yICYmIHBvaW50c0RhdGEpIHtcclxuICAgICAgcG9pbnRzRGF0YS5mb3JFYWNoKHBvaW50ID0+IHtcclxuICAgICAgICBpZiAocG9pbnQucG9pbnRzX2Vhcm5lZCA+IDApIHtcclxuICAgICAgICAgIGJvbnVzUG9pbnRzICs9IHBvaW50LnBvaW50c19lYXJuZWQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHBlbmFsdHlQb2ludHMgKz0gTWF0aC5hYnMocG9pbnQucG9pbnRzX2Vhcm5lZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzdGF0czogRW1wbG95ZWVTdGF0cyA9IHtcclxuICAgICAgdG90YWxUcmFuc2FjdGlvbnMsXHJcbiAgICAgIHRvdGFsUmV2ZW51ZSxcclxuICAgICAgdG90YWxDb21taXNzaW9uLFxyXG4gICAgICBhdmVyYWdlVHJhbnNhY3Rpb24sXHJcbiAgICAgIGJvbnVzUG9pbnRzLFxyXG4gICAgICBwZW5hbHR5UG9pbnRzLFxyXG4gICAgICB0b3RhbEJvbnVzOiBib251c1BvaW50cyxcclxuICAgICAgdG90YWxQZW5hbHR5OiBwZW5hbHR5UG9pbnRzXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiW3YxMy1GSVhFRF0gRW1wbG95ZWUgc3RhdHM6XCIsIHN0YXRzKTtcclxuICAgIHJldHVybiBzdGF0cztcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIlt2MTMtRklYRURdIFVuZXhwZWN0ZWQgZXJyb3IgaW4gZ2V0RW1wbG95ZWVTdGF0czpcIiwgZXJyb3IpO1xyXG4gICAgXHJcbiAgICAvLyBSZXR1cm4gZGVmYXVsdCBzdGF0cyBqaWthIHRlcmphZGkgZXJyb3JcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHRvdGFsVHJhbnNhY3Rpb25zOiAwLFxyXG4gICAgICB0b3RhbFJldmVudWU6IDAsXHJcbiAgICAgIHRvdGFsQ29tbWlzc2lvbjogMCxcclxuICAgICAgYXZlcmFnZVRyYW5zYWN0aW9uOiAwLFxyXG4gICAgICBib251c1BvaW50czogMCxcclxuICAgICAgcGVuYWx0eVBvaW50czogMCxcclxuICAgICAgdG90YWxCb251czogMCxcclxuICAgICAgdG90YWxQZW5hbHR5OiAwXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEVtcGxveWVlQ29tbWlzc2lvbnMoZW1wbG95ZWVJZDogc3RyaW5nKSB7XHJcbiAgY29uc29sZS5sb2coXCJbdjEyLUZJWEVEXSBnZXRFbXBsb3llZUNvbW1pc3Npb25zIChub3cgcnVsZXMpIGNhbGxlZCBmb3I6XCIsIGVtcGxveWVlSWQpXHJcblxyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcImNvbW1pc3Npb25fcnVsZXNcIilcclxuICAgIC5zZWxlY3QoYCosIHNlcnZpY2VzIChuYW1lLCBwcmljZSlgKVxyXG4gICAgLmVxKFwidXNlcl9pZFwiLCBlbXBsb3llZUlkKVxyXG4gICAgLm9yZGVyKFwiY3JlYXRlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XHJcblxyXG4gIGlmIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIlt2MTItRklYRURdIEVycm9yIGZldGNoaW5nIGNvbW1pc3Npb24gcnVsZXM6XCIsIGVycm9yKTtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKFwiW3YxMi1GSVhFRF0gRW1wbG95ZWUgY29tbWlzc2lvbiBydWxlcyByZXN1bHQ6XCIsIHsgZGF0YSwgZXJyb3IgfSlcclxuICByZXR1cm4gZXJyb3IgPyB7IGRhdGE6IFtdLCBlcnJvciB9IDogeyBkYXRhOiBkYXRhIHx8IFtdLCBlcnJvcjogbnVsbCB9XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFBFUkJBSUtBTiBGVU5HU0kgR0VUIEVNUExPWUVFIEFUVEVOREFOQ0VcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEVtcGxveWVlQXR0ZW5kYW5jZShlbXBsb3llZUlkOiBzdHJpbmcpIHtcclxuICBjb25zb2xlLmxvZyhcIlt2MTMtRklYRURdIGdldEVtcGxveWVlQXR0ZW5kYW5jZSBjYWxsZWQgZm9yOlwiLCBlbXBsb3llZUlkKTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGN1cnJlbnRNb250aCA9IG5ldyBEYXRlKCkuZ2V0TW9udGgoKTtcclxuICAgIGNvbnN0IGN1cnJlbnRZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xyXG4gICAgY29uc3QgZmlyc3REYXlPZk1vbnRoID0gbmV3IERhdGUoY3VycmVudFllYXIsIGN1cnJlbnRNb250aCwgMSk7XHJcbiAgICBjb25zdCBsYXN0RGF5T2ZNb250aCA9IG5ldyBEYXRlKGN1cnJlbnRZZWFyLCBjdXJyZW50TW9udGggKyAxLCAwKTtcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcImF0dGVuZGFuY2VcIilcclxuICAgICAgLnNlbGVjdChcIipcIilcclxuICAgICAgLmVxKFwidXNlcl9pZFwiLCBlbXBsb3llZUlkKVxyXG4gICAgICAuZ3RlKFwiZGF0ZVwiLCBmaXJzdERheU9mTW9udGgudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdKVxyXG4gICAgICAubHRlKFwiZGF0ZVwiLCBsYXN0RGF5T2ZNb250aC50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0pXHJcbiAgICAgIC5vcmRlcihcImRhdGVcIiwgeyBhc2NlbmRpbmc6IHRydWUgfSk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbdjEzLUZJWEVEXSBFcnJvciBmZXRjaGluZyBhdHRlbmRhbmNlOlwiLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZGF0YTogW10sXHJcbiAgICAgICAgZXJyb3IsXHJcbiAgICAgICAgYXR0ZW5kYW5jZVJhdGU6IDAsXHJcbiAgICAgICAgcHJlc2VudERheXM6IDAsXHJcbiAgICAgICAgbGF0ZURheXM6IDAsXHJcbiAgICAgICAgb3ZlcnRpbWVIb3VyczogMCxcclxuICAgICAgICB0b3RhbFdvcmtEYXlzOiAwXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdG90YWxXb3JrRGF5cyA9IGdldEJ1c2luZXNzRGF5c0NvdW50KGZpcnN0RGF5T2ZNb250aCwgbGFzdERheU9mTW9udGgpO1xyXG4gICAgY29uc3QgcHJlc2VudERheXMgPSBkYXRhLmZpbHRlcihyZWNvcmQgPT4gXHJcbiAgICAgIHJlY29yZC5zdGF0dXMgPT09IFwiY2hlY2tlZF9vdXRcIiB8fCByZWNvcmQuc3RhdHVzID09PSBcImNoZWNrZWRfaW5cIlxyXG4gICAgKS5sZW5ndGg7XHJcblxyXG4gICAgY29uc3QgbGF0ZURheXMgPSBkYXRhLmZpbHRlcihyZWNvcmQgPT4ge1xyXG4gICAgICBpZiAoIXJlY29yZC5jaGVja19pbl90aW1lKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGNvbnN0IGNoZWNrSW5UaW1lID0gcmVjb3JkLmNoZWNrX2luX3RpbWU7XHJcbiAgICAgIHJldHVybiBjaGVja0luVGltZSA+IFwiMDg6MzA6MDBcIjtcclxuICAgIH0pLmxlbmd0aDtcclxuXHJcbiAgICBjb25zdCB0b3RhbEhvdXJzID0gZGF0YS5yZWR1Y2UoKHN1bSwgcmVjb3JkKSA9PiBzdW0gKyAocmVjb3JkLnRvdGFsX2hvdXJzIHx8IDApLCAwKTtcclxuICAgIGNvbnN0IHJlZ3VsYXJIb3VycyA9IHByZXNlbnREYXlzICogODtcclxuICAgIGNvbnN0IG92ZXJ0aW1lSG91cnMgPSBNYXRoLm1heCgwLCB0b3RhbEhvdXJzIC0gcmVndWxhckhvdXJzKTtcclxuICAgIGNvbnN0IGF0dGVuZGFuY2VSYXRlID0gdG90YWxXb3JrRGF5cyA+IDAgPyBNYXRoLnJvdW5kKChwcmVzZW50RGF5cyAvIHRvdGFsV29ya0RheXMpICogMTAwKSA6IDA7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJbdjEzLUZJWEVEXSBFbXBsb3llZSBhdHRlbmRhbmNlIHJlc3VsdDpcIiwgeyBcclxuICAgICAgdG90YWxXb3JrRGF5cywgXHJcbiAgICAgIHByZXNlbnREYXlzLCBcclxuICAgICAgbGF0ZURheXMsIFxyXG4gICAgICBvdmVydGltZUhvdXJzOiBNYXRoLm1heCgwLCBvdmVydGltZUhvdXJzKSxcclxuICAgICAgYXR0ZW5kYW5jZVJhdGUgXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkYXRhOiBkYXRhIHx8IFtdLFxyXG4gICAgICBlcnJvcjogbnVsbCxcclxuICAgICAgYXR0ZW5kYW5jZVJhdGUsXHJcbiAgICAgIHByZXNlbnREYXlzLFxyXG4gICAgICBsYXRlRGF5cyxcclxuICAgICAgb3ZlcnRpbWVIb3VyczogTWF0aC5tYXgoMCwgb3ZlcnRpbWVIb3VycyksXHJcbiAgICAgIHRvdGFsV29ya0RheXNcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJbdjEzLUZJWEVEXSBVbmV4cGVjdGVkIGVycm9yIGluIGdldEVtcGxveWVlQXR0ZW5kYW5jZTpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YTogW10sXHJcbiAgICAgIGVycm9yOiBlcnJvciBhcyBhbnksXHJcbiAgICAgIGF0dGVuZGFuY2VSYXRlOiAwLFxyXG4gICAgICBwcmVzZW50RGF5czogMCxcclxuICAgICAgbGF0ZURheXM6IDAsXHJcbiAgICAgIG92ZXJ0aW1lSG91cnM6IDAsXHJcbiAgICAgIHRvdGFsV29ya0RheXM6IDBcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyDwn5SlIEZVTkdTSSBCQVJVIFlBTkcgRElUQU1CQUhLQU4gLSBnZXRFbXBsb3llZVBob3Rvc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RW1wbG95ZWVQaG90b3ModXNlcklkOiBzdHJpbmcpIHtcclxuICBjb25zb2xlLmxvZyhcIltnZXRFbXBsb3llZVBob3Rvc10gQ2FsbGVkIHdpdGggdXNlcklkOlwiLCB1c2VySWQpXHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcImF0dGVuZGFuY2VcIilcclxuICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgKixcclxuICAgICAgICB1c2Vyczp1c2VyX2lkICggaWQsIG5hbWUsIGVtYWlsLCBwb3NpdGlvbiwgYnJhbmNoX2lkICksXHJcbiAgICAgICAgYnJhbmNoZXM6YnJhbmNoX2lkICggaWQsIG5hbWUsIGFkZHJlc3MgKVxyXG4gICAgICBgKVxyXG4gICAgICAuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZClcclxuICAgICAgLm9yKFwiY2hlY2tfaW5fcGhvdG8ubm90LmlzLm51bGwsY2hlY2tfb3V0X3Bob3RvLm5vdC5pcy5udWxsXCIpXHJcbiAgICAgIC5vcmRlcihcImRhdGVcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXHJcbiAgICAgIC5vcmRlcihcImNyZWF0ZWRfYXRcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXHJcbiAgICAgIC5saW1pdCg1MClcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIltnZXRFbXBsb3llZVBob3Rvc10gUXVlcnkgcmVzdWx0OlwiLCB7IGRhdGEsIGVycm9yIH0pXHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbZ2V0RW1wbG95ZWVQaG90b3NdIEVycm9yOlwiLCBlcnJvcilcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGF0dGVuZGFuY2VXaXRoRGV0YWlsczogQXR0ZW5kYW5jZVdpdGhEZXRhaWxzW10gPSAoZGF0YSB8fCBbXSkubWFwKChyZWNvcmQ6IGFueSkgPT4gKHtcclxuICAgICAgaWQ6IHJlY29yZC5pZCxcclxuICAgICAgdXNlcl9pZDogcmVjb3JkLnVzZXJfaWQsXHJcbiAgICAgIGJyYW5jaF9pZDogcmVjb3JkLmJyYW5jaF9pZCxcclxuICAgICAgc2hpZnRfdHlwZTogcmVjb3JkLnNoaWZ0X3R5cGUsXHJcbiAgICAgIGNoZWNrX2luX3RpbWU6IHJlY29yZC5jaGVja19pbl90aW1lLFxyXG4gICAgICBjaGVja19vdXRfdGltZTogcmVjb3JkLmNoZWNrX291dF90aW1lLFxyXG4gICAgICBicmVha19zdGFydF90aW1lOiByZWNvcmQuYnJlYWtfc3RhcnRfdGltZSxcclxuICAgICAgYnJlYWtfZW5kX3RpbWU6IHJlY29yZC5icmVha19lbmRfdGltZSxcclxuICAgICAgdG90YWxfaG91cnM6IHJlY29yZC50b3RhbF9ob3VycyxcclxuICAgICAgYnJlYWtfZHVyYXRpb246IHJlY29yZC5icmVha19kdXJhdGlvbixcclxuICAgICAgc3RhdHVzOiByZWNvcmQuc3RhdHVzLFxyXG4gICAgICBjaGVja19pbl9waG90bzogcmVjb3JkLmNoZWNrX2luX3Bob3RvLFxyXG4gICAgICBjaGVja19vdXRfcGhvdG86IHJlY29yZC5jaGVja19vdXRfcGhvdG8sXHJcbiAgICAgIGRhdGU6IHJlY29yZC5kYXRlLFxyXG4gICAgICBjcmVhdGVkX2F0OiByZWNvcmQuY3JlYXRlZF9hdCxcclxuICAgICAgdXBkYXRlZF9hdDogcmVjb3JkLnVwZGF0ZWRfYXQsXHJcbiAgICAgIHVzZXJzOiByZWNvcmQudXNlcnMgPyB7XHJcbiAgICAgICAgaWQ6IHJlY29yZC51c2Vycy5pZCxcclxuICAgICAgICBuYW1lOiByZWNvcmQudXNlcnMubmFtZSxcclxuICAgICAgICBlbWFpbDogcmVjb3JkLnVzZXJzLmVtYWlsLFxyXG4gICAgICAgIHBvc2l0aW9uOiByZWNvcmQudXNlcnMucG9zaXRpb24sXHJcbiAgICAgICAgYnJhbmNoX2lkOiByZWNvcmQudXNlcnMuYnJhbmNoX2lkLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHJlY29yZC51c2Vycy5jcmVhdGVkX2F0IHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9IDogdW5kZWZpbmVkLFxyXG4gICAgICBicmFuY2hlczogcmVjb3JkLmJyYW5jaGVzID8ge1xyXG4gICAgICAgIGlkOiByZWNvcmQuYnJhbmNoZXMuaWQsXHJcbiAgICAgICAgbmFtZTogcmVjb3JkLmJyYW5jaGVzLm5hbWUsXHJcbiAgICAgICAgYWRkcmVzczogcmVjb3JkLmJyYW5jaGVzLmFkZHJlc3MsXHJcbiAgICAgICAgY3JlYXRlZF9hdDogcmVjb3JkLmJyYW5jaGVzLmNyZWF0ZWRfYXQgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH0gOiB1bmRlZmluZWRcclxuICAgIH0pKVxyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiW2dldEVtcGxveWVlUGhvdG9zXSBSZXR1cm5pbmc6XCIsIGF0dGVuZGFuY2VXaXRoRGV0YWlscy5sZW5ndGgsIFwicmVjb3Jkc1wiKVxyXG4gICAgcmV0dXJuIHsgZGF0YTogYXR0ZW5kYW5jZVdpdGhEZXRhaWxzLCBlcnJvcjogbnVsbCB9XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiW2dldEVtcGxveWVlUGhvdG9zXSBFeGNlcHRpb246XCIsIGVycm9yKVxyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8g8J+UpSBGVU5HU0kgQkFSVSBZQU5HIERJVEFNQkFIS0FOIC0gZ2V0RW1wbG95ZWVBdHRlbmRhbmNlV2l0aFBob3Rvc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RW1wbG95ZWVBdHRlbmRhbmNlV2l0aFBob3Rvcyh1c2VySWQ6IHN0cmluZywgZGF5czogbnVtYmVyID0gMzApIHtcclxuICBjb25zb2xlLmxvZyhcIltnZXRFbXBsb3llZUF0dGVuZGFuY2VXaXRoUGhvdG9zXSBDYWxsZWQgd2l0aCB1c2VySWQ6XCIsIHVzZXJJZCwgXCJkYXlzOlwiLCBkYXlzKVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKClcclxuICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKClcclxuICAgIHN0YXJ0RGF0ZS5zZXREYXRlKGVuZERhdGUuZ2V0RGF0ZSgpIC0gZGF5cylcclxuXHJcbiAgICBjb25zdCBzdGFydERhdGVTdHIgPSBzdGFydERhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXHJcbiAgICBjb25zdCBlbmREYXRlU3RyID0gZW5kRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIltnZXRFbXBsb3llZUF0dGVuZGFuY2VXaXRoUGhvdG9zXSBEYXRlIHJhbmdlOlwiLCBzdGFydERhdGVTdHIsIFwidG9cIiwgZW5kRGF0ZVN0cilcclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcImF0dGVuZGFuY2VcIilcclxuICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgKixcclxuICAgICAgICB1c2Vyczp1c2VyX2lkICggaWQsIG5hbWUsIGVtYWlsLCBwb3NpdGlvbiwgYnJhbmNoX2lkICksXHJcbiAgICAgICAgYnJhbmNoZXM6YnJhbmNoX2lkICggaWQsIG5hbWUsIGFkZHJlc3MgKVxyXG4gICAgICBgKVxyXG4gICAgICAuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZClcclxuICAgICAgLmd0ZShcImRhdGVcIiwgc3RhcnREYXRlU3RyKVxyXG4gICAgICAubHRlKFwiZGF0ZVwiLCBlbmREYXRlU3RyKVxyXG4gICAgICAub3JkZXIoXCJkYXRlXCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG4gICAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiW2dldEVtcGxveWVlQXR0ZW5kYW5jZVdpdGhQaG90b3NdIFF1ZXJ5IHJlc3VsdDpcIiwgeyBkYXRhTGVuZ3RoOiBkYXRhPy5sZW5ndGgsIGVycm9yIH0pXHJcblxyXG4gICAgLy8gSWdub3JlIGVtcHR5IGVycm9yIG9iamVjdHNcclxuICAgIGlmIChlcnJvcj8ubWVzc2FnZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiW2dldEVtcGxveWVlQXR0ZW5kYW5jZVdpdGhQaG90b3NdIEVycm9yOlwiLCBlcnJvcilcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBkYXRhOiBbXSxcclxuICAgICAgICBlcnJvcixcclxuICAgICAgICBhdHRlbmRhbmNlUmF0ZTogMCxcclxuICAgICAgICBwcmVzZW50RGF5czogMCxcclxuICAgICAgICBsYXRlRGF5czogMCxcclxuICAgICAgICB0b3RhbFdvcmtEYXlzOiBkYXlzLFxyXG4gICAgICAgIG92ZXJ0aW1lSG91cnM6IDAsXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhdHRlbmRhbmNlUmVjb3JkczogQXR0ZW5kYW5jZVdpdGhEZXRhaWxzW10gPSAoZGF0YSB8fCBbXSkubWFwKChyZWNvcmQ6IGFueSkgPT4gKHtcclxuICAgICAgaWQ6IHJlY29yZC5pZCxcclxuICAgICAgdXNlcl9pZDogcmVjb3JkLnVzZXJfaWQsXHJcbiAgICAgIGJyYW5jaF9pZDogcmVjb3JkLmJyYW5jaF9pZCxcclxuICAgICAgc2hpZnRfdHlwZTogcmVjb3JkLnNoaWZ0X3R5cGUsXHJcbiAgICAgIGNoZWNrX2luX3RpbWU6IHJlY29yZC5jaGVja19pbl90aW1lLFxyXG4gICAgICBjaGVja19vdXRfdGltZTogcmVjb3JkLmNoZWNrX291dF90aW1lLFxyXG4gICAgICBicmVha19zdGFydF90aW1lOiByZWNvcmQuYnJlYWtfc3RhcnRfdGltZSxcclxuICAgICAgYnJlYWtfZW5kX3RpbWU6IHJlY29yZC5icmVha19lbmRfdGltZSxcclxuICAgICAgdG90YWxfaG91cnM6IHJlY29yZC50b3RhbF9ob3VycyxcclxuICAgICAgYnJlYWtfZHVyYXRpb246IHJlY29yZC5icmVha19kdXJhdGlvbixcclxuICAgICAgc3RhdHVzOiByZWNvcmQuc3RhdHVzLFxyXG4gICAgICBjaGVja19pbl9waG90bzogcmVjb3JkLmNoZWNrX2luX3Bob3RvLFxyXG4gICAgICBjaGVja19vdXRfcGhvdG86IHJlY29yZC5jaGVja19vdXRfcGhvdG8sXHJcbiAgICAgIGRhdGU6IHJlY29yZC5kYXRlLFxyXG4gICAgICBjcmVhdGVkX2F0OiByZWNvcmQuY3JlYXRlZF9hdCxcclxuICAgICAgdXBkYXRlZF9hdDogcmVjb3JkLnVwZGF0ZWRfYXQsXHJcbiAgICAgIHVzZXJzOiByZWNvcmQudXNlcnMgPyB7XHJcbiAgICAgICAgaWQ6IHJlY29yZC51c2Vycy5pZCxcclxuICAgICAgICBuYW1lOiByZWNvcmQudXNlcnMubmFtZSxcclxuICAgICAgICBlbWFpbDogcmVjb3JkLnVzZXJzLmVtYWlsLFxyXG4gICAgICAgIHBvc2l0aW9uOiByZWNvcmQudXNlcnMucG9zaXRpb24sXHJcbiAgICAgICAgYnJhbmNoX2lkOiByZWNvcmQudXNlcnMuYnJhbmNoX2lkLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHJlY29yZC51c2Vycy5jcmVhdGVkX2F0IHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9IDogdW5kZWZpbmVkLFxyXG4gICAgICBicmFuY2hlczogcmVjb3JkLmJyYW5jaGVzID8ge1xyXG4gICAgICAgIGlkOiByZWNvcmQuYnJhbmNoZXMuaWQsXHJcbiAgICAgICAgbmFtZTogcmVjb3JkLmJyYW5jaGVzLm5hbWUsXHJcbiAgICAgICAgYWRkcmVzczogcmVjb3JkLmJyYW5jaGVzLmFkZHJlc3MsXHJcbiAgICAgICAgY3JlYXRlZF9hdDogcmVjb3JkLmJyYW5jaGVzLmNyZWF0ZWRfYXQgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH0gOiB1bmRlZmluZWRcclxuICAgIH0pKVxyXG5cclxuICAgIGNvbnN0IHByZXNlbnREYXlzID0gYXR0ZW5kYW5jZVJlY29yZHMuZmlsdGVyKHIgPT5cclxuICAgICAgci5zdGF0dXMgIT09ICdhYnNlbnQnICYmIChyLmNoZWNrX2luX3RpbWUgfHwgci5jaGVja19vdXRfdGltZSlcclxuICAgICkubGVuZ3RoXHJcblxyXG4gICAgY29uc3QgbGF0ZURheXMgPSBhdHRlbmRhbmNlUmVjb3Jkcy5maWx0ZXIociA9PiB7XHJcbiAgICAgIGlmICghci5jaGVja19pbl90aW1lKSByZXR1cm4gZmFsc2VcclxuICAgICAgY29uc3QgY2hlY2tJblRpbWUgPSByLmNoZWNrX2luX3RpbWVcclxuICAgICAgcmV0dXJuIGNoZWNrSW5UaW1lID4gXCIwODozMFwiXHJcbiAgICB9KS5sZW5ndGhcclxuXHJcbiAgICBjb25zdCB0b3RhbEhvdXJzID0gYXR0ZW5kYW5jZVJlY29yZHMucmVkdWNlKChzdW0sIHIpID0+IHN1bSArIChyLnRvdGFsX2hvdXJzIHx8IDApLCAwKVxyXG4gICAgY29uc3QgcmVndWxhckhvdXJzID0gcHJlc2VudERheXMgKiA4XHJcbiAgICBjb25zdCBvdmVydGltZUhvdXJzID0gTWF0aC5tYXgoMCwgdG90YWxIb3VycyAtIHJlZ3VsYXJIb3VycylcclxuICAgIGNvbnN0IGF0dGVuZGFuY2VSYXRlID0gZGF5cyA+IDAgPyBNYXRoLnJvdW5kKChwcmVzZW50RGF5cyAvIGRheXMpICogMTAwKSA6IDBcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIltnZXRFbXBsb3llZUF0dGVuZGFuY2VXaXRoUGhvdG9zXSBTdGF0aXN0aWNzOlwiLCB7XHJcbiAgICAgIGF0dGVuZGFuY2VSYXRlLFxyXG4gICAgICBwcmVzZW50RGF5cyxcclxuICAgICAgbGF0ZURheXMsXHJcbiAgICAgIHRvdGFsV29ya0RheXM6IGRheXMsXHJcbiAgICAgIG92ZXJ0aW1lSG91cnM6IE1hdGgucm91bmQob3ZlcnRpbWVIb3VycyAqIDEwMCkgLyAxMDAsXHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRhdGE6IGF0dGVuZGFuY2VSZWNvcmRzLFxyXG4gICAgICBlcnJvcjogbnVsbCxcclxuICAgICAgYXR0ZW5kYW5jZVJhdGUsXHJcbiAgICAgIHByZXNlbnREYXlzLFxyXG4gICAgICBsYXRlRGF5cyxcclxuICAgICAgdG90YWxXb3JrRGF5czogZGF5cyxcclxuICAgICAgb3ZlcnRpbWVIb3VyczogTWF0aC5yb3VuZChvdmVydGltZUhvdXJzICogMTAwKSAvIDEwMCxcclxuICAgIH1cclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJbZ2V0RW1wbG95ZWVBdHRlbmRhbmNlV2l0aFBob3Rvc10gRXhjZXB0aW9uOlwiLCBlcnJvcilcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRhdGE6IFtdLFxyXG4gICAgICBlcnJvcjogZXJyb3IgYXMgYW55LFxyXG4gICAgICBhdHRlbmRhbmNlUmF0ZTogMCxcclxuICAgICAgcHJlc2VudERheXM6IDAsXHJcbiAgICAgIGxhdGVEYXlzOiAwLFxyXG4gICAgICB0b3RhbFdvcmtEYXlzOiBkYXlzLFxyXG4gICAgICBvdmVydGltZUhvdXJzOiAwLFxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQXV0aCBIZWxwZXIgRnVuY3Rpb25zXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDdXJyZW50VXNlcigpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhcIltnZXRDdXJyZW50VXNlcl0gQXV0aCB1c2VyOlwiLCB1c2VyKTtcclxuICAgIGNvbnNvbGUubG9nKFwiW2dldEN1cnJlbnRVc2VyXSBBdXRoIGVycm9yOlwiLCBlcnJvcik7XHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiW2dldEN1cnJlbnRVc2VyXSBFcnJvciBnZXR0aW5nIGN1cnJlbnQgdXNlcjpcIiwgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdXNlcjtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIltnZXRDdXJyZW50VXNlcl0gVW5leHBlY3RlZCBlcnJvcjpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLy8gRnVuZ3NpIHVudHVrIGdldCBwcm9maWxlIGRhcmkgYXV0aCBkYXRhIHNhamFcclxuYXN5bmMgZnVuY3Rpb24gZ2V0QXV0aFVzZXJQcm9maWxlKHVzZXJJZDogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZGF0YTogYXV0aERhdGEgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xyXG4gICAgXHJcbiAgICBpZiAoYXV0aERhdGEudXNlciAmJiBhdXRoRGF0YS51c2VyLmlkID09PSB1c2VySWQpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBpZDogYXV0aERhdGEudXNlci5pZCxcclxuICAgICAgICBlbWFpbDogYXV0aERhdGEudXNlci5lbWFpbCB8fCBcIlwiLFxyXG4gICAgICAgIG5hbWU6IGF1dGhEYXRhLnVzZXIuZW1haWw/LnNwbGl0KCdAJylbMF0gfHwgXCJVc2VyXCIsXHJcbiAgICAgICAgcGluOiBcIlwiLFxyXG4gICAgICAgIHBvc2l0aW9uOiBcImVtcGxveWVlXCIsXHJcbiAgICAgICAgc3RhdHVzOiBcImFjdGl2ZVwiLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIltnZXRBdXRoVXNlclByb2ZpbGVdIEVycm9yOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbi8vIEZ1bmdzaSB1bnR1ayBjcmVhdGUgdXNlciBwcm9maWxlIGRhcmkgYXV0aCBkYXRhXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVVzZXJQcm9maWxlRnJvbUF1dGgodXNlcklkOiBzdHJpbmcpIHtcclxuICB0cnkge1xyXG4gICAgLy8gR2V0IGF1dGggdXNlciBkYXRhXHJcbiAgICBjb25zdCB7IGRhdGE6IGF1dGhEYXRhLCBlcnJvcjogYXV0aEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmFkbWluLmdldFVzZXJCeUlkKHVzZXJJZCk7XHJcbiAgICBcclxuICAgIGlmIChhdXRoRXJyb3IgfHwgIWF1dGhEYXRhLnVzZXIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIltjcmVhdGVVc2VyUHJvZmlsZV0gQ2Fubm90IGdldCBhdXRoIHVzZXI6XCIsIGF1dGhFcnJvcik7XHJcbiAgICAgIHJldHVybiBnZXRBdXRoVXNlclByb2ZpbGUodXNlcklkKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGUgdXNlciBwcm9maWxlXHJcbiAgICBjb25zdCB7IGRhdGE6IG5ld1VzZXIsIGVycm9yOiBpbnNlcnRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgLmluc2VydCh7XHJcbiAgICAgICAgaWQ6IGF1dGhEYXRhLnVzZXIuaWQsXHJcbiAgICAgICAgZW1haWw6IGF1dGhEYXRhLnVzZXIuZW1haWwsXHJcbiAgICAgICAgbmFtZTogYXV0aERhdGEudXNlci5lbWFpbD8uc3BsaXQoJ0AnKVswXSB8fCAnVXNlcicsXHJcbiAgICAgICAgcG9zaXRpb246ICdlbXBsb3llZScsXHJcbiAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcclxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoaW5zZXJ0RXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIltjcmVhdGVVc2VyUHJvZmlsZV0gSW5zZXJ0IGZhaWxlZCwgdXNpbmcgYXV0aCBkYXRhOlwiLCBpbnNlcnRFcnJvcik7XHJcbiAgICAgIHJldHVybiBnZXRBdXRoVXNlclByb2ZpbGUodXNlcklkKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIltjcmVhdGVVc2VyUHJvZmlsZV0gTmV3IHVzZXIgcHJvZmlsZSBjcmVhdGVkXCIpO1xyXG4gICAgcmV0dXJuIG5ld1VzZXI7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJbY3JlYXRlVXNlclByb2ZpbGVdIEVycm9yOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gZ2V0QXV0aFVzZXJQcm9maWxlKHVzZXJJZCk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gUGVuZ2VsdWFyYW4gQ2FiYW5nXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVFeHBlbnNlUmVxdWVzdChleHBlbnNlSWQ6IHN0cmluZywgZXhwZW5zZURhdGE6IFBhcnRpYWw8RXhwZW5zZT4pIHtcclxuICBjb25zb2xlLmxvZyhcIlt2MF0gdXBkYXRlRXhwZW5zZVJlcXVlc3QgY2FsbGVkIHdpdGg6XCIsIHsgZXhwZW5zZUlkLCBleHBlbnNlRGF0YSB9KVxyXG5cclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oXCJleHBlbnNlc1wiKVxyXG4gICAgLnVwZGF0ZSh7IFxyXG4gICAgICAuLi5leHBlbnNlRGF0YSxcclxuICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9KVxyXG4gICAgLmVxKFwiaWRcIiwgZXhwZW5zZUlkKVxyXG4gICAgLnNlbGVjdCgpXHJcbiAgICAuc2luZ2xlKClcclxuXHJcbiAgY29uc29sZS5sb2coXCJbdjBdIFVwZGF0ZSBleHBlbnNlIHJlc3VsdDpcIiwgeyBkYXRhLCBlcnJvciB9KVxyXG4gIHJldHVybiBlcnJvciA/IHsgZGF0YTogbnVsbCwgZXJyb3IgfSA6IHsgZGF0YSwgZXJyb3I6IG51bGwgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlRXhwZW5zZVJlcXVlc3QoZXhwZW5zZUlkOiBzdHJpbmcpIHtcclxuICBjb25zb2xlLmxvZyhcIlt2MF0gZGVsZXRlRXhwZW5zZVJlcXVlc3QgY2FsbGVkIHdpdGggaWQ6XCIsIGV4cGVuc2VJZClcclxuXHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKFwiZXhwZW5zZXNcIilcclxuICAgIC5kZWxldGUoKVxyXG4gICAgLmVxKFwiaWRcIiwgZXhwZW5zZUlkKVxyXG5cclxuICBjb25zb2xlLmxvZyhcIlt2MF0gRGVsZXRlIGV4cGVuc2UgcmVzdWx0OlwiLCB7IGRhdGEsIGVycm9yIH0pXHJcbiAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQZW5nZWx1YXJhbiBDYWJhbmcgLSBHRVRcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEV4cGVuc2VzKGJyYW5jaElkPzogc3RyaW5nKSB7XHJcbiAgY29uc29sZS5sb2coXCJbdjBdIGdldEV4cGVuc2VzIGNhbGxlZCB3aXRoIGJyYW5jaElkOlwiLCBicmFuY2hJZClcclxuXHJcbiAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcclxuICAgIC5mcm9tKFwiZXhwZW5zZXNcIilcclxuICAgIC5zZWxlY3QoYFxyXG4gICAgICAqLFxyXG4gICAgICBicmFuY2hlcyFpbm5lciAoXHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgbmFtZVxyXG4gICAgICApXHJcbiAgICBgKVxyXG4gICAgLm9yZGVyKFwiZXhwZW5zZV9kYXRlXCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG5cclxuICBpZiAoYnJhbmNoSWQpIHtcclxuICAgIHF1ZXJ5ID0gcXVlcnkuZXEoXCJicmFuY2hfaWRcIiwgYnJhbmNoSWQpXHJcbiAgfVxyXG5cclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeVxyXG5cclxuICBjb25zb2xlLmxvZyhcIlt2MF0gRXhwZW5zZXMgcmVzdWx0OlwiLCB7IGRhdGEsIGVycm9yIH0pXHJcbiAgcmV0dXJuIGVycm9yID8geyBkYXRhOiBbXSwgZXJyb3IgfSA6IHsgZGF0YTogZGF0YSB8fCBbXSwgZXJyb3I6IG51bGwgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQZW5nZWx1YXJhbiBDYWJhbmcgLSBTVEFUSVNUSUNTXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRFeHBlbnNlU3RhdGlzdGljcyhicmFuY2hJZD86IHN0cmluZykge1xyXG4gIGNvbnNvbGUubG9nKFwiW3YwXSBnZXRFeHBlbnNlU3RhdGlzdGljcyBjYWxsZWQgd2l0aCBicmFuY2hJZDpcIiwgYnJhbmNoSWQpXHJcblxyXG4gIGxldCBxdWVyeSA9IHN1cGFiYXNlLmZyb20oXCJleHBlbnNlc1wiKS5zZWxlY3QoXCJhbW91bnRcIilcclxuXHJcbiAgaWYgKGJyYW5jaElkKSB7XHJcbiAgICBxdWVyeSA9IHF1ZXJ5LmVxKFwiYnJhbmNoX2lkXCIsIGJyYW5jaElkKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgcXVlcnlcclxuXHJcbiAgaWYgKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIlt2MF0gRXJyb3IgZmV0Y2hpbmcgZXhwZW5zZSBzdGF0aXN0aWNzOlwiLCBlcnJvcilcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICB0b3RhbEV4cGVuc2VzOiAwLFxyXG4gICAgICAgIGF2ZXJhZ2VQZXJUcmFuc2FjdGlvbjogMCxcclxuICAgICAgfSxcclxuICAgICAgZXJyb3IsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCB0b3RhbEV4cGVuc2VzID0gZGF0YT8ucmVkdWNlKChzdW0sIGV4cGVuc2UpID0+IHN1bSArIChleHBlbnNlLmFtb3VudCB8fCAwKSwgMCkgfHwgMFxyXG4gIGNvbnN0IHRyYW5zYWN0aW9uQ291bnQgPSBkYXRhPy5sZW5ndGggfHwgMFxyXG4gIGNvbnN0IGF2ZXJhZ2VQZXJUcmFuc2FjdGlvbiA9IHRyYW5zYWN0aW9uQ291bnQgPiAwID8gTWF0aC5yb3VuZCh0b3RhbEV4cGVuc2VzIC8gdHJhbnNhY3Rpb25Db3VudCkgOiAwXHJcblxyXG4gIGNvbnN0IHN0YXRpc3RpY3MgPSB7XHJcbiAgICB0b3RhbEV4cGVuc2VzLFxyXG4gICAgYXZlcmFnZVBlclRyYW5zYWN0aW9uLFxyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coXCJbdjBdIEV4cGVuc2Ugc3RhdGlzdGljcyByZXN1bHQ6XCIsIHN0YXRpc3RpY3MpXHJcbiAgcmV0dXJuIHsgZGF0YTogc3RhdGlzdGljcywgZXJyb3I6IG51bGwgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQZW5nZWx1YXJhbiBDYWJhbmcgLSBDUkVBVEVcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUV4cGVuc2VSZXF1ZXN0KGV4cGVuc2VEYXRhOiB7XHJcbiAgYnJhbmNoX2lkPzogc3RyaW5nXHJcbiAgY2F0ZWdvcnk6IHN0cmluZ1xyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICBhbW91bnQ6IG51bWJlclxyXG4gIG5vdGVzPzogc3RyaW5nXHJcbn0pIHtcclxuICBjb25zb2xlLmxvZyhcIlt2MF0gY3JlYXRlRXhwZW5zZVJlcXVlc3QgY2FsbGVkIHdpdGg6XCIsIGV4cGVuc2VEYXRhKVxyXG5cclxuICBjb25zdCBleHBlbnNlVG9JbnNlcnQgPSB7XHJcbiAgICBicmFuY2hfaWQ6IGV4cGVuc2VEYXRhLmJyYW5jaF9pZCB8fCBudWxsLFxyXG4gICAgY2F0ZWdvcnk6IGV4cGVuc2VEYXRhLmNhdGVnb3J5LFxyXG4gICAgZGVzY3JpcHRpb246IGV4cGVuc2VEYXRhLmRlc2NyaXB0aW9uLFxyXG4gICAgYW1vdW50OiBleHBlbnNlRGF0YS5hbW91bnQsXHJcbiAgICBub3RlczogZXhwZW5zZURhdGEubm90ZXMgfHwgbnVsbCxcclxuICAgIGV4cGVuc2VfZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXSxcclxuICAgIHN0YXR1czogXCJwZW5kaW5nXCIsXHJcbiAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZyhcIkRhdGEgeWFuZyBha2FuIGRpaW5zZXJ0OlwiLCBleHBlbnNlVG9JbnNlcnQpXHJcblxyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbShcImV4cGVuc2VzXCIpXHJcbiAgICAuaW5zZXJ0KGV4cGVuc2VUb0luc2VydClcclxuICAgIC5zZWxlY3QoKVxyXG4gICAgLnNpbmdsZSgpXHJcblxyXG4gIGNvbnNvbGUubG9nKFwiW3YwXSBDcmVhdGUgZXhwZW5zZSByZXN1bHQ6XCIsIHsgZGF0YSwgZXJyb3IgfSlcclxuICBcclxuICBpZiAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJEZXRhaWwgZXJyb3I6XCIsIGVycm9yKVxyXG4gIH1cclxuICBcclxuICByZXR1cm4gZXJyb3IgPyB7IGRhdGE6IG51bGwsIGVycm9yIH0gOiB7IGRhdGEsIGVycm9yOiBudWxsIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gS2Vsb2xhIFBlbmdlbHVhcmFuIEZ1bmN0aW9uc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFeHBlbnNlV2l0aERldGFpbHMgZXh0ZW5kcyBFeHBlbnNlIHtcclxuICBicmFuY2hlcz86IHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nIH07XHJcbiAgXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxFeHBlbnNlc1dpdGhEZXRhaWxzKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIvCflI0gRmV0Y2hpbmcgZXhwZW5zZXMgd2l0aG91dCB1c2VycyByZWxhdGlvbnNoaXAuLi5cIik7XHJcbiAgICBcclxuICAgIC8vIFBBU1RJS0FOIGhhbnlhIHNlbGVjdCBicmFuY2hlcyBzYWphLCB0YW5wYSB1c2Vyc1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2V4cGVuc2VzJylcclxuICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgKixcclxuICAgICAgICBicmFuY2hlczpicmFuY2hfaWQgKCopXHJcbiAgICAgIGApXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGZldGNoaW5nIGV4cGVuc2VzOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIuKchSBTdWNjZXNzZnVsbHkgZmV0Y2hlZCBleHBlbnNlczpcIiwgZGF0YT8ubGVuZ3RoKTtcclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBVbmV4cGVjdGVkIGVycm9yOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlRXhwZW5zZVN0YXR1cyhcclxuICBleHBlbnNlSWQ6IHN0cmluZywgXHJcbiAgc3RhdHVzOiBcImFwcHJvdmVkXCIgfCBcInJlamVjdGVkXCIgfCBcInBhaWRcIixcclxuICByZWplY3Rpb25SZWFzb24/OiBzdHJpbmdcclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKFwi8J+UhCBVcGRhdGluZyBleHBlbnNlIHN0YXR1czpcIiwgeyBleHBlbnNlSWQsIHN0YXR1cywgcmVqZWN0aW9uUmVhc29uIH0pO1xyXG4gICAgXHJcbiAgICAvLyBVcGRhdGUgc3RhdHVzIGRhbiByZWplY3Rpb25fcmVhc29uIGppa2EgYWRhXHJcbiAgICBjb25zdCB1cGRhdGVEYXRhOiBhbnkgPSB7XHJcbiAgICAgIHN0YXR1cyxcclxuICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFRhbWJhaGthbiByZWplY3Rpb25fcmVhc29uIGppa2Egc3RhdHVzIHJlamVjdGVkXHJcbiAgICBpZiAoc3RhdHVzID09PSBcInJlamVjdGVkXCIgJiYgcmVqZWN0aW9uUmVhc29uKSB7XHJcbiAgICAgIHVwZGF0ZURhdGEucmVqZWN0aW9uX3JlYXNvbiA9IHJlamVjdGlvblJlYXNvbjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDbGVhciByZWplY3Rpb25fcmVhc29uIGppa2Egc3RhdHVzIGFwcHJvdmVkL3BhaWRcclxuICAgIGlmIChzdGF0dXMgPT09IFwiYXBwcm92ZWRcIiB8fCBzdGF0dXMgPT09IFwicGFpZFwiKSB7XHJcbiAgICAgIHVwZGF0ZURhdGEucmVqZWN0aW9uX3JlYXNvbiA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2V4cGVuc2VzJylcclxuICAgICAgLnVwZGF0ZSh1cGRhdGVEYXRhKVxyXG4gICAgICAuZXEoJ2lkJywgZXhwZW5zZUlkKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgdXBkYXRpbmcgZXhwZW5zZSBzdGF0dXM6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKFwi4pyFIEV4cGVuc2Ugc3RhdHVzIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIFVuZXhwZWN0ZWQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRFeHBlbnNlU3RhdGlzdGljc0J5QnJhbmNoKGJyYW5jaElkPzogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdleHBlbnNlcycpXHJcbiAgICAgIC5zZWxlY3QoJ3N0YXR1cywgYW1vdW50Jyk7XHJcblxyXG4gICAgaWYgKGJyYW5jaElkICYmIGJyYW5jaElkICE9PSAnYWxsJykge1xyXG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdicmFuY2hfaWQnLCBicmFuY2hJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgcXVlcnk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGV4cGVuc2Ugc3RhdGlzdGljczonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdG90YWw6IDAsXHJcbiAgICAgICAgcGVuZGluZzogMCxcclxuICAgICAgICBhcHByb3ZlZDogMCxcclxuICAgICAgICByZWplY3RlZDogMCxcclxuICAgICAgICBwYWlkOiAwLFxyXG4gICAgICAgIHRvdGFsQW1vdW50OiAwLFxyXG4gICAgICAgIHBlbmRpbmdBbW91bnQ6IDAsXHJcbiAgICAgICAgYXBwcm92ZWRBbW91bnQ6IDAsXHJcbiAgICAgICAgcmVqZWN0ZWRBbW91bnQ6IDAsXHJcbiAgICAgICAgcGFpZEFtb3VudDogMFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHN0YXRzID0ge1xyXG4gICAgICB0b3RhbDogZGF0YT8ubGVuZ3RoIHx8IDAsXHJcbiAgICAgIHBlbmRpbmc6IGRhdGE/LmZpbHRlcihlID0+IGUuc3RhdHVzID09PSAncGVuZGluZycpLmxlbmd0aCB8fCAwLFxyXG4gICAgICBhcHByb3ZlZDogZGF0YT8uZmlsdGVyKGUgPT4gZS5zdGF0dXMgPT09ICdhcHByb3ZlZCcpLmxlbmd0aCB8fCAwLFxyXG4gICAgICByZWplY3RlZDogZGF0YT8uZmlsdGVyKGUgPT4gZS5zdGF0dXMgPT09ICdyZWplY3RlZCcpLmxlbmd0aCB8fCAwLFxyXG4gICAgICBwYWlkOiBkYXRhPy5maWx0ZXIoZSA9PiBlLnN0YXR1cyA9PT0gJ3BhaWQnKS5sZW5ndGggfHwgMCxcclxuICAgICAgdG90YWxBbW91bnQ6IGRhdGE/LnJlZHVjZSgoc3VtLCBlKSA9PiBzdW0gKyAoZS5hbW91bnQgfHwgMCksIDApIHx8IDAsXHJcbiAgICAgIHBlbmRpbmdBbW91bnQ6IGRhdGE/LmZpbHRlcihlID0+IGUuc3RhdHVzID09PSAncGVuZGluZycpLnJlZHVjZSgoc3VtLCBlKSA9PiBzdW0gKyAoZS5hbW91bnQgfHwgMCksIDApIHx8IDAsXHJcbiAgICAgIGFwcHJvdmVkQW1vdW50OiBkYXRhPy5maWx0ZXIoZSA9PiBlLnN0YXR1cyA9PT0gJ2FwcHJvdmVkJykucmVkdWNlKChzdW0sIGUpID0+IHN1bSArIChlLmFtb3VudCB8fCAwKSwgMCkgfHwgMCxcclxuICAgICAgcmVqZWN0ZWRBbW91bnQ6IGRhdGE/LmZpbHRlcihlID0+IGUuc3RhdHVzID09PSAncmVqZWN0ZWQnKS5yZWR1Y2UoKHN1bSwgZSkgPT4gc3VtICsgKGUuYW1vdW50IHx8IDApLCAwKSB8fCAwLFxyXG4gICAgICBwYWlkQW1vdW50OiBkYXRhPy5maWx0ZXIoZSA9PiBlLnN0YXR1cyA9PT0gJ3BhaWQnKS5yZWR1Y2UoKHN1bSwgZSkgPT4gc3VtICsgKGUuYW1vdW50IHx8IDApLCAwKSB8fCAwXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBzdGF0cztcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignVW5leHBlY3RlZCBlcnJvciBpbiBnZXRFeHBlbnNlU3RhdGlzdGljc0J5QnJhbmNoOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHRvdGFsOiAwLFxyXG4gICAgICBwZW5kaW5nOiAwLFxyXG4gICAgICBhcHByb3ZlZDogMCxcclxuICAgICAgcmVqZWN0ZWQ6IDAsXHJcbiAgICAgIHBhaWQ6IDAsXHJcbiAgICAgIHRvdGFsQW1vdW50OiAwLFxyXG4gICAgICBwZW5kaW5nQW1vdW50OiAwLFxyXG4gICAgICBhcHByb3ZlZEFtb3VudDogMCxcclxuICAgICAgcmVqZWN0ZWRBbW91bnQ6IDAsXHJcbiAgICAgIHBhaWRBbW91bnQ6IDBcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RXhwZW5zZXNCeVN0YXR1cyhzdGF0dXM6IHN0cmluZywgYnJhbmNoSWQ/OiBzdHJpbmcpIHtcclxuICB0cnkge1xyXG4gICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2V4cGVuc2VzJylcclxuICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgKixcclxuICAgICAgICBicmFuY2hlczpicmFuY2hfaWQgKCopLFxyXG4gICAgICAgIHVzZXJzOnJlcXVlc3RlZF9ieSAoKilcclxuICAgICAgYClcclxuICAgICAgLmVxKCdzdGF0dXMnLCBzdGF0dXMpXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuXHJcbiAgICBpZiAoYnJhbmNoSWQgJiYgYnJhbmNoSWQgIT09ICdhbGwnKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ2JyYW5jaF9pZCcsIGJyYW5jaElkKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgJHtzdGF0dXN9IGV4cGVuc2VzOmAsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogW10sIGVycm9yIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgZGF0YTogZGF0YSB8fCBbXSwgZXJyb3I6IG51bGwgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignVW5leHBlY3RlZCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBbXSwgZXJyb3IgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEFkZGl0aW9uYWwgRnVuY3Rpb25zXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWJzZW50RW1wbG95ZWVzVG9kYXkoKTogUHJvbWlzZTxFbXBsb3llZVtdPiB7XHJcbiAgY29uc29sZS5sb2coXCJbdjBdIGdldEFic2VudEVtcGxveWVlc1RvZGF5IGNhbGxlZFwiKVxyXG5cclxuICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZGF0YTogYWN0aXZlRW1wbG95ZWVzLCBlcnJvcjogZW1wbG95ZWVzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwidXNlcnNcIilcclxuICAgICAgLnNlbGVjdChcIipcIilcclxuICAgICAgLmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpXHJcbiAgICAgIC5vcmRlcihcIm5hbWVcIilcclxuXHJcbiAgICBpZiAoZW1wbG95ZWVzRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIlt2MF0gRXJyb3IgZmV0Y2hpbmcgYWN0aXZlIGVtcGxveWVlczpcIiwgZW1wbG95ZWVzRXJyb3IpXHJcbiAgICAgIHJldHVybiBbXVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YTogdG9kYXlBdHRlbmRhbmNlLCBlcnJvcjogYXR0ZW5kYW5jZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcImF0dGVuZGFuY2VcIilcclxuICAgICAgLnNlbGVjdChcInVzZXJfaWRcIilcclxuICAgICAgLmVxKFwiZGF0ZVwiLCB0b2RheSlcclxuXHJcbiAgICBpZiAoYXR0ZW5kYW5jZUVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbdjBdIEVycm9yIGZldGNoaW5nIHRvZGF5J3MgYXR0ZW5kYW5jZTpcIiwgYXR0ZW5kYW5jZUVycm9yKVxyXG4gICAgICByZXR1cm4gW11cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwcmVzZW50RW1wbG95ZWVJZHMgPSBuZXcgU2V0KHRvZGF5QXR0ZW5kYW5jZT8ubWFwKChhKSA9PiBhLnVzZXJfaWQpIHx8IFtdKVxyXG4gICAgY29uc3QgYWJzZW50RW1wbG95ZWVzID0gYWN0aXZlRW1wbG95ZWVzPy5maWx0ZXIoKGVtcGxveWVlKSA9PiAhcHJlc2VudEVtcGxveWVlSWRzLmhhcyhlbXBsb3llZS5pZCkpIHx8IFtdXHJcblxyXG4gICAgY29uc3QgdHJhbnNmb3JtZWRBYnNlbnRFbXBsb3llZXM6IEVtcGxveWVlW10gPSBhYnNlbnRFbXBsb3llZXMubWFwKCh1c2VyOiBhbnkpID0+ICh7XHJcbiAgICAgIGlkOiB1c2VyLmlkLFxyXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsIHx8IFwiXCIsXHJcbiAgICAgIHBob25lOiB1c2VyLnBob25lIHx8IFwiXCIsXHJcbiAgICAgIHBvc2l0aW9uOiB1c2VyLnBvc2l0aW9uIHx8IFwiZW1wbG95ZWVcIixcclxuICAgICAgc3RhdHVzOiB1c2VyLnN0YXR1cyB8fCBcImFjdGl2ZVwiLFxyXG4gICAgICBhdmF0YXI6IGAvcGxhY2Vob2xkZXIuc3ZnP2hlaWdodD00MCZ3aWR0aD00MCZxdWVyeT0ke2VuY29kZVVSSUNvbXBvbmVudCh1c2VyLm5hbWUpfWAsXHJcbiAgICAgIHJhdGluZzogNC41LFxyXG4gICAgICBiYXNlU2FsYXJ5OiA1MDAwMDAwLFxyXG4gICAgICBhdHRlbmRhbmNlUmF0ZTogOTUsXHJcbiAgICAgIGN1cnJlbnRNb250aEN1c3RvbWVyczogMCxcclxuICAgICAgdG90YWxDdXN0b21lcnM6IDAsXHJcbiAgICAgIHByZXNlbnREYXlzOiAwLFxyXG4gICAgICB0b3RhbFdvcmtEYXlzOiAwLFxyXG4gICAgICBsYXRlRGF5czogMCxcclxuICAgICAgb3ZlcnRpbWVIb3VyczogMCxcclxuICAgICAgb3ZlcnRpbWVSYXRlOiAyNTAwMCxcclxuICAgICAgYm9udXNQb2ludHM6IDAsXHJcbiAgICAgIHBlbmFsdHlQb2ludHM6IDAsXHJcbiAgICAgIGNvbW1pc3Npb25SYXRlOiAwLjA1LFxyXG4gICAgICBqb2luRGF0ZTogdXNlci5jcmVhdGVkX2F0LFxyXG4gICAgICBrYXNib25CYWxhbmNlOiAwLFxyXG4gICAgICBrYXNib25MaW1pdDogMjAwMDAwMCxcclxuICAgICAgbW9udGhseVJldmVudWU6IFwiMFwiLFxyXG4gICAgICBwaW46IHVzZXIucGluIHx8IFwiXCIsXHJcbiAgICB9KSlcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIlt2MF0gRm91bmQgYWJzZW50IGVtcGxveWVlczpcIiwgdHJhbnNmb3JtZWRBYnNlbnRFbXBsb3llZXMubGVuZ3RoKVxyXG4gICAgcmV0dXJuIHRyYW5zZm9ybWVkQWJzZW50RW1wbG95ZWVzXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJbdjBdIEVycm9yIGluIGdldEFic2VudEVtcGxveWVlc1RvZGF5OlwiLCBlcnJvcilcclxuICAgIHJldHVybiBbXVxyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQXR0ZW5kYW5jZSBNYW5hZ2VtZW50IEZ1bmN0aW9uc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RGV0YWlsZWRBdHRlbmRhbmNlUmVjb3JkcyhkYXRlPzogc3RyaW5nKSB7XHJcbiAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcclxuICAgIC5mcm9tKFwiYXR0ZW5kYW5jZVwiKVxyXG4gICAgLnNlbGVjdChgKixcclxuICAgICAgdXNlcnM6dXNlcl9pZCAoXHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBlbWFpbCxcclxuICAgICAgICBwb3NpdGlvbixcclxuICAgICAgICBicmFuY2hfaWRcclxuICAgICAgKSxcclxuICAgICAgYnJhbmNoZXM6YnJhbmNoX2lkIChcclxuICAgICAgICBpZCxcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGFkZHJlc3MsXHJcbiAgICAgICAgc2hpZnRzXHJcbiAgICAgIClcclxuICAgIGApXHJcbiAgICAub3JkZXIoXCJkYXRlXCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG4gICAgLm9yZGVyKFwiY3JlYXRlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuXHJcbiAgaWYgKGRhdGUpIHtcclxuICAgIHF1ZXJ5ID0gcXVlcnkuZXEoXCJkYXRlXCIsIGRhdGUpXHJcbiAgfVxyXG5cclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeVxyXG5cclxuICBpZiAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJbdjBdIEVycm9yIGZldGNoaW5nIGRldGFpbGVkIGF0dGVuZGFuY2U6XCIsIGVycm9yKVxyXG4gICAgcmV0dXJuIHsgZGF0YTogW10sIGVycm9yIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7IGRhdGE6IGRhdGEgfHwgW10sIGVycm9yOiBudWxsIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gT1VUTEVUIFNUT0NLIE1BTkFHRU1FTlRcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgT3V0bGV0U3RvY2sge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgb3V0bGV0X2lkOiBzdHJpbmc7XHJcbiAgc2VydmljZV9pZDogc3RyaW5nO1xyXG4gIHN0b2NrX3F1YW50aXR5OiBudW1iZXI7XHJcbiAgbWluX3N0b2NrX3RocmVzaG9sZDogbnVtYmVyO1xyXG4gIGlzX2FjdGl2ZTogYm9vbGVhbjtcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xyXG4gIHNlcnZpY2U/OiBTZXJ2aWNlV2l0aENhdGVnb3J5O1xyXG4gIGJyYW5jaD86IEJyYW5jaDtcclxufVxyXG5cclxuLy8g8J+UpSBHRVQgc3RvY2sgcGVyIG91dGxldFxyXG5leHBvcnQgY29uc3QgZ2V0T3V0bGV0U3RvY2sgPSBhc3luYyAob3V0bGV0SWQ6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBPdXRsZXRTdG9ja1tdIHwgbnVsbDsgZXJyb3I6IGFueSB9PiA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdvdXRsZXRfc3RvY2snKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLmVxKCdvdXRsZXRfaWQnLCBvdXRsZXRJZClcclxuICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBvdXRsZXQgc3RvY2s6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1VuZXhwZWN0ZWQgZXJyb3IgaW4gZ2V0T3V0bGV0U3RvY2s6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcclxuICB9XHJcbn07XHJcblxyXG4vLyDwn5SlIFVQREFURSBzdG9jayBwZXIgb3V0bGV0ICh3aXRoIFVQU0VSVClcclxuZXhwb3J0IGNvbnN0IHVwZGF0ZU91dGxldFN0b2NrID0gYXN5bmMgKFxyXG4gIG91dGxldElkOiBzdHJpbmcsIFxyXG4gIHNlcnZpY2VJZDogc3RyaW5nLCBcclxuICBuZXdTdG9jazogbnVtYmVyXHJcbik6IFByb21pc2U8eyBkYXRhOiBPdXRsZXRTdG9jayB8IG51bGw7IGVycm9yOiBhbnkgfT4gPT4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBVc2UgdXBzZXJ0IHRvIGNyZWF0ZSBpZiBub3QgZXhpc3RzLCB1cGRhdGUgaWYgZXhpc3RzXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnb3V0bGV0X3N0b2NrJylcclxuICAgICAgLnVwc2VydCh7IFxyXG4gICAgICAgIG91dGxldF9pZDogb3V0bGV0SWQsXHJcbiAgICAgICAgc2VydmljZV9pZDogc2VydmljZUlkLFxyXG4gICAgICAgIHN0b2NrX3F1YW50aXR5OiBuZXdTdG9jayxcclxuICAgICAgICBpc19hY3RpdmU6IHRydWUsXHJcbiAgICAgICAgbWluX3N0b2NrX3RocmVzaG9sZDogNSwgLy8gZGVmYXVsdCB2YWx1ZVxyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgb25Db25mbGljdDogJ291dGxldF9pZCxzZXJ2aWNlX2lkJ1xyXG4gICAgICB9KVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBvdXRsZXQgc3RvY2s6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1VuZXhwZWN0ZWQgZXJyb3IgaW4gdXBkYXRlT3V0bGV0U3RvY2s6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcclxuICB9XHJcbn07XHJcblxyXG4vLyDwn5SlIEdFVCBsb3cgc3RvY2sgYWxlcnRzIChGSVhFRCBWRVJTSU9OKVxyXG5leHBvcnQgY29uc3QgZ2V0TG93U3RvY2tBbGVydHMgPSBhc3luYyAoKTogUHJvbWlzZTx7IGRhdGE6IE91dGxldFN0b2NrW10gfCBudWxsOyBlcnJvcjogYW55IH0+ID0+IHtcclxuICB0cnkge1xyXG4gICAgLy8gR2V0IGFsbCBvdXRsZXQgc3RvY2sgKG5vIGpvaW5zIG5lZWRlZClcclxuICAgIGNvbnN0IHsgZGF0YTogYWxsU3RvY2ssIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnb3V0bGV0X3N0b2NrJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnaXNfYWN0aXZlJywgdHJ1ZSk7XHJcblxyXG4gICAgaWYgKGZldGNoRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgb3V0bGV0IHN0b2NrOicsIGZldGNoRXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZmV0Y2hFcnJvciB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZpbHRlciBtYW51YWxseSBmb3IgbG93IHN0b2NrXHJcbiAgICBjb25zdCBsb3dTdG9jayA9IChhbGxTdG9jayB8fCBbXSkuZmlsdGVyKGl0ZW0gPT4gXHJcbiAgICAgIGl0ZW0uc3RvY2tfcXVhbnRpdHkgPD0gaXRlbS5taW5fc3RvY2tfdGhyZXNob2xkXHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiB7IGRhdGE6IGxvd1N0b2NrLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdVbmV4cGVjdGVkIGVycm9yIGluIGdldExvd1N0b2NrQWxlcnRzOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XHJcbiAgfVxyXG59O1xyXG5cclxuLy8g8J+UpSBSRURVQ0Ugc3RvY2sga2V0aWthIHRlcmphZGkgdHJhbnNha3NpXHJcbi8vIPCflKUgUkVEVUNFIHN0b2NrIGtldGlrYSB0ZXJqYWRpIHRyYW5zYWtzaSAoRklYRUQpXHJcbmV4cG9ydCBjb25zdCByZWR1Y2VPdXRsZXRTdG9jayA9IGFzeW5jIChcclxuICBvdXRsZXRJZDogc3RyaW5nLFxyXG4gIHNlcnZpY2VJZDogc3RyaW5nLFxyXG4gIHF1YW50aXR5OiBudW1iZXJcclxuKTogUHJvbWlzZTx7IGRhdGE6IE91dGxldFN0b2NrIHwgbnVsbDsgZXJyb3I6IGFueSB9PiA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIEdldCBjdXJyZW50IHN0b2NrXHJcbiAgICBjb25zdCB7IGRhdGE6IGN1cnJlbnRTdG9jaywgZXJyb3I6IGZldGNoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdvdXRsZXRfc3RvY2snKVxyXG4gICAgICAuc2VsZWN0KCdzdG9ja19xdWFudGl0eScpXHJcbiAgICAgIC5lcSgnb3V0bGV0X2lkJywgb3V0bGV0SWQpXHJcbiAgICAgIC5lcSgnc2VydmljZV9pZCcsIHNlcnZpY2VJZClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChmZXRjaEVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGN1cnJlbnQgc3RvY2s6JywgZmV0Y2hFcnJvcik7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBmZXRjaEVycm9yIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3U3RvY2sgPSBNYXRoLm1heCgwLCAoY3VycmVudFN0b2NrPy5zdG9ja19xdWFudGl0eSB8fCAwKSAtIHF1YW50aXR5KTtcclxuXHJcbiAgICAvLyBVcGRhdGUgc3RvY2tcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdvdXRsZXRfc3RvY2snKVxyXG4gICAgICAudXBkYXRlKHsgXHJcbiAgICAgICAgc3RvY2tfcXVhbnRpdHk6IG5ld1N0b2NrLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9KVxyXG4gICAgICAuZXEoJ291dGxldF9pZCcsIG91dGxldElkKVxyXG4gICAgICAuZXEoJ3NlcnZpY2VfaWQnLCBzZXJ2aWNlSWQpXHJcbiAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICosXHJcbiAgICAgICAgc2VydmljZTpzZXJ2aWNlcygqLCBzZXJ2aWNlX2NhdGVnb3JpZXMoKikpLFxyXG4gICAgICAgIGJyYW5jaDpvdXRsZXRfaWQoKilcclxuICAgICAgYClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWR1Y2luZyBvdXRsZXQgc3RvY2s6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1VuZXhwZWN0ZWQgZXJyb3IgaW4gcmVkdWNlT3V0bGV0U3RvY2s6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcclxuICB9XHJcbn07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQT1MgSGVscGVyIEZ1bmN0aW9uc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGNvbnN0IGxvYWRCcmFuY2hlc0RhdGEgPSBhc3luYyAoc3VwYWJhc2U6IGFueSwgc2V0QnJhbmNoZXM6IGFueSwgc2V0U2VsZWN0ZWRCcmFuY2g6IGFueSkgPT4ge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJicmFuY2hlc1wiKS5zZWxlY3QoXCIqXCIpXHJcbiAgaWYgKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBicmFuY2hlczpcIiwgZXJyb3IpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgc2V0QnJhbmNoZXMoZGF0YSlcclxuICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICBzZXRTZWxlY3RlZEJyYW5jaChkYXRhWzBdLm5hbWUpXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgbG9hZEJyYW5jaERhdGEgPSBhc3luYyAoc3VwYWJhc2U6IGFueSwgc2V0UmVjZWlwdFRlbXBsYXRlOiBhbnksIHNldEJyYW5jaEluZm86IGFueSkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwiW3YwXSBMb2FkaW5nIGJyYW5jaCBhbmQgdGVtcGxhdGUgZGF0YS4uLlwiKVxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGRhdGE6IHRlbXBsYXRlRGF0YSwgZXJyb3I6IHRlbXBsYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwicmVjZWlwdF90ZW1wbGF0ZXNcIilcclxuICAgICAgLnNlbGVjdChcIipcIilcclxuICAgICAgLmVxKFwiaXNfYWN0aXZlXCIsIHRydWUpXHJcbiAgICAgIC5zaW5nbGUoKVxyXG5cclxuICAgIGlmICh0ZW1wbGF0ZUVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHJlY2VpcHQgdGVtcGxhdGU6XCIsIHRlbXBsYXRlRXJyb3IpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIlt2MF0gTG9hZGVkIGFjdGl2ZSB0ZW1wbGF0ZTpcIiwgdGVtcGxhdGVEYXRhKVxyXG4gICAgICBzZXRSZWNlaXB0VGVtcGxhdGUodGVtcGxhdGVEYXRhKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiW3YwXSBCcmFuY2ggZGF0YSBsb2FkaW5nIGNvbXBsZXRlZCB3aXRob3V0IG92ZXJyaWRpbmcgc2VsZWN0ZWRCcmFuY2hcIilcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgYnJhbmNoIGFuZCB0ZW1wbGF0ZSBkYXRhOlwiLCBlcnJvcilcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBwcm9jZXNzVHJhbnNhY3Rpb24gPSBhc3luYyAoXHJcbiAgc3VwYWJhc2U6IGFueSxcclxuICBicmFuY2hlczogYW55W10sXHJcbiAgc2VsZWN0ZWRCcmFuY2g6IHN0cmluZyxcclxuICBjYXJ0OiBhbnlbXSxcclxuICBjdXJyZW50VXNlcjogYW55LFxyXG4gIHBheW1lbnRNZXRob2Q6IHN0cmluZyxcclxuICBjdXN0b21lck5hbWU6IHN0cmluZyxcclxuICBkaXNjb3VudFJlYXNvbjogc3RyaW5nLFxyXG4gIGdldFRvdGFsUHJpY2U6ICgpID0+IG51bWJlcixcclxuICBnZXREaXNjb3VudEFtb3VudDogKCkgPT4gbnVtYmVyLFxyXG4gIGdldEZpbmFsVG90YWw6ICgpID0+IG51bWJlcixcclxuKSA9PiB7XHJcbiAgY29uc3Qgc2VsZWN0ZWRCcmFuY2hEYXRhID0gYnJhbmNoZXMuZmluZCgoYikgPT4gYi5uYW1lID09PSBzZWxlY3RlZEJyYW5jaClcclxuXHJcbiAgaWYgKCFzZWxlY3RlZEJyYW5jaERhdGE/LmlkKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhIGNhYmFuZyB0aWRhayBkaXRlbXVrYW5cIilcclxuICB9XHJcblxyXG4gIGNvbnN0IHJlY2VpcHROdW1iZXIgPSBgJHtuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCl9JHtTdHJpbmcobmV3IERhdGUoKS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpfSR7U3RyaW5nKG5ldyBEYXRlKCkuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIil9JHtTdHJpbmcoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMCkpLnBhZFN0YXJ0KDMsIFwiMFwiKX1gXHJcblxyXG4gIGNvbnN0IHRyYW5zYWN0aW9uRGF0YSA9IHtcclxuICAgIHJlY2VpcHRfbnVtYmVyOiByZWNlaXB0TnVtYmVyLFxyXG4gICAgYnJhbmNoX2lkOiBzZWxlY3RlZEJyYW5jaERhdGEuaWQsXHJcbiAgICB0b3RhbF9hbW91bnQ6IGdldFRvdGFsUHJpY2UoKSxcclxuICAgIGRpc2NvdW50X2Ftb3VudDogZ2V0RGlzY291bnRBbW91bnQoKSxcclxuICAgIGZpbmFsX2Ftb3VudDogZ2V0RmluYWxUb3RhbCgpLFxyXG4gICAgcGF5bWVudF9tZXRob2Q6IHBheW1lbnRNZXRob2QsXHJcbiAgICBjdXN0b21lcl9uYW1lOiBjdXN0b21lck5hbWUgfHwgbnVsbCxcclxuICAgIG5vdGVzOiBkaXNjb3VudFJlYXNvbiB8fCBudWxsLFxyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coXCJbdjBdIENyZWF0aW5nIHRyYW5zYWN0aW9uIHdpdGggY29ycmVjdCBicmFuY2hfaWQ6XCIsIHRyYW5zYWN0aW9uRGF0YSlcclxuICByZXR1cm4gdHJhbnNhY3Rpb25EYXRhXHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIPCflKUgRlVOR1NJIEJBUlU6IFNldHVwIFJlYWx0aW1lIFN1YnNjcmlwdGlvbiB1bnR1ayBUcmFuc2Frc2lcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGNvbnN0IHNldHVwVHJhbnNhY3Rpb25zUmVhbHRpbWUgPSAoY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IHtcclxuICBjb25zdCBjaGFubmVsID0gc3VwYWJhc2VcclxuICAgIC5jaGFubmVsKCd0cmFuc2FjdGlvbnMtZ2xvYmFsJylcclxuICAgIC5vbigncG9zdGdyZXNfY2hhbmdlcycsIFxyXG4gICAgICB7IFxyXG4gICAgICAgIGV2ZW50OiAnKicsIFxyXG4gICAgICAgIHNjaGVtYTogJ3B1YmxpYycsIFxyXG4gICAgICAgIHRhYmxlOiAndHJhbnNhY3Rpb25zJyBcclxuICAgICAgfSwgXHJcbiAgICAgIChwYXlsb2FkKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1RyYW5zYWN0aW9uIGNoYW5nZSBkZXRlY3RlZDonLCBwYXlsb2FkKTtcclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICB9XHJcbiAgICApXHJcbiAgICAub24oJ3Bvc3RncmVzX2NoYW5nZXMnLFxyXG4gICAgICB7XHJcbiAgICAgICAgZXZlbnQ6ICcqJyxcclxuICAgICAgICBzY2hlbWE6ICdwdWJsaWMnLFxyXG4gICAgICAgIHRhYmxlOiAndHJhbnNhY3Rpb25faXRlbXMnXHJcbiAgICAgIH0sXHJcbiAgICAgIChwYXlsb2FkKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1RyYW5zYWN0aW9uIGl0ZW0gY2hhbmdlIGRldGVjdGVkOicsIHBheWxvYWQpO1xyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgIH1cclxuICAgIClcclxuICAgIC5zdWJzY3JpYmUoKHN0YXR1cykgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnUmVhbHRpbWUgc3Vic2NyaXB0aW9uIHN0YXR1czonLCBzdGF0dXMpO1xyXG4gICAgfSk7XHJcblxyXG4gIHJldHVybiBjaGFubmVsO1xyXG59O1xyXG5cclxuLy8g8J+UpSBGVU5HU0kgQkFSVTogU2V0dXAgUmVhbHRpbWUgdW50dWsgS29taXNpXHJcbmV4cG9ydCBjb25zdCBzZXR1cEtvbWlzaVJlYWx0aW1lID0gKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgY29uc3QgY2hhbm5lbCA9IHN1cGFiYXNlXHJcbiAgICAuY2hhbm5lbCgna29taXNpLWdsb2JhbCcpXHJcbiAgICAub24oJ3Bvc3RncmVzX2NoYW5nZXMnLFxyXG4gICAgICB7XHJcbiAgICAgICAgZXZlbnQ6ICcqJyxcclxuICAgICAgICBzY2hlbWE6ICdwdWJsaWMnLFxyXG4gICAgICAgIHRhYmxlOiAnY29tbWlzc2lvbl9ydWxlcydcclxuICAgICAgfSxcclxuICAgICAgKHBheWxvYWQpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ29tbWlzc2lvbiBydWxlIGNoYW5nZSBkZXRlY3RlZDonLCBwYXlsb2FkKTtcclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICB9XHJcbiAgICApXHJcbiAgICAuc3Vic2NyaWJlKChzdGF0dXMpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ0tvbWlzaSBzdWJzY3JpcHRpb24gc3RhdHVzOicsIHN0YXR1cyk7XHJcbiAgICB9KTtcclxuXHJcbiAgcmV0dXJuIGNoYW5uZWw7XHJcbn07XHJcblxyXG4vLyDwn5SlIEZVTkdTSSBCQVJVOiBCcm9hZGNhc3QgRXZlbnQgdW50dWsgU2lua3JvbmlzYXNpIEdsb2JhbFxyXG5leHBvcnQgY29uc3QgYnJvYWRjYXN0VHJhbnNhY3Rpb25FdmVudCA9IGFzeW5jIChldmVudFR5cGU6IHN0cmluZywgcGF5bG9hZDogYW55KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHN1cGFiYXNlLmNoYW5uZWwoJ2dsb2JhbC1ldmVudHMnKS5zZW5kKHtcclxuICAgICAgdHlwZTogJ2Jyb2FkY2FzdCcsXHJcbiAgICAgIGV2ZW50OiBldmVudFR5cGUsXHJcbiAgICAgIHBheWxvYWQ6IHBheWxvYWRcclxuICAgIH0pO1xyXG4gICAgY29uc29sZS5sb2coYEJyb2FkY2FzdCBldmVudCAnJHtldmVudFR5cGV9JyBzZW50IHN1Y2Nlc3NmdWxseWApO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBicm9hZGNhc3RpbmcgZXZlbnQ6JywgZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIPCflKUgRlVOR1NJIEJBUlU6IExpc3RlbiB1bnR1ayBHbG9iYWwgRXZlbnRzXHJcbmV4cG9ydCBjb25zdCBzZXR1cEdsb2JhbEV2ZW50c0xpc3RlbmVyID0gKGNhbGxiYWNrOiAoZXZlbnQ6IHN0cmluZywgcGF5bG9hZDogYW55KSA9PiB2b2lkKSA9PiB7XHJcbiAgY29uc3QgY2hhbm5lbCA9IHN1cGFiYXNlLmNoYW5uZWwoJ2dsb2JhbC1ldmVudHMtbGlzdGVuZXInKVxyXG4gICAgLm9uKCdicm9hZGNhc3QnLCB7IGV2ZW50OiAnKicgfSwgKHBheWxvYWQpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ0dsb2JhbCBldmVudCByZWNlaXZlZDonLCBwYXlsb2FkKTtcclxuICAgICAgY2FsbGJhY2socGF5bG9hZC5ldmVudCwgcGF5bG9hZC5wYXlsb2FkKTtcclxuICAgIH0pXHJcbiAgICAuc3Vic2NyaWJlKCk7XHJcblxyXG4gIHJldHVybiBjaGFubmVsO1xyXG59O1xyXG5cclxuLy8g8J+UpSBGVU5HU0kgQkFSVTogU3Vic2NyaWJlIHRvIEV2ZW50c1xyXG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlVG9FdmVudHMgPSAoY2FsbGJhY2s6IChldmVudDogc3RyaW5nLCBwYXlsb2FkOiBhbnkpID0+IHZvaWQpID0+IHtcclxuICBjb25zdCBjaGFubmVsID0gc3VwYWJhc2UuY2hhbm5lbCgnZ2xvYmFsLWV2ZW50cy1saXN0ZW5lcicpXHJcbiAgICAub24oJ2Jyb2FkY2FzdCcsIHsgZXZlbnQ6ICcqJyB9LCAocGF5bG9hZCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnR2xvYmFsIGV2ZW50IHJlY2VpdmVkOicsIHBheWxvYWQpO1xyXG4gICAgICBjYWxsYmFjayhwYXlsb2FkLmV2ZW50LCBwYXlsb2FkLnBheWxvYWQpO1xyXG4gICAgfSlcclxuICAgIC5zdWJzY3JpYmUoKTtcclxuXHJcbiAgcmV0dXJuIGNoYW5uZWw7XHJcbn07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyDwn5SlIEZVTkdTSSBCQVJVOiBTZXR1cCBSZWFsdGltZSBTdWJzY3JpcHRpb24gdW50dWsgRW1wbG95ZWVcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGNvbnN0IHNldHVwRW1wbG95ZWVSZWFsdGltZSA9IChjYWxsYmFjazogKCkgPT4gdm9pZCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwiU2V0dGluZyB1cCBlbXBsb3llZSByZWFsdGltZSBzdWJzY3JpcHRpb25cIik7XHJcblxyXG4gIGNvbnN0IGNoYW5uZWwgPSBzdXBhYmFzZVxyXG4gICAgLmNoYW5uZWwoJ2VtcGxveWVlcy1nbG9iYWwnKVxyXG4gICAgLm9uKCdwb3N0Z3Jlc19jaGFuZ2VzJywgXHJcbiAgICAgIHsgXHJcbiAgICAgICAgZXZlbnQ6ICcqJywgXHJcbiAgICAgICAgc2NoZW1hOiAncHVibGljJywgXHJcbiAgICAgICAgdGFibGU6ICd1c2VycycgXHJcbiAgICAgIH0sIFxyXG4gICAgICAocGF5bG9hZCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdFbXBsb3llZSBjaGFuZ2UgZGV0ZWN0ZWQ6JywgcGF5bG9hZCk7XHJcbiAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgfVxyXG4gICAgKVxyXG4gICAgLm9uKCdwb3N0Z3Jlc19jaGFuZ2VzJyxcclxuICAgICAge1xyXG4gICAgICAgIGV2ZW50OiAnKicsXHJcbiAgICAgICAgc2NoZW1hOiAncHVibGljJyxcclxuICAgICAgICB0YWJsZTogJ3BvaW50cydcclxuICAgICAgfSxcclxuICAgICAgKHBheWxvYWQpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnUG9pbnRzIGNoYW5nZSBkZXRlY3RlZCAoYWZmZWN0cyBlbXBsb3llZSBzdGF0cyk6JywgcGF5bG9hZCk7XHJcbiAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgfVxyXG4gICAgKVxyXG4gICAgLm9uKCdwb3N0Z3Jlc19jaGFuZ2VzJyxcclxuICAgICAge1xyXG4gICAgICAgIGV2ZW50OiAnKicsXHJcbiAgICAgICAgc2NoZW1hOiAncHVibGljJyxcclxuICAgICAgICB0YWJsZTogJ2F0dGVuZGFuY2UnXHJcbiAgICAgIH0sXHJcbiAgICAgIChwYXlsb2FkKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0F0dGVuZGFuY2UgY2hhbmdlIGRldGVjdGVkOicsIHBheWxvYWQpO1xyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgIH1cclxuICAgIClcclxuICAgIC5zdWJzY3JpYmUoKHN0YXR1cykgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnRW1wbG95ZWUgcmVhbHRpbWUgc3Vic2NyaXB0aW9uIHN0YXR1czonLCBzdGF0dXMpO1xyXG4gICAgfSk7XHJcblxyXG4gIHJldHVybiBjaGFubmVsO1xyXG59O1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFwcHJvdmVkRXhwZW5zZXMoKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKFwi8J+UjSBGZXRjaGluZyBhcHByb3ZlZCBleHBlbnNlcy4uLlwiKTtcclxuICAgIFxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2V4cGVuc2VzJylcclxuICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgKixcclxuICAgICAgICBicmFuY2hlczpicmFuY2hfaWQgKCopXHJcbiAgICAgIGApXHJcbiAgICAgIC5pbignc3RhdHVzJywgWydhcHByb3ZlZCcsICdwYWlkJ10pXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGZldGNoaW5nIGFwcHJvdmVkIGV4cGVuc2VzOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogW10sIGVycm9yIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coXCLinIUgU3VjY2Vzc2Z1bGx5IGZldGNoZWQgYXBwcm92ZWQgZXhwZW5zZXM6XCIsIGRhdGE/Lmxlbmd0aCk7XHJcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgVW5leHBlY3RlZCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBkYXRhOiBbXSwgZXJyb3IgfTtcclxuICB9XHJcbn1cclxuLy8g8J+UpSBUQU1CQUhLQU4gZnVuZ3NpIGluaSBkaSBzdXBhYmFzZS50c1xyXG5leHBvcnQgY29uc3QgZ2V0T3duZXJQaW4gPSBhc3luYyAoKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgLnNlbGVjdCgncGluJylcclxuICAgICAgLmVxKCdwb3NpdGlvbicsICdvd25lcicpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IgfHwgIWRhdGEpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgb3duZXIgUElOOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuICcnOyAvLyBSZXR1cm4gZW1wdHkgc3RyaW5nIGlmIG5vdCBmb3VuZFxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkYXRhLnBpbiB8fCAnJztcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignVW5leHBlY3RlZCBlcnJvciBpbiBnZXRPd25lclBpbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG59O1xyXG4vLyDwn5SlIFRBTUJBSEtBTiBmdW5nc2kgaW5pIGRpIHN1cGFiYXNlLnRzXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyUGluID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nLCBuZXdQaW46IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBWYWxpZGFzaSBQSU4gNiBkaWdpdFxyXG4gICAgaWYgKG5ld1Bpbi5sZW5ndGggIT09IDYgfHwgIS9eXFxkKyQvLnRlc3QobmV3UGluKSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIFBJTiBmb3JtYXQnKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgIC51cGRhdGUoeyBwaW46IG5ld1BpbiB9KVxyXG4gICAgICAuZXEoJ2lkJywgdXNlcklkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgUElOOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdVbmV4cGVjdGVkIGVycm9yIGluIHVwZGF0ZVVzZXJQaW46JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufTsiXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJFcnJvciIsInN1cGFiYXNlIiwiYXV0aCIsInBlcnNpc3RTZXNzaW9uIiwiYXV0b1JlZnJlc2hUb2tlbiIsInJlYWx0aW1lIiwicGFyYW1zIiwiZXZlbnRzUGVyU2Vjb25kIiwiZ2xvYmFsIiwiaGVhZGVycyIsInRlc3RTdXBhYmFzZUNvbm5lY3Rpb24iLCJkYXRhIiwiZXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiY29uc29sZSIsImxvZyIsImdldEJ1c2luZXNzRGF5c0NvdW50Iiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImNvdW50IiwiY3VyRGF0ZSIsIkRhdGUiLCJnZXRUaW1lIiwiZGF5T2ZXZWVrIiwiZ2V0RGF5Iiwic2V0RGF0ZSIsImdldERhdGUiLCJnZXRCcmFuY2hTaGlmdHMiLCJicmFuY2hJZCIsImVxIiwib3JkZXIiLCJsZW5ndGgiLCJpZCIsImJyYW5jaF9pZCIsInNoaWZ0X25hbWUiLCJzaGlmdF90eXBlIiwic3RhcnRfdGltZSIsImVuZF90aW1lIiwiaXNfYWN0aXZlIiwiY3JlYXRlZF9hdCIsInRvSVNPU3RyaW5nIiwiY3JlYXRlQnJhbmNoU2hpZnQiLCJzaGlmdERhdGEiLCJzaGlmdFRvSW5zZXJ0IiwiaW5zZXJ0Iiwic2luZ2xlIiwidXBsb2FkUGhvdG9Ub1N1cGFiYXNlIiwiYmFzZTY0IiwiZmlsZW5hbWUiLCJiYXNlNjRUb0Jsb2IiLCJiYXNlNjREYXRhIiwiY29udGVudFR5cGUiLCJieXRlQ2hhcmFjdGVycyIsImF0b2IiLCJzcGxpdCIsImJ5dGVBcnJheXMiLCJvZmZzZXQiLCJzbGljZSIsImJ5dGVOdW1iZXJzIiwiQXJyYXkiLCJpIiwiY2hhckNvZGVBdCIsInB1c2giLCJVaW50OEFycmF5IiwiQmxvYiIsInR5cGUiLCJibG9iIiwic3RvcmFnZSIsInVwbG9hZCIsImNhY2hlQ29udHJvbCIsInVwc2VydCIsInB1YmxpY1VybERhdGEiLCJnZXRQdWJsaWNVcmwiLCJwdWJsaWNVcmwiLCJjcmVhdGVBdHRlbmRhbmNlUmVjb3JkIiwiYXR0ZW5kYW5jZURhdGEiLCJ1cGRhdGVBdHRlbmRhbmNlUmVjb3JkIiwidXBkYXRlcyIsInVwZGF0ZSIsInVwZGF0ZWRfYXQiLCJnZXRBdHRlbmRhbmNlQnlEYXRlIiwidXNlcklkIiwiZGF0ZSIsImNvZGUiLCJnZXRBbGxBdHRlbmRhbmNlUmVjb3JkcyIsInF1ZXJ5IiwiYXNjZW5kaW5nIiwiZ2V0U2VydmljZXNXaXRoQ2F0ZWdvcmllcyIsImdldFNlcnZpY2VDYXRlZ29yaWVzIiwiY3JlYXRlVHJhbnNhY3Rpb24iLCJ0cmFuc2FjdGlvbkRhdGEiLCJ0cmFuc2FjdGlvbk51bWJlciIsImdlbmVyYXRlVHJhbnNhY3Rpb25OdW1iZXIiLCJjYXNoaWVyX2lkIiwic2VydmVyX2lkIiwiY2FzaGllck5hbWUiLCJicmFuY2hOYW1lIiwic2VydmVyTmFtZSIsInVzZXJzIiwibGltaXQiLCJuYW1lIiwiY2FzaGllciIsImJyYW5jaGVzIiwiYnJhbmNoIiwic2VydmVyIiwidHJhbnNhY3Rpb25Ub0luc2VydCIsInRyYW5zYWN0aW9uX251bWJlciIsInJlY2VpcHRfbnVtYmVyIiwiY2FzaGllcl9uYW1lIiwiYnJhbmNoX25hbWUiLCJzZXJ2ZXJfbmFtZSIsInN1YnRvdGFsIiwidG90YWxfYW1vdW50IiwicGF5bWVudF9zdGF0dXMiLCJwYXltZW50X21ldGhvZCIsImRpc2NvdW50X2Ftb3VudCIsImNyZWF0ZVRyYW5zYWN0aW9uSXRlbXMiLCJpdGVtcyIsImVucmljaGVkSXRlbXMiLCJQcm9taXNlIiwiYWxsIiwibWFwIiwiaXRlbSIsInNlcnZpY2VfaWQiLCJzZXJ2aWNlIiwic2VydmljZV9uYW1lIiwic2VydmljZV90eXBlIiwic2VydmljZV9jYXRlZ29yeSIsInNlcnZpY2VfY2F0ZWdvcmllcyIsImdldFJlY2VpcHRUZW1wbGF0ZSIsImdldEFjdGl2ZVJlY2VpcHRUZW1wbGF0ZSIsImFjdGl2ZURhdGEiLCJhY3RpdmVFcnJvciIsImRlZmF1bHRRdWVyeSIsImRlZmF1bHREYXRhIiwiZGVmYXVsdEVycm9yIiwiZ2V0QnJhbmNoZXMiLCJycGMiLCJ0b2RheSIsImRhdGVTdHIiLCJyZXBsYWNlIiwidHJhbnNhY3Rpb25zIiwiZ3RlIiwibHQiLCJjb3VudGVyIiwidG9TdHJpbmciLCJwYWRTdGFydCIsIm5vdyIsImNoZWNrU2VydmljZVN0b2NrIiwic2VydmljZUlkIiwic3RvY2siLCJyZWR1Y2VTZXJ2aWNlU3RvY2siLCJxdWFudGl0eSIsImN1cnJlbnRTZXJ2aWNlIiwiZmV0Y2hFcnJvciIsImN1cnJlbnRTdG9jayIsIm5ld1N0b2NrIiwiTWF0aCIsIm1heCIsInVwZGF0ZVNlcnZpY2VTdG9jayIsImdldFVzZXJzV2l0aFBvaW50cyIsInVzZXJzUXVlcnkiLCJ1c2Vyc0Vycm9yIiwiYWxsUG9pbnRzIiwicG9pbnRzRXJyb3IiLCJ1c2Vyc1dpdGhDYWxjdWxhdGVkUG9pbnRzIiwidXNlciIsInVzZXJQb2ludHMiLCJmaWx0ZXIiLCJwb2ludCIsInVzZXJfaWQiLCJ0b3RhbFBvaW50cyIsInJlZHVjZSIsInN1bSIsInBvaW50c19lYXJuZWQiLCJjdXJyZW50TW9udGgiLCJnZXRNb250aCIsImN1cnJlbnRZZWFyIiwiZ2V0RnVsbFllYXIiLCJtb250aGx5UG9pbnRzIiwicG9pbnREYXRlIiwidG90YWxfcG9pbnRzIiwibW9udGhseV9wb2ludHMiLCJzb3J0ZWRVc2VycyIsInNvcnQiLCJhIiwiYiIsImluZGV4IiwicmFuayIsImdldFBvaW50c1N0YXRpc3RpY3MiLCJ0b3RhbEVtcGxveWVlcyIsInRvcFBlcmZvcm1lciIsImF2ZXJhZ2VQb2ludHMiLCJyb3VuZCIsImdldFBvaW50VHJhbnNhY3Rpb25zIiwidXNlcnNJbkJyYW5jaCIsInVzZXJJZHMiLCJ1IiwiaW4iLCJwb2ludHNEYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1lc3NhZ2UiLCJTZXQiLCJwIiwiQm9vbGVhbiIsInVzZXJzTWFwIiwiYWNjIiwiYnJhbmNoSWRzIiwiT2JqZWN0IiwidmFsdWVzIiwiYnJhbmNoZXNNYXAiLCJlbnJpY2hlZERhdGEiLCJhZGRQb2ludFRyYW5zYWN0aW9uIiwicG9pbnREYXRhIiwiZ2V0VXNlclBvaW50cyIsImdldEthc2JvblJlcXVlc3RzIiwic3RhdHVzRmlsdGVyIiwia2FzYm9uRGF0YSIsImsiLCJhcHByb3ZlcklkcyIsImFwcHJvdmVkX2J5IiwiYXBwcm92ZXJzTWFwIiwiYXBwcm92ZXJzIiwia2FzYm9uIiwiYXBwcm92ZXIiLCJnZXRLYXNib25TdGF0aXN0aWNzIiwicGVuZGluZ0Ftb3VudCIsImFwcHJvdmVkQW1vdW50IiwidG90YWxQYWlkIiwiYWN0aXZlRW1wbG95ZWVzIiwic3RhdHVzIiwiYW1vdW50IiwidXNlcnNEYXRhIiwic3RhdGlzdGljcyIsImdldFVzZXJzV2l0aEthc2JvbiIsImFsbEthc2JvbiIsImthc2JvbkVycm9yIiwidXNlcnNXaXRob3V0S2FzYm9uIiwidG90YWxfa2FzYm9uIiwiYWN0aXZlX2thc2JvbiIsImthc2Jvbl9oaXN0b3J5IiwidXNlcnNXaXRoS2FzYm9uRGF0YSIsInVzZXJLYXNib24iLCJ0b3RhbEthc2JvbiIsImFjdGl2ZUthc2JvbiIsImNyZWF0ZUthc2JvblJlcXVlc3QiLCJ1c2VyRXJyb3IiLCJrYXNib25Ub0luc2VydCIsInVzZXJfbmFtZSIsInJlcXVlc3RfZGF0ZSIsInVwZGF0ZUthc2JvblN0YXR1cyIsImthc2JvbklkIiwiYXBwcm92ZWRCeSIsInVwZGF0ZURhdGEiLCJhcHByb3ZlZF9hdCIsImdldEVtcGxveWVlQWJzZW5jZUluZm8iLCJlbXBsb3llZUlkIiwiZW1wbG95ZWUiLCJlbXBFcnJvciIsIm1heEFic2VudERheXMiLCJjdXJyZW50QWJzZW50RGF5cyIsInJlbWFpbmluZ0RheXMiLCJleGNlc3NEYXlzIiwiY3VycmVudERhdGUiLCJmaXJzdERheU9mTW9udGgiLCJsYXN0RGF5T2ZNb250aCIsImF0dGVuZGFuY2VFcnJvciIsImx0ZSIsIm1heF9hYnNlbnRfZGF5cyIsInJlY29yZCIsInVwZGF0ZU1heEFic2VudERheXMiLCJtYXhEYXlzIiwiZ2V0RW1wbG95ZWVzIiwidXNlcnNDb3VudCIsImhhc0Vycm9yIiwiZmlyc3RVc2VyIiwiZW1wbG95ZWVzIiwiZW1haWwiLCJwaG9uZSIsInBvc2l0aW9uIiwic2FsYXJ5IiwiYmFzZVNhbGFyeSIsImNvbW1pc3Npb25SYXRlIiwiY29tbWlzc2lvbl9yYXRlIiwicGluIiwidG90YWxCb251cyIsInRvdGFsUGVuYWx0eSIsInJhdGluZyIsImF0dGVuZGFuY2VSYXRlIiwiY3VycmVudE1vbnRoQ3VzdG9tZXJzIiwidG90YWxDdXN0b21lcnMiLCJwcmVzZW50RGF5cyIsInRvdGFsV29ya0RheXMiLCJsYXRlRGF5cyIsIm92ZXJ0aW1lSG91cnMiLCJvdmVydGltZVJhdGUiLCJib251c1BvaW50cyIsInBlbmFsdHlQb2ludHMiLCJrYXNib25CYWxhbmNlIiwia2FzYm9uTGltaXQiLCJtb250aGx5UmV2ZW51ZSIsIlN0cmluZyIsImFkZEVtcGxveWVlIiwidXNlckRhdGEiLCJ1cGRhdGVFbXBsb3llZSIsImRlbGV0ZUVtcGxveWVlIiwiZXhpc3RpbmdVc2VyIiwiY2hlY2tFcnJvciIsImUiLCJnZXRFbXBsb3llZVN0YXRzIiwidHJhbnNhY3Rpb25zRXJyb3IiLCJ0b3RhbFRyYW5zYWN0aW9ucyIsInRvdGFsUmV2ZW51ZSIsInQiLCJhdmVyYWdlVHJhbnNhY3Rpb24iLCJ0b3RhbENvbW1pc3Npb24iLCJjb21taXNzaW9uRGF0YSIsImNvbW1pc3Npb25FcnJvciIsImNvbW1pc3Npb25fYW1vdW50IiwiZm9yRWFjaCIsImFicyIsInN0YXRzIiwiZ2V0RW1wbG95ZWVDb21taXNzaW9ucyIsImdldEVtcGxveWVlQXR0ZW5kYW5jZSIsImNoZWNrX2luX3RpbWUiLCJjaGVja0luVGltZSIsInRvdGFsSG91cnMiLCJ0b3RhbF9ob3VycyIsInJlZ3VsYXJIb3VycyIsImdldEVtcGxveWVlUGhvdG9zIiwib3IiLCJhdHRlbmRhbmNlV2l0aERldGFpbHMiLCJjaGVja19vdXRfdGltZSIsImJyZWFrX3N0YXJ0X3RpbWUiLCJicmVha19lbmRfdGltZSIsImJyZWFrX2R1cmF0aW9uIiwiY2hlY2tfaW5fcGhvdG8iLCJjaGVja19vdXRfcGhvdG8iLCJ1bmRlZmluZWQiLCJhZGRyZXNzIiwiZ2V0RW1wbG95ZWVBdHRlbmRhbmNlV2l0aFBob3RvcyIsImRheXMiLCJzdGFydERhdGVTdHIiLCJlbmREYXRlU3RyIiwiZGF0YUxlbmd0aCIsImF0dGVuZGFuY2VSZWNvcmRzIiwiciIsImdldEN1cnJlbnRVc2VyIiwiZ2V0VXNlciIsImdldEF1dGhVc2VyUHJvZmlsZSIsImF1dGhEYXRhIiwiY3JlYXRlVXNlclByb2ZpbGVGcm9tQXV0aCIsImF1dGhFcnJvciIsImFkbWluIiwiZ2V0VXNlckJ5SWQiLCJuZXdVc2VyIiwiaW5zZXJ0RXJyb3IiLCJ1cGRhdGVFeHBlbnNlUmVxdWVzdCIsImV4cGVuc2VJZCIsImV4cGVuc2VEYXRhIiwiZGVsZXRlRXhwZW5zZVJlcXVlc3QiLCJkZWxldGUiLCJnZXRFeHBlbnNlcyIsImdldEV4cGVuc2VTdGF0aXN0aWNzIiwidG90YWxFeHBlbnNlcyIsImF2ZXJhZ2VQZXJUcmFuc2FjdGlvbiIsImV4cGVuc2UiLCJ0cmFuc2FjdGlvbkNvdW50IiwiY3JlYXRlRXhwZW5zZVJlcXVlc3QiLCJleHBlbnNlVG9JbnNlcnQiLCJjYXRlZ29yeSIsImRlc2NyaXB0aW9uIiwibm90ZXMiLCJleHBlbnNlX2RhdGUiLCJnZXRBbGxFeHBlbnNlc1dpdGhEZXRhaWxzIiwidXBkYXRlRXhwZW5zZVN0YXR1cyIsInJlamVjdGlvblJlYXNvbiIsInJlamVjdGlvbl9yZWFzb24iLCJnZXRFeHBlbnNlU3RhdGlzdGljc0J5QnJhbmNoIiwidG90YWwiLCJwZW5kaW5nIiwiYXBwcm92ZWQiLCJyZWplY3RlZCIsInBhaWQiLCJ0b3RhbEFtb3VudCIsInJlamVjdGVkQW1vdW50IiwicGFpZEFtb3VudCIsImdldEV4cGVuc2VzQnlTdGF0dXMiLCJnZXRBYnNlbnRFbXBsb3llZXNUb2RheSIsImVtcGxveWVlc0Vycm9yIiwidG9kYXlBdHRlbmRhbmNlIiwicHJlc2VudEVtcGxveWVlSWRzIiwiYWJzZW50RW1wbG95ZWVzIiwiaGFzIiwidHJhbnNmb3JtZWRBYnNlbnRFbXBsb3llZXMiLCJhdmF0YXIiLCJlbmNvZGVVUklDb21wb25lbnQiLCJqb2luRGF0ZSIsImdldERldGFpbGVkQXR0ZW5kYW5jZVJlY29yZHMiLCJnZXRPdXRsZXRTdG9jayIsIm91dGxldElkIiwidXBkYXRlT3V0bGV0U3RvY2siLCJvdXRsZXRfaWQiLCJzdG9ja19xdWFudGl0eSIsIm1pbl9zdG9ja190aHJlc2hvbGQiLCJvbkNvbmZsaWN0IiwiZ2V0TG93U3RvY2tBbGVydHMiLCJhbGxTdG9jayIsImxvd1N0b2NrIiwicmVkdWNlT3V0bGV0U3RvY2siLCJsb2FkQnJhbmNoZXNEYXRhIiwic2V0QnJhbmNoZXMiLCJzZXRTZWxlY3RlZEJyYW5jaCIsImxvYWRCcmFuY2hEYXRhIiwic2V0UmVjZWlwdFRlbXBsYXRlIiwic2V0QnJhbmNoSW5mbyIsInRlbXBsYXRlRGF0YSIsInRlbXBsYXRlRXJyb3IiLCJwcm9jZXNzVHJhbnNhY3Rpb24iLCJzZWxlY3RlZEJyYW5jaCIsImNhcnQiLCJjdXJyZW50VXNlciIsInBheW1lbnRNZXRob2QiLCJjdXN0b21lck5hbWUiLCJkaXNjb3VudFJlYXNvbiIsImdldFRvdGFsUHJpY2UiLCJnZXREaXNjb3VudEFtb3VudCIsImdldEZpbmFsVG90YWwiLCJzZWxlY3RlZEJyYW5jaERhdGEiLCJmaW5kIiwicmVjZWlwdE51bWJlciIsImZsb29yIiwicmFuZG9tIiwiZmluYWxfYW1vdW50IiwiY3VzdG9tZXJfbmFtZSIsInNldHVwVHJhbnNhY3Rpb25zUmVhbHRpbWUiLCJjYWxsYmFjayIsImNoYW5uZWwiLCJvbiIsImV2ZW50Iiwic2NoZW1hIiwidGFibGUiLCJwYXlsb2FkIiwic3Vic2NyaWJlIiwic2V0dXBLb21pc2lSZWFsdGltZSIsImJyb2FkY2FzdFRyYW5zYWN0aW9uRXZlbnQiLCJldmVudFR5cGUiLCJzZW5kIiwic2V0dXBHbG9iYWxFdmVudHNMaXN0ZW5lciIsInN1YnNjcmliZVRvRXZlbnRzIiwic2V0dXBFbXBsb3llZVJlYWx0aW1lIiwiZ2V0QXBwcm92ZWRFeHBlbnNlcyIsImdldE93bmVyUGluIiwidXBkYXRlVXNlclBpbiIsIm5ld1BpbiIsInRlc3QiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/supabase.ts\n"));

/***/ })

});